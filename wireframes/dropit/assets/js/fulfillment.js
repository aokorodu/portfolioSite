/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/pages/Fulfillment/index.jsx":
/*!*****************************************!*\
  !*** ./src/pages/Fulfillment/index.jsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _crutch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./crutch */ \"./src/pages/Fulfillment/crutch/index.js\");\nvar _arguments = typeof arguments === \"undefined\" ? void 0 : arguments;\n/* eslint-disable */\nwindow.logEngagement = function () {\n  return console.log('logEngagement missing :/', _arguments);\n};\n\n\n//# sourceURL=webpack://wireframes/./src/pages/Fulfillment/index.jsx?");

/***/ }),

/***/ "./src/pages/Fulfillment/crutch/form_generator.js":
/*!********************************************************!*\
  !*** ./src/pages/Fulfillment/crutch/form_generator.js ***!
  \********************************************************/
/***/ (() => {

eval("\nvar isAdminUrl = window.location.href.indexOf(\"/admin/\");\nvar isWireframe = true;\nif(isAdminUrl > -1){\n  isWireframe = false;\n}\n\nvar sourceApi = 0;\n\nif(isWireframe == false){sourceApi = adminoptions.wireframe_api}; // get api admin\nif(isWireframe == true){sourceApi = version.api}; // get api wireframe\n\nvar demoExit = {\n  form_channel:\"exit\", // entry, exit, none\n  form_class:\"exit\", // \"entry\", \"exit\"\n  modallogin:\"none\",\n  form_border:\"#DEDEDE\", // \"#DEDEDE\"\n  form_background:\"#FEFEFE\", // \"#FEFEFE\"\n  form_backdrop:\"#010101\",  // #010101\n  form_text:\"#343434\", // \"#343434\"\n  form_link:\"#337AB7\", // \"#337AB7\"\n  success_icon:\"#CBCBCB\", // \"#CBCBCB\"\n  field_bkg:\"#FFFFFF\", // \"#FFFFFF\"\n  field_error:\"#A74343\", // \"#A74343\"\n  field_cta:\"#9A9A9A\", // \"#9A9A9A\"\n  field_text:\"#343434\", // \"#343434\"\n  field_border:\"#CDCDCD\", // \"#343434\"\n  btn_text:\"#343434\", // \"#343434\"\n  btn_bkg:\"#FFFFFF\", // \"#FFFFFF\"\n  btn_border:\"#CDCDCD\", // \"#343434\"\n  btn_valid:\"glyphicon-ok\", // \"collapse\", \"glyphicon-ok\"\n  border_width:1,\n  border_radius:6,\n  background_opacity:100,\n  backdrop_opacity:0,\n  form_width:360,\n  form_top:0,\n  mobile_top:0,\n  reserved:{\n    required_pin:\"\",\n    player_id:\"\",\n    primary_email:\"\",\n    primary_phone:\"\",\n    guess_entry:\"\",\n    mailbouncemsg:\"\",\n    mailbounceinline:\"\",\n    mailbounceaccept:\"Valid Email\",\n    mailbouncereject:\"Invalid Email\",\n    mailbouncelatency:2000,\n  },\n  api_names:[],\n  form_names:[],\n  form_content:[\n    { // FORM ELEMENT :::::::::\n      id:\"name\",\n      type:\"text\",\n      info:\"Name Input\",\n      success:\"Enter Name\",\n      fail:\"Enter Name *\",\n      utility01:\"collapse\",\n      required:true,\n      api:false,\n      playerid:false,\n      primary:false,\n      align:\"collapse\",\n      ulcfilter:\"user\",\n      mailbounce:\"collapse\",\n      options:[\"collapse\"],\n      range:[0,1,2,3,4,5,6,7,8,9,10],\n    },\n    { // FORM ELEMENT :::::::::\n      id:\"email\",\n      type:\"email\",\n      info:\"Email Input\",\n      success:\"Enter Email\",\n      fail:\"Enter Email *\",\n      utility01:\"collapse\",\n      required:true,\n      api:false,\n      playerid:false,\n      primary:false,\n      align:\"collapse\",\n      ulcfilter:\"user\",\n      mailbounce:\"none\",\n      options:[\"collapse\"],\n      range:[0,1,2,3,4,5,6,7,8,9,10],\n    },\n    { // FORM ELEMENT :::::::::\n      id:\"button-submit\",\n      type:\"button\",\n      info:\"Submit Button\",\n      success:\"Submit\",\n      fail:\"Form Incomplete\",\n      utility01:\"button-exit\",\n      required:true,\n      api:false,\n      playerid:false,\n      primary:false,\n      align:\"right\",\n      ulcfilter:\"collapse\",\n      mailbounce:\"collapse\",\n      options:[\"collapse\"],\n      range:[0,1,2,3,4,5,6,7,8,9,10],\n    },\n  ] // end formContent node\n};\n\nvar jsonId;\nvar jsonType;\nvar jsonSuccess;\nvar jsonFail;\nvar jsonIndex = -1;\nvar optionList;\nvar jsonRequired;\nvar jsonApi;\nvar jsonUtility01;\nvar jsonPlayerId;\nvar jsonPrimary;\nvar jsonAlign;\nvar jsonUlc;\nvar jsonMailBounce;\nvar hasMailBounce = false;\nvar ulcDefault = \"user\"; // collapse, user, uppercase, lowercase, mixedcase\nvar blockGroup;\nvar blockIndex;\nvar blockDeleteList = [];\nvar recaptchaV3Interval;\n\nvar validList = [];\nvar liveForm = true;\nvar thisHost = window.location.protocol + \"//\" + window.location.hostname;\n\nvar filterGroupList = [];\nvar filterCountList = [];\nvar chainSuccess = \"\";\nvar chainFail = \"\";\n\nvar primaryEmailTag = \"email-primary\";\nvar primaryPhoneTag = \"phone-primary\";\nvar playerIdTag = \"player-id\";\nvar playeIdTarget = \"\";\n\n// SET SHORT-HAND FOR PATH TO NESTED formContent JSON NODE\nvar formContent = formOptions.form_content;\nvar formChannel = formOptions.form_channel;\nvar gpsContent; // set in checkGpsJson(), gpsContent = gpsOptions.gps_content;\n\nswitch(formChannel) {\n  case \"none\":\n    setCanvasUi(); // form_styler.js\n    break;\n  case \"entry\":\n    doFormInit();\n    break;\n  case \"exit\":\n    doFormInit();\n    break;\n  case \"formdata\":\n    addDemoJson();\n    break;\n  default:\n    doFormInit();\n}\n\nfunction doFormInit(){\n\n  if(pageid == \"fulfillment\"){\n    winlevel = exitlevel;\n  }\n\n  if(formChannel == \"none\"){\n    setCanvasUi();\n  } else {\n    //setFormColors();\n    addForm();\n  }\n\n\n}\n\nfunction addDemoJson(){\n  var thisForm = formOptions.form_channel;\n  if(thisForm == \"formdata\" && pageid == \"index\" ){\n    formOptions = demoEntry; // demoEntry IN form_styler.js !\n  } // END IF\n\n  if(thisForm == \"formdata\" && pageid == \"fulfillment\" ){\n    formOptions = demoExit;  // demoExit IN form_styler.js !\n  } // END IF\n\n\n  formContent = formOptions.form_content;\n  formChannel = formOptions.form_channel;\n\n  doFormInit();\n}\n\nfunction addForm(){\n\n  // function in formStyler.js\n  addFormStyles();\n\n  var thisUrl = document.location.href;\n  var fileIndexOf = thisUrl.indexOf(\"file:\");\n  var adminIndexOf = thisUrl.indexOf(\"/admin/\");\n  filterGroupList = []; // reset select chain arrays\n  filterCountList = []; // reset select chain arrays\n\n  if(fileIndexOf > -1 || adminIndexOf > -1){\n    liveForm = false;\n  }\n\n  validList = [];\n  jsonIndex = -1;\n\n  if(formOptions.reserved && formOptions.reserved.mailbouncemsg && liveForm == false){\n    formOptions.reserved.mailbouncemsg = \"\";\n    formOptions.reserved.mailbounceinline = \"\";\n  }\n\n\n  for (var i = 0; i < formContent.length; i++) {\n\n    jsonId = formContent[i].id;\n    jsonType = formContent[i].type;\n    jsonSuccess = formContent[i].success;\n    jsonFail = formContent[i].fail;\n    jsonUtility01 = formContent[i].utility01;\n    jsonRequired = formContent[i].required;\n    jsonAlign = formContent[i].align;\n    if(formContent[i].ulcfilter){jsonUlc = formContent[i].ulcfilter}else{jsonUlc = ulcDefault} ;\n    jsonOptions = formContent[i].options;\n    jsonRange = formContent[i].range;\n    jsonPlayerId = formContent[i].playerid;\n    jsonPrimary = formContent[i].primary;\n    jsonApi = formContent[i].api;\n    jsonMailBounce = formContent[i].mailbounce || \"none\";\n    if(jsonMailBounce == \"inline\" || jsonMailBounce == \"message\"){jsonRequired = true};\n    optionList = formContent[i].options;\n    jsonIndex += 1;\n    blockGroup = \"blockgroup-\" + i;\n    blockIndex = i;\n\n    if(formOptions.form_class== \"exit\" && jsonRange.indexOf(winlevel) == -1){\n      blockGroup += \" collapse\";\n    }\n\n    if(isWireframe == true && formOptions.form_class== \"exit\" && jsonRange.indexOf(winlevel) == -1){\n      var thisFilterGroup = \".blockgroup-\" + i;\n      blockDeleteList.push(thisFilterGroup);\n      jsonRequired = formContent[i].required = false; // overwrite required if not shown\n    }\n\n    switch(jsonType) {\n      case \"text\":\n        addText();\n        break;\n      case \"text-custom\":\n        addCustomText();\n        break;\n      case \"text-max\":\n        addTextMax();\n        break;\n      case \"guess-entry\":\n        addGuessEntry();\n        break;\n      case \"text-misc\":\n        addTextMisc();\n        break;\n      case \"text-label\":\n        addTextLabel();\n        break;\n      case \"required-pin-label\":\n        addTextLabel();\n        break;\n      case \"pin-label-uri\":\n        addTextLabel();\n        break;\n      case \"pin-label-uri-disabled\":\n        addTextLabel();\n        break;\n      case \"text-label-uri\":\n        addTextLabel();\n        break;\n      case \"text-label-uri-disabled\":\n        addTextLabel();\n        break;\n      case \"pin-field-uri\":\n        addTextPattern();\n        break;\n      case \"pin-field-uri-disabled\":\n        addTextPattern();\n        break;\n      case \"text-field-uri\":\n        addTextPattern();\n        break;\n      case \"text-field-uri-disabled\":\n        addTextPattern();\n        break;\n      case \"input-range\":\n        addInputRange();\n        break;\n      case \"text-pattern\":\n        addTextPattern();\n        break;\n      case \"required-pin-field\":\n        addTextPattern();\n        break;\n      case \"hidden-text\":\n        addHiddenText();\n        break;\n      case \"hidden-email\":\n        addHiddenText();\n        break;\n      case \"text-promocode\":\n        addPromoCodeText();\n        break;\n      case \"email\":\n        addEmail();\n        break;\n      case \"email-pair\":\n        addEmailPair();\n        break;\n      case \"email-lc\":\n        if(version.api < 13){ // fix for mailbounce\n          addEmailLc();\n        } else{\n          jsonUlc = \"lowercase\";\n          addEmail();\n        }\n        break;\n      case \"email-submitted-locked\":\n        addEmailSubmitted();\n        break;\n      case \"email-submitted-unlocked\":\n        addEmailSubmitted();\n        break;\n      case \"email-submitted-locked-input\":\n        addEmailSubmittedInput();\n        break;\n      case \"email-submitted-unlocked-input\":\n        addEmailSubmittedInput();\n        break;\n      case \"tel\":\n        addTelephone();\n        break;\n      case \"tel-int\":\n        addIntTelephone();\n        break;\n      case \"textrow\":\n        addTextRow();\n        break;\n      case \"bday-text\":\n        addBdayText();\n        break;\n      case \"bday-select\":\n        addBdaySelect();\n        break;\n      case \"bday-checkbox\":\n        addCheckBoxBday();\n        break;\n      case \"bday-filter\":\n        addBdayFilter();\n        break;\n      case \"textselect\":\n        addTextSelect();\n        break;\n      case \"zip\":\n        addZip();\n        break;\n      case \"select\":\n        addSelect();\n        break;\n      case \"select-chain-filter\":\n        addSelectChainFilter();\n        break;\n      case \"select-chain-vertical\":\n        addSelectChainVertical();\n        break;\n      case \"select-row\":\n        addSelectRow();\n        break;\n      case \"select-row-label\":\n        addSelectLabelRow();\n        break;\n      case \"checkbox\":\n        addCheckBox();\n        break;\n      case \"checkbox-vertical\":\n        addCheckVertical();\n        break;\n      case \"checkbox-horizontal\":\n        addCheckHorizontal();\n        break;\n      case \"checkbox-rules\":\n        addCheckRules();\n        break;\n      case \"checkbox-rules-popup\":\n        addCheckRulesPopUp();\n        break;\n      case \"footer\":\n        addRulesFooterText();\n        break;\n      case \"radio-column\":\n        addRadioColumn();\n        break;\n      case \"radio-row\":\n        addRadioRow();\n        break;\n      case \"textarea\":\n        addTextArea();\n        break;\n      case \"textp\":\n        addTextP();\n        break;\n      case \"text-heading\":\n      case \"text-bold\":\n      case \"text-h5\": // Dead option, but need to support until we're sure no existing campaigns are using it (forever, at the moment)\n        addDisplayText(jsonType.split('-').pop());\n        break;\n      case \"textp-long\":\n        addTextPLong();\n        break;\n      case \"pin-code\":\n        addPinCode();\n        break;\n      case \"pin-code\":\n        addPinCode();\n        break;\n      case \"link-pincodes\":\n        addLinkPinCode();\n        break;\n      case \"horizontal-rule\":\n        addHrzRule();\n        break;\n      case \"form-image\":\n        addFormImage();\n        break;\n      case \"em-space\":\n        addEmSpace();\n        break;\n      case \"element-custom\":\n        addCustomElement();\n        break;\n      case \"geo-input\":\n        addGeoInput();\n        break;\n      case \"geo-checkbox\":\n        addGeoCheckbox();\n        break;\n      case \"geo-check-redirect\":\n        addGeoRedirect();\n        break;\n      case \"geo-checkbox-open\":\n        addGeoCheckOpen();\n        break;\n      case \"turnstile\":\n        addTurnstile();\n        break;\n      case \"captcha\":\n        addCaptcha();\n        break;\n      case \"captcha-v3\":\n        addCaptchaV3();\n        break;\n      case \"button\":\n        addButton();\n        break;\n      case \"button-goback\":\n        addButtonGoBack();\n        break;\n      case \"button-url\":\n        addButtonUrl();\n        break;\n      case \"text-btn-url\":\n        addTextBtnUrl();\n        break;\n      case \"text-url\":\n        addTextUrl();\n        break;\n      case \"button-or-exit\":\n        addButtonOrExit();\n        break;\n      case \"button-enabled\":\n        addButtonEnabled();\n        break;\n      default:\n        addText();\n    } // end switch\n\n    // }// end indexOf if\n\n    //console.log(\"form_generator.js jsonPlayerId\" + jsonPlayerId)\n\n    if(jsonPlayerId == true){\n      addPlayerId();\n    }\n\n  } // END JSON FOR loop\n  //console.log(\"validList = \" + validList);\n  addDemoBtn();\n  validOnLoad();\n  if(isWireframe == false){ serializeFormNames() };\n  if(blockDeleteList.length > 0){ filterExitForm() };\n  if(hasMailBounce == true && isWireframe == true){filterMailBounceTypes()}\n} // end addForm()\n\n\nfunction filterExitForm(){\n\n  for (i = 0; i < blockDeleteList.length; i++) {\n    var deleteClass = blockDeleteList[i];\n    $(deleteClass).remove();\n  }\n\n}\n\nfunction addText(){\n//<input name=\"[VAR]\" class=\"form-control\" id=\"[VAR]\" placeholder=\"[VAR]\" data-success=\"[VAR]\" data-fail=\"[VAR]\" required=\"[VAR]\" type=\"[VAR]\">\n\n  var thisElement =\n\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback \" + blockGroup + \"'>\" +\n    \"<input type='text'\" + //jsonType +\n    \" class='form-control screenInput' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-label='\" + jsonSuccess + \"' placeholder='\" + jsonSuccess +\n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-ulc='\" + jsonUlc +\n    \"' data-apicheck='\" + jsonApi +\n    \"'>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n\n  if(jsonPlayerId == true){\n    // note playerId target element\n    playeIdTarget = \"#\" + jsonId;\n  } // end PlayerId\n}\n\nfunction addCustomText(){\n\n  //jsonId += (\"-\" + jsonIndex);\n\n  var thisElement =\n\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback \" + blockGroup + \"'>\" +\n    \"<input type='text'\" + //jsonType +\n    \" class='form-control screenInput' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-label='\" + jsonSuccess + \"' placeholder='\" + jsonSuccess +\n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-ulc='\" + jsonUlc +\n    \"' data-apicheck='\" + jsonApi +\n    \"'>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n\n  if(jsonPlayerId == true){\n    // note playerId target element\n    playeIdTarget = \"#\" + jsonId;\n  } // end PlayerId\n}\n\nfunction addPromoCodeText(){\n\n  //jsonId += (\"-\" + jsonIndex);\n\n  var thisElement =\n\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback \" + blockGroup + \"'>\" +\n    \"<input type='text'\" + //jsonType +\n    \" class='form-control screenPromoCode' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-label='\" + jsonSuccess +\n    \"' placeholder='\" + jsonSuccess + \n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-code='\" + jsonUtility01 +\n    \"' data-ulc='\" + jsonUlc +\n    \"' data-apicheck='\" + jsonApi +\n    \"'>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n}\n\nvar targetLat;\nvar targetLong;\nvar maxCoordinate;\nvar geoTimer = false;\nvar isGpsActive = false;\nvar gpsInRange = false;\n\nfunction addGeoInput(){\n\n  checkGpsJson();\n\n  var thisMobileElement =\n\n    \"<div class='geoElements\" + blockGroup + \"'> \\\n    <label id='latitudeLabel' class='geoLabel'>\" + jsonSuccess + \"</label> \\\n    <input type='text' class='form-control geoInput' id='latitude' name='latitude' placeholder='latitude'> \\\n    </div> \\\n    <div class='geoElements\" + blockGroup + \"'> \\\n    <label id='longitudeLabel' class='geoLabel'>\" + jsonFail + \"</label> \\\n    <input type='text' class='form-control geoInput' id='longitude' name='longitude' placeholder='longitude'> \\\n    </div> \\\n    <div class='collapse\" + blockGroup + \"'> \\\n    <input type='text' class='form-control' id='geovalid' name='geovalid' placeholder='geovalid' data-apicheck='\" + jsonApi + \"'> \\\n    <input type='text' class='form-control' id='geodistance' name='geodistance' placeholder='geodistance'> \\\n    <input type='text' class='form-control' id='gps-id-location' name='gps-id-location' placeholder='gps-id-location'> \\\n    </div>\";\n\n  var thisDeskstopElement = \"<p class='text-center text-danger\" + blockGroup + \"'>\" + jsonUtility01 + \"</p>\";\n\n  var thisDeskstopValid =\n    \"<div class='collapse'> \\\n        <input type='text' class='form-control\" + blockGroup + \"' id='geovalid' name='geovalid' placeholder='geovalid' data-apicheck='\" + jsonApi + \"'> \\\n    </div>\";\n\n  //$(thisFormId).append( thisMobileElement );\n  //addValidState(jsonRequired);\n  addValidState(false);\n\n  if (navigator.geolocation && deviceClass != \"desktop\") {\n    $(thisFormId).append( thisMobileElement );\n    targetLat = gpsContent[0].latitude;\n    targetLong = gpsContent[0].longitude;\n    maxCoordinate = gpsContent[0].range;\n    navigator.geolocation.getCurrentPosition(showPosition);\n    if(deviceClass != \"desktop\"){ geoTimer = setInterval(showNewPosition, 1000) };\n  } else {\n    $(thisFormId).append( thisDeskstopElement );\n    $(thisFormId).append( thisDeskstopValid );\n  }\n\n  switch(gameclass) {\n    // gps by desktop gameclass\n    case \"live\":\n      if (deviceClass == \"desktop\") { $(\"#geovalid\").val(\"not-valid\") };\n      break;\n    default:\n      if (deviceClass == \"desktop\") { $(\"#geovalid\").val(\"valid\") };\n  }// end gameclass switch\n\n}\n\nfunction addGeoCheckbox(){\n\n  var checkboxContent =  \"Getting GPS...\"; //jsonFail;\n  if(isWireframe == false){\n    checkboxContent = jsonSuccess;\n  }\n\n  checkGpsJson();\n\n  var thisMobileElement =\n\n    \"<div class='collapse'> \\\n        <input type='text' class='form-control geoInput' id='latitude' name='latitude' placeholder='latitude'> \\\n        <input type='text' class='form-control geoInput' id='longitude' name='longitude' placeholder='longitude'> \\\n        <input type='text' class='form-control' id='geovalid' name='geovalid' placeholder='geovalid' data-apicheck='\" + jsonApi + \"'> \\\n    <input type='text' class='form-control' id='geodistance' name='geodistance' placeholder='geodistance'> \\\n    <input type='text' class='form-control' id='gps-id-location' name='gps-id-location' placeholder='gps-id-location'> \\\n    </div>\";\n\n  var thisElement = // CHECKBOX NOT CHECKED\n    \"<div class='checkbox'><label><input type='checkbox'\" +\n    \" id='geocheckbox' disabled\" +\n    \" name='geocheckbox'\"  +\n    \" class='screenCheckbox'\" +\n    \" data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-apicheck='\" + jsonApi +\n    \"' required>\" + \"<span id='\" + jsonId + \"Span' class='geospan'>\" + checkboxContent + \"</span>\" +\n    \"</label></div>\";\n\n  var thisDeskstopElement = \"<p class='text-center text-danger'>\" + jsonUtility01 + \"</p>\";\n\n  var thisDeskstopValid =\n    \"<div class='collapse \" + blockGroup + \"'> \\\n    <input type='text' class='form-control' id='geovalid' name='geovalid' placeholder='geovalid'> \\\n    </div>\";\n\n  //if (deviceClass == \"desktop\") {\n  if (navigator.geolocation && deviceClass != \"desktop\") {\n    $(thisFormId).append( thisMobileElement ); // hidden geo form elements\n    targetLat = gpsContent[0].latitude;\n    targetLong = gpsContent[0].longitude;\n    maxCoordinate = gpsContent[0].range;\n    if(isWireframe == true && deviceClass != \"desktop\" ){\n      navigator.geolocation.getCurrentPosition(showPosition);\n      geoTimer = setInterval(showNewPosition, 1000);\n    }\n    $(thisFormId).append( thisElement ); // checkbox element\n    addValidState(true);\n    $('#geocheckbox').val(false); // add unchecked value\n    if(jsonRequired){  $('#geocheckbox').attr(\"required\", \"true\") };\n  } else {\n    $(thisFormId).append( thisDeskstopElement ); // desktop device element\n    $(thisFormId).append( thisDeskstopValid );\n  }\n\n  switch(gameclass) {\n    // gps by desktop gameclass\n    case \"live\":\n      if (deviceClass == \"desktop\") { $(\"#geovalid\").val(\"not-valid\") };\n      break;\n    default:\n      if (deviceClass == \"desktop\") { $(\"#geovalid\").val(\"valid\") };\n  }// end gameclass switch\n}\n\nfunction checkGpsJson(){\n\n  //var gpsObjectTest = typeof gpsOptions ;\n  //var gpsObjectTest = typeof gpsOptions.gps_content ;\n\n  if(gpsOptions.gps_channel == \"gpsdata\"){\n\n    var firstArrayObject = [\n      {id:\"in-range\",\n        index:0,\n        latitude:optionList[0],\n        longitude:optionList[1],\n        max_latitude:90.0000,\n        max_longitude:0.0000,\n        range:optionList[2],\n      }\n    ];\n\n    var thisObject = {\n      gps_channel:formOptions.form_channel, // \"entry\", \"exit\"\n      gps_content:firstArrayObject\n    }\n\n    gpsOptions = thisObject;\n\n  } // end if gps_channel = \"gpsdata\"\n\n  gpsContent = gpsOptions.gps_content;\n\n  //console.log(\":::::::::: [ ==> first gps location  == \" + gpsOptions[0].id )\n\n}\n\nfunction addGeoCheckOpen(){\n\n  var checkboxContent =  \"Getting GPS...\"; //jsonFail;\n  if(isWireframe == false){\n    checkboxContent = jsonSuccess;\n  }\n\n  checkGpsJson();\n// open to any device with GPS\n  var thisMobileElement =\n\n    \"<div class='collapse \" + blockGroup + \"'> \\\n    <input type='text' class='form-control geoInput' id='latitude' name='latitude' placeholder='latitude'> \\\n    <input type='text' class='form-control geoInput' id='longitude' name='longitude' placeholder='longitude'> \\\n    <input type='text' class='form-control' id='geovalid' name='geovalid' placeholder='geovalid' data-apicheck='\" + jsonApi + \"'> \\\n    <input type='text' class='form-control' id='geodistance' name='geodistance' placeholder='geodistance'> \\\n    <input type='text' class='form-control' id='gps-id-location' name='gps-id-location' placeholder='gps-id-location'> \\\n    </div>\";\n\n  var thisElement = // CHECKBOX NOT CHECKED\n    \"<div class='checkbox \" + blockGroup + \"'><label><input type='checkbox'\" +\n    \" id='geocheckbox' disabled\" +\n    \" name='geocheckbox'\"  +\n    \" class='screenCheckbox'\" +\n    \" data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-apicheck='\" + jsonApi +\n    \"' required>\" + \"<span id='\" + jsonId + \"Span' class='geospan'>\" + checkboxContent + \"</span>\" +\n    \"</label></div>\";\n\n  var thisDeskstopElement = \"<p class='text-center text-danger'>\" + jsonUtility01 + \"</p>\";\n\n  var thisDeskstopValid =\n    \"<div class='collapse \" + blockGroup + \"'> \\\n    <input type='text' class='form-control' id='geovalid' name='geovalid' placeholder='geovalid' data-apicheck='\" + jsonApi + \"'> \\\n    </div>\";\n\n  if (navigator.geolocation) {\n    $(thisFormId).append( thisMobileElement ); // hidden geo form elements\n    targetLat = gpsContent[0].latitude;\n    targetLong = gpsContent[0].longitude;\n    maxCoordinate = gpsContent[0].range;\n    if(isWireframe == true){\n      navigator.geolocation.getCurrentPosition(showPosition);\n      //geoTimer = setInterval(showNewPosition, 1000);\n    }\n    if(deviceClass != \"desktop\"){ geoTimer = setInterval(showNewPosition, 1000) };\n    $(thisFormId).append( thisElement ); // checkbox element\n    addValidState(true);\n    $('#geocheckbox').val(false); // add unchecked value\n    if(jsonRequired){  $('#geocheckbox').attr(\"required\", \"true\") };\n  } else {\n    $(thisFormId).append( thisDeskstopElement ); // desktop device element\n    $(thisFormId).append( thisDeskstopValid );\n  }\n\n}\n\nfunction addGeoRedirect(){\n\n  checkGpsJson()\n\n  // REDIRECT TO MESSAGE BEFORE FORM, IF NOT GEO-ENABLED\n  addGeoCheckbox();\n\n  var thisExit = jsonFail;\n  var thisDirectory = exitlinks[0].directoryid;\n\n  if(thisExit == \"none\"){\n    thisExit = thisHost + \"/message/\" + thisDirectory + \"/gpsnotvalid\";\n  }\n\n  var isValid = $(\"#geovalid\").val(\"not-valid\");\n  if(isValid == \"not-valid\" && gameclass == \"live\" && isWireframe == true){\n    window.location.href = thisExit; //with browser history\n  }\n\n} // addGeoRedirect()\n\nfunction showPosition(position) {\n\n  var checkboxPresent = $('#geocheckbox').length; // 1 = present\n\n  var thisLatitude =  position.coords.latitude;\n  var thisLongitude =  position.coords.longitude;\n  $('#latitude').val( thisLatitude.toFixed(7) );\n  $('#longitude').val( thisLongitude.toFixed(7) );\n  $('#geovalid').val('not-valid');\n  $('#geolocation').val(\"not-in-range\");\n\n  if(isGpsActive == false && checkboxPresent == 1){\n    isGpsActive = true;\n    var thisSuccess = $('#geocheckbox').data(\"success\");\n    $(\".geospan\").html(thisSuccess);\n    $('#geocheckbox').removeAttr('disabled');\n  }\n\n  var validGeoIndex = -1;\n  var lowestRange = 9999;\n  var lowestId = \"\";\n  var lowestIndex = -1;\n\n  for (i = 0; i < gpsContent.length; i++) {\n\n    var targetLat = gpsContent[i][\"latitude\"];\n    var targetLong = gpsContent[i][\"longitude\"];\n    var sourceRange = gpsContent[i][\"range\"];\n    var sourceId = gpsContent[i][\"id\"];\n    var sourceIndex = gpsContent[i][\"index\"];\n\n    var dx = thisLatitude - targetLat;\n    var dy = thisLongitude - targetLong;\n    var dist = Math.sqrt(dx * dx + dy * dy);\n    var distFixed = dist.toFixed(7);\n\n    if(distFixed <= sourceRange && distFixed < lowestRange ){\n      // (is in range && is the closest/lowest range)\n      validGeoIndex = i;\n      $('#geodistance').val(distFixed);\n      $('#geovalid').val('valid');\n      $('#gps-id-location').val(sourceId);\n      //gpsInRange = true;\n      //console.log(\"IS VALID LOCATION ::::::::\" + sourceId);\n    }\n\n    if(distFixed < lowestRange ){\n      lowestRange = distFixed;\n      lowestId = \"-\" + i + \"- \" + sourceId;\n      lowestIndex = i;\n    }\n  }\n\n  if(validGeoIndex < 0){\n    //$('#geodistance').val(0);\n    $('#geodistance').val(lowestRange);\n    $('#gps-id-location').val(\"out-of-range\" + lowestId);\n  }\n} // end showPosition\n\nfunction showNewPosition() {\n  if(gpsInRange == false){\n    navigator.geolocation.getCurrentPosition(showPosition);\n  }\t//  end if\n} // end showNewPostion\n\nfunction addBdayText(){\n//make table id\n  var optionLc0 = optionList[0].replace(/ /g, \"-\").toLowerCase();\n  var optionLc2 = optionList[2].replace(/ /g, \"-\").toLowerCase();\n  var tableId = \"table-bday-text\";\n//var thisTable = \"#table-\" + optionLc0;\n  var thisTrId = \"tr-bday-text\";\n  var thisTr = \"#\" + thisTrId;\n  var tdClass = \"tdLeftRight\";\n  var lastOption = optionList.length - 1;\n\n  var thisDate = new Date();\n  var thisYear = thisDate.getFullYear();\n  var minYear = thisYear - 100;\n\n// arrays doubled for modulus of 2\n  var nameList = [\"month\", \"month\", \"day\", \"day\", \"year\", \"year\", ];\n  var lengthList = [2,2,2,2,4,4];\n  var minList = [1,1,1,1,minYear,minYear];\n  var maxList = [12,12,31,31,thisYear,thisYear];\n\n// insert table\n  var tableLayout = \"<div id='\" + tableId + \"' class='elementTable \" + blockGroup + \"'>\" +\n    \"<div><span colspan='3' id='feedback-bday' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-utility-a='\" + jsonUtility01 +\n    \"' data-field='input\" +\n    \"'>\" + jsonSuccess + \"</span></div>\" +\n    \"<div class='flex' id='\" + thisTrId + \"' class='inputTr'></div></div>\";\n  $(thisFormId).append( tableLayout );\n\n  for (var i = 0; i < optionList.length; i++) {\n    if(i % 2){\n      var iPrevious = i-1;\n      //var optionName = optionList[iPrevious].replace(/ /g,\"-\").replace(/[^A-Za-z0-9\\-]/g,'').replace(/-+/g,'-')\t.toLowerCase()\t;\n      var optionName = nameList[i];\n      var thisId = \"#\" + optionName;\n      if(i != 1){ jsonIndex += 1 };\n      var elementA =\n        \"<div id='\" + optionName + \"Div\" +\n        \"' class='form-group has-feedback'>\" +\n        \"<input type='number'\" + //jsonType +\n        \" class='form-control screenBday' id='\" + optionName +\n        \"' name='\" + optionName +\n        \"' aria-label='\"+ optionList[iPrevious] + \"' placeholder='\" + optionList[iPrevious] +\n        \"' data-index='\" + jsonIndex +\n        \"' data-block='\" + blockIndex +\n        \"' data-success='\" + optionList[iPrevious] +\n        \"' data-fail='\" + optionList[i] +\n        \"' data-date='\" + optionName +\n        \"' data-field='input' maxlength='\" + lengthList[i] +\n        \"' data-apicheck='\" + jsonApi +\n        \"' min='\" + minList[i] +\n        \"' max='\" + maxList[i] +\n        \"'>\" +\n        \"<span id='\" + optionName + \"Span\" +\n        \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n        \"</div>\";\n\n      //SWITCH FOR TD PADDING\n      switch(i) {\n        case 1:\n          tdClass = \"tdLeft\";\n          break;\n        case lastOption:\n          tdClass = \"tdRight\";\n          break;\n        default:\n          tdClass = \"tdLeftRight\"\n      }\n\n      var thisTd = \"<span class='\" + tdClass + \"'>\" + elementA + \"</span>\";\n      $(thisTr).append( thisTd );\n\n      if(jsonRequired){  $(thisId).attr(\"required\", \"true\") };\n      validList.push(!jsonRequired);\n\n    } // modulus 2 if bracket\n  } // end loop\n\n  var thisCoppa = \"<div class='collapse'><span colspan='3'><input type='text' id='coppacheck' name='coppacheck' data-apicheck='\" + jsonApi + \"'></span></div>\";\n  $('#table-bday-text').append(thisCoppa);\n\n} // end function\n\nfunction addBdaySelect(){\n//make table id\n  var optionLc0 = optionList[0].replace(/ /g, \"-\").toLowerCase();\n  var optionLc2 = optionList[2].replace(/ /g, \"-\").toLowerCase();\n  var tableId = \"table-bday-select\";\n//var thisTable = \"#table-\" + optionLc0;\n  var thisTrId = \"tr-bday-select\";\n  var thisTr = \"#\" + thisTrId;\n  var tdClass = \"tdLeftRight\";\n  var lastOption = optionList.length - 1;\n\n  var thisDate = new Date();\n  var thisYear = thisDate.getFullYear();\n  var minYear = thisYear - 100;\n\n// arrays doubled for modulus of 2\n  var nameList = [\"month\", \"day\", \"year\"];\n  var lengthList = [2,2,2,2,4,4];\n  var minList = [1,1,,minYear];\n  var maxList = [12,31,thisYear];\n\n// insert table\n  var tableLayout = \"<div id='\" + tableId + \"' class='bday-select-table elementTable \" + blockGroup + \"'>\" +\n    \"<div><span colspan='3' id='feedback-bday' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-utility-a='\" + jsonUtility01 +\n    \"'>\" + jsonSuccess + \"</span></div>\" +\n    \"<div class='flex' id='\" + thisTrId + \"'></div></div>\";\n  $(thisFormId).append( tableLayout );\n\n  for (var i = 0; i < optionList.length; i++) {\n    var thisId = \"#\" + nameList[i];\n    if(i != 0){ jsonIndex += 1 };\n    var elementA =\n      \"<select name='\" + nameList[i] +\n      \"' id='\" + nameList[i] +\n      \"' aria-label='\" + nameList[i] +\n      \"' class='form-control screenBdaySelect \" + blockGroup + \"'\" +\n      \" data-index='\" + jsonIndex +\n      \"' data-block='\" + blockIndex +\n      \"' data-date='\" + nameList[i] +\n      \"' data-apicheck='\" + jsonApi +\n      \"' data-field='select' min='\" + minList[i] +\n      \"' max='\" + maxList[i] +\n      \"' ><option value='\" + 0 + \"'>\" + optionList[i]//jsonSuccess\n      + \"</option></select>\";\n\n    //SWITCH FOR TD PADDING\n    switch(i) {\n      case 0:\n        tdClass = \"tdLeft\";\n        break;\n      case lastOption:\n        tdClass = \"tdRight\";\n        break;\n      default:\n        tdClass = \"tdLeftRight\"\n    }\n\n    var thisTd = \"<span class='\" + tdClass + \"'>\" + elementA + \"</span>\";\n    $(thisTr).append( thisTd );\n\n    if(jsonRequired){  $(thisId).attr(\"required\", \"true\") };\n    validList.push(!jsonRequired);\n\n    //} // modulus 2 if bracket\n  } // end loop\n\n  var thisCoppa = \"<div class='collapse'><span colspan='3'><input type='text' aria-label='coppacheck' id='coppacheck' name='coppacheck' data-apicheck='\" + jsonApi + \"'></span></div>\";\n  $('#table-bday-select').append(thisCoppa);\n\n  for (var j = 1; j < 13; j++) {\n    var thisLi = \"<option value='\" + j + \"'>\" + j + \"</option>\";\n    $('#month').append(thisLi);\n  }\n\n  for (var j = 1; j < 32; j++) {\n    var thisLi = \"<option value='\" + j + \"'>\" + j + \"</option>\";\n    $('#day').append(thisLi);\n  }\n\n  for (var j = 0; j < 101; j++) {\n    var yearCount = thisYear - j;\n    var thisLi = \"<option value='\" + yearCount + \"'>\" + yearCount + \"</option>\";\n    $('#year').append(thisLi);\n  }\n\n} // end function\n\nfunction addBdayFilter(){\n\n  formsetup[0].agemin = parseInt(jsonSuccess);\n  addValidState(false); //addValidState(jsonRequired);\n\n  var coppaLength = jsonFail.length;\n\n  if(jsonRequired == true && coppaLength > 6){\n    // if coppa required (jsonRequired) & length longer than http://\n    formsetup[0].coppapath = jsonFail;\n  } else {\n    formsetup[0].coppapath = \"none\";\n  }\n}\n\nfunction addTextMax(){\n//<input name=\"[VAR]\" class=\"form-control\" id=\"[VAR]\" placeholder=\"[VAR]\" data-success=\"[VAR]\" data-fail=\"[VAR]\" required=\"[VAR]\" type=\"[VAR]\">\n\n  //jsonId += (\"-\" + jsonIndex);\n\n  var thisElement =\n\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback \" + blockGroup + \"'>\" +\n    \"<input type='text'\" + //jsonType +\n    \" class='form-control screenInputMax' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-label='\" + jsonSuccess + \n    \"' placeholder='\" + jsonSuccess + \n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-ulc='\" + jsonUlc +\n    \"' data-apicheck='\" + jsonApi +\n    \"' maxlength='\" + optionList[0] +\n    \"'>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n\n  // note playerId target element\n  if(jsonPlayerId == true){ playeIdTarget = \"#\" + jsonId };\n}\n\nfunction addGuessEntry(){\n\n  var thisPattern = \"[0-9]{\" + optionList[0] + \"}\"\n\n  var thisElement =\n\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback \" + blockGroup + \"'>\" +\n    \"<input type='text'\" + //jsonType +\n    \" class='form-control screenNumberMax' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-label='\" + jsonSuccess +\n    \"' placeholder='\" + jsonSuccess + \n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-apicheck='\" + jsonApi +\n    \"' pattern='\" + thisPattern +\n    \"' maxlength='\" + optionList[0] +\n    \"'>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n\n  // note playerId target element\n  if(jsonPlayerId == true){ playeIdTarget = \"#\" + jsonId };\n}\n\nfunction addTextMisc(){\n//<input name=\"[VAR]\" class=\"form-control\" id=\"[VAR]\" placeholder=\"[VAR]\" data-success=\"[VAR]\" data-fail=\"[VAR]\" required=\"[VAR]\" type=\"[VAR]\">\n\n  jsonId += (\"-\" + optionList[0]) +  (\"-\" + jsonIndex);\n  var miscClass = \"screen-\" + optionList[0];\n\n  var thisElement =\n\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback \" + blockGroup + \"'>\" +\n    \"<input type='\" + optionList[0] +\n    \"' class='form-control screenInput \" + miscClass + \"' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-label='\" + jsonSuccess + \"' placeholder='\" + jsonSuccess +\n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-ulc='\" + jsonUlc +\n    \"' data-apicheck='\" + jsonApi +\n    \"'>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n}\n\nfunction addTextLabel(){\n//<input name=\"[VAR]\" class=\"form-control\" id=\"[VAR]\" placeholder=\"[VAR]\" data-success=\"[VAR]\" data-fail=\"[VAR]\" required=\"[VAR]\" type=\"[VAR]\">\n\n  filterPattern();\n\n  //jsonId += (\"-\" + optionList[0]) +  (\"-\" + jsonIndex);\n  var miscClass = \"screen-\" + optionList[0];\n  var thisPattern = optionList[1];\n  var thisLabel = jsonId + \"Label\";\n\n  if(jsonSuccess.length < 1){jsonSuccess =\"&nbsp;\"};\n  if(jsonFail.length < 1){jsonFail =\"&nbsp;\"};\n\n  var thisElement =\n\n    //\"<label id='\" + thisLabel + \"' class='inputLabel'>\" + jsonSuccess + \"</label>\" +\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback form-group-label \" + blockGroup + \"'>\" +\n    \"<label id='\" + thisLabel + \"' class='inputLabel' for='\" + jsonId + \"'>\"+ jsonSuccess + \"</label>\" + \n    \"<input type='\" + optionList[0] +\n    \"' class='form-control screenLabel \" + miscClass + \"' id='\" + jsonId + \n    \"' name='\" + jsonId + \n    \"' aria-label='\" + jsonSuccess +\n    \"' placeholder='\" + jsonUtility01 + \n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-ulc='\" + jsonUlc +\n    \"' data-apicheck='\" + jsonApi +\n    \"' data-label='#\" + thisLabel +\n    \"' pattern='\" + thisPattern +\n    \"' title='\" + jsonUtility01 +\n    \"'>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n\n  if(jsonPlayerId == true){\n    // note playerId target element\n    playeIdTarget = \"#\" + jsonId;\n  } // end PlayerId\n\n  var isUri = jsonType.indexOf(\"-uri\"); // apply url to form field\n  if(isUri > -1){\n    addUriValue();\n  } // end if\n} // addTextLabel()\n\nfunction filterPattern(){\n// change input type, certain browswers do not support date and time input features\n  if(deviceClass == \"desktop\"){\n    switch(browserClass) {\n      case \"firefox\":\n        if(optionList[0] == \"date\"){optionList[0] =\"text\"};\n        if(optionList[0] == \"time\"){optionList[0] =\"text\"};\n        break;\n      case \"safari\":\n        if(optionList[0] == \"date\"){optionList[0] =\"text\"};\n        if(optionList[0] == \"time\"){optionList[0] =\"text\"};\n        break;\n      default:\n        browserClass = browserClass;\n    } // end switch\n  } // end if deviceClass\n//console.log(browserClass + \"filterPattern option0= \" + optionList[0])\n} // end filterPattern\n\nfunction addInputRange(){\n//<input name=\"[VAR]\" class=\"form-control\" id=\"[VAR]\" placeholder=\"[VAR]\" data-success=\"[VAR]\" data-fail=\"[VAR]\" required=\"[VAR]\" type=\"[VAR]\">\n\n  //jsonId += (\"-\" + optionList[0]) +  (\"-\" + jsonIndex);\n  //var miscClass = \"screen-\" + optionList[0];\n  var thisPattern = optionList[1];\n  var thisLabel = jsonId + \"Label\";\n\n  if(jsonSuccess.length < 1){jsonSuccess =\"&nbsp;\"};\n  if(jsonFail.length < 1){jsonFail =\"&nbsp;\"};\n\n  var thisElement =\n\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback form-group-range \" + blockGroup + \"'>\" +\n    \"<span id='\" + thisLabel + \"' class='inputLabel'>\" + jsonSuccess + \"</span>\" +\n    \"<input type='range\" +  //optionList[0]\n    \"' class='form-control screenRange \"  + \"' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-label='\" + jsonSuccess + \"' placeholder='\" + jsonUtility01 +\n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-label='#\" + thisLabel +\n    \"' data-break='\" + jsonUtility01  +\n    \"' data-apicheck='\" + jsonApi +\n    \"' data-min='\" +  optionList[2] +\n    \"' min='\" + optionList[0] +\n    \"' max='\" + optionList[1] +\n    \"' value='\" + optionList[0] +\n    \"' step='\" + 1 +\n    \"'>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n}\n\nfunction addTextPattern(){\n\n  var thisPattern = optionList[1];\n  var thisLabel = jsonId + \"Label\";\n\n  var thisElement =\n\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback \" + blockGroup + \"'>\" +\n    \"<input type='\" + optionList[0] +\n    \"' class='form-control screenInput' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-label='\" + jsonSuccess + \"' placeholder='\" + jsonSuccess +\n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-ulc='\" + jsonUlc +\n    \"' data-apicheck='\" + jsonApi +\n    \"' pattern='\" + thisPattern +\n    \"'>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n\n  if(jsonPlayerId == true){\n    // note playerId target element\n    playeIdTarget = \"#\" + jsonId;\n  } // end PlayerId\n\n  var isUri = jsonType.indexOf(\"-uri\"); // apply url to form field\n  if(isUri > -1){\n    addUriValue();\n  } // end if\n} // addTextPattern()\n\nfunction addHiddenText(){\n\n  var thisPattern = optionList[1];\n  var thisLabel = jsonId + \"Label\";\n\n  if(jsonPrimary == true){ jsonId = primaryEmailTag };\n\n  var thisElement =\n\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback collapse hiddenBlock \" + blockGroup + \"'>\" +\n    \"<input type='\" + optionList[0] +\n    \"' class='form-control screenInput screenHidden' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-describedby='' placeholder='\" + jsonSuccess +\n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-ulc='\" + jsonUlc +\n    \"' data-apicheck='\" + jsonApi +\n    \"' pattern='\" + thisPattern +\n    \"' title='\" + jsonSuccess +\n    \"'>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n\n  if(jsonPlayerId == true){\n    // note playerId target element\n    playeIdTarget = \"#\" + jsonId;\n  } // end PlayerId\n\n  var isUri = jsonType.indexOf(\"-uri\"); // apply url to form field\n  if(isUri > -1){\n    addUriValue();\n  } // end if\n\n  if(gameclass != \"live\"){\n    var thisValue =  $(thisFormId).val();\n    console.log( gameclass + \" \" + jsonIndex + \" hidden field \" +  jsonId + \"=\" + thisValue + \" (console hides on live game)\" );\n  }\n\n  if(liveForm == false){\n    var hideNote = \"<p><small>[ hidden field = \" + jsonId + \" ]</small></p>\"\n    $(thisFormId).append( hideNote );\n  }\n} // addHiddenText()\n\nfunction addUriValue(){\n// get info from url and apply to form element\n  var thisUrl = window.location.href;\n  var targetId = \"#\" + jsonId;\n  var targetIdSpan = \"#\" + jsonId + \"Span\";\n\n  var isDisabled = jsonType.indexOf(\"-disabled\"); // \" disabled if > -1\"\n  var isLabeled = jsonType.indexOf(\"-label\"); // \" input w/ label  if > -1\n  var isPin = jsonType.indexOf(\"pin-\"); // \" input w/ label  if > -1\n\n  var thisMin = 0; //minimum value.length\n  var thisPattern = optionList[1]; // exmpl = [A-Za-z0-9]{7}\n  var isLimited = thisPattern.indexOf(\"{\");\n  // pattern with number limit, exmpl = [A-Za-z0-9]{7}\n\n  var labelTarget;\n  var labelSuccess = $(targetId ).data('success');\n\n  if(isLabeled > -1){\n    labelTarget = $(targetId ).data('label');\n  }\n\n  if(isLimited  > -1  && isPin > -1){\n    // pull number between '{}' brackets, if pin jsonType\n    var newMin = Number( thisPattern.match(/{([^}]+)}/)[1] );\n    if(newMin > 0){ thisMin = newMin - 1} ;\n  }\n\n  var filter00 = thisUrl.split('?'); // get tail of url\n  if(filter00[1]){ // if data exists for split\n    var filter01 =  filter00[1].split('&'); // split tail info\n    var valueList = filter01; // array of form IDs & values\n\n    for (i = 0; i < valueList.length; i++) {\n      var filter03 = valueList[i].split('=');\n      var filterId = filter03[0]; // id from this split\n      var filterValue = decodeURI(filter03[1]); // value from this split\n      if(filterId == jsonId && filterValue.length > thisMin){\n        $(targetId).val(filterValue); // add value to field\n        validList[jsonIndex] = true; // set valid\n        $(targetId).prop('aria-describedby', 'inputSuccess2Status'); // style for success\n        $(targetIdSpan).addClass('glyphicon glyphicon-ok'); // show okay entry icons\n      }\n      if(filterId == jsonId && filterValue.length > thisMin && isLabeled > -1){\n        $(labelTarget).html(labelSuccess); // update label for success\n      }\n    }\n  } // end fitler00[1]\n\n  if(isDisabled > 0){\n    var targetBlock = \".blockgroup-\" + jsonIndex; //$(targetId).prop( \"disabled\", true );\n    $(targetId).addClass(\"fieldDisable\");\n    $(targetBlock).addClass(\"notAllowed\");\n  }\n\n} // addUriValue()\n\n\nfunction addEmail(){\n\n  if(jsonPrimary == true){\n    jsonId = primaryEmailTag;\n  }\n\n  var thisElement =\n\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback \" + blockGroup + \"'>\" +\n    \"<input type='\" + jsonType +\n    \"' class='form-control screenInput' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-label='\"+ jsonSuccess + \"' placeholder='\" + jsonSuccess +\n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-ulc='\" + jsonUlc +\n    \"' data-apicheck='\" + jsonApi +\n    \"' pattern='[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$'\" +  // remove this line for '@' only validation\n    \"'>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n\n  // note playerId target element\n  if(jsonPlayerId == true){ playeIdTarget = \"#\" + jsonId };\n}\n\nfunction addEmailSubmitted(){\n\n  if(jsonPrimary == true){\n    jsonId = primaryEmailTag;\n  }\n\n  var miscClass = \"screen-\" + optionList[0];\n  var thisAbled = optionList[0];\n  var thisLabel = jsonId + \"Label\";\n  var targetId = \"#\" + jsonId;\n  var thisEmail = exitlinks[0].email_primary;\n\n  switch(jsonUlc) { // filter ulc of email display\n    case \"uppercase\":\n      thisEmail = thisEmail.toUpperCase();\n      break;\n    case \"lowercase\":\n      thisEmail = thisEmail.toLowerCase();\n      break;\n    default:\n      thisEmail = thisEmail; // user, collapse, mixedcase or Nan\n  }\n\n  if(jsonSuccess.length < 1){jsonSuccess =\"&nbsp;\"};\n  if(jsonFail.length < 1){jsonFail =\"&nbsp;\"};\n\n  var thisElement =\n\n    //\"<label id='\" + thisLabel + \"' class='inputLabel'>\" + jsonSuccess + \"</label>\" +\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback form-group-label submittedEmailBlock \" + blockGroup + \"'>\" +\n    \"<span id='\" + thisLabel + \"' class='inputLabel'>\" + jsonSuccess + \"</span>\" +\n    \"<input type='email' \" +\n    \" class='form-control screenLabel \" + miscClass + \"' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-describedby='' placeholder='\" + jsonUtility01 +\n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-ulc='\" + jsonUlc +\n    \"' data-apicheck='\" + jsonApi +\n    \"' data-label='#\" + thisLabel +\n    \"' pattern='[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$' \"  +\n    \" title='\" + jsonUtility01 +\n    \"'>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n\n  $(thisFormId).append( thisElement );\n  // addValidState(jsonRequired);\n\n  if(jsonType == \"email-submitted-locked\"){\n    addValidState(jsonRequired); // submit 'true', validated, for disabled inputs\n    $(targetId).val(thisEmail);\n  } else {\n    // for \"email-submitted-unlocked\"\n    switch(thisEmail) {\n      case \"none\":\n        addValidState(true); // make required if no email logged\n        break;\n      default: // sample@example.com\n        addValidState(jsonRequired);\n        $(targetId).val(thisEmail);\n        validList[jsonIndex] = true; // mark as validated for loaded email\n    } // end switch\n\n  } // end if for \"email-submitted-locked\" || \"email-submitted-unlocked\"\n\n  if(thisAbled == \"disabled\"){\n    $(targetId).attr(\"disabled\", \"disabled\");\n    $(targetId).removeClass(\"screenLabel\");\n  }\n\n  if(jsonIndex == 0){\n    $('.submittedEmailBlock').addClass('topSpacerHalfem');\n  }\n\n}\n\nfunction addEmailSubmittedInput(){\n\n  if(jsonPrimary == true){\n    jsonId = primaryEmailTag;\n  }\n\n  //var miscClass = \"screen-\" + optionList[0];\n  var thisAbled = optionList[0];\n  //var thisLabel = jsonId + \"Label\";\n  var targetId = \"#\" + jsonId;\n  var thisEmail = exitlinks[0].email_primary;\n\n  switch(jsonUlc) { // filter ulc of email display\n    case \"uppercase\":\n      thisEmail = thisEmail.toUpperCase();\n      break;\n    case \"lowercase\":\n      thisEmail = thisEmail.toLowerCase();\n      break;\n    default:\n      thisEmail = thisEmail; // user, collapse, mixedcase or Nan\n  }\n\n  var thisElement =\n\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback \" + blockGroup + \"'>\" +\n    \"<input type='\" + jsonType +\n    \"' class='form-control screenInput' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-label='\" + jsonSuccess + \"' placeholder='\" + jsonSuccess + \n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-ulc='\" + jsonUlc +\n    \"' data-apicheck='\" + jsonApi +\n    \"' pattern='[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$'\" +  // remove this line for '@' only validation\n    \"'>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n\n  $(thisFormId).append( thisElement );\n  // addValidState(jsonRequired);\n\n  if(jsonType == \"email-submitted-locked-input\"){\n    addValidState(jsonRequired); // submit 'true', validated, for disabled inputs\n    $(targetId).val(thisEmail);\n  } else {\n    // for \"email-submitted-unlocked\"\n    switch(thisEmail) {\n      case \"none\":\n        addValidState(true); // make required if no email logged\n        break;\n      default: // sample@example.com\n        addValidState(jsonRequired);\n        $(targetId).val(thisEmail);\n        validList[jsonIndex] = true; // mark as validated for loaded email\n    } // end switch\n\n  } // end if for \"email-submitted-locked\" || \"email-submitted-unlocked\"\n\n  if(thisAbled == \"disabled\"){\n    $(targetId).attr(\"disabled\", \"disabled\");\n    $(targetId).removeClass(\"screenLabel\");\n  }\n\n  if(jsonIndex == 0){\n    $('.submittedEmailBlock').addClass('topSpacerHalfem');\n  }\n\n}\n\nfunction addEmailLc(){\n\n  if(jsonPrimary == true){\n    jsonId = primaryEmailTag;\n  }\n\n  jsonUlc = \"lowercase\";\n\n  var thisElement =\n\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback \" + blockGroup + \"'>\" +\n    \"<input type='\" + jsonType +\n    \"' class='form-control screenEmailLc' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-label='\" + jsonSuccess + \"' placeholder='\" + jsonSuccess +\n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-ulc='\" + jsonUlc +\n    \"' data-apicheck='\" + jsonApi +\n    \"' pattern='[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$'\" +  // remove this line for '@' only validation\n    \"'>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n\n  // note playerId target element\n  if(jsonPlayerId == true){ playeIdTarget = \"#\" + jsonId };\n}\n\nfunction addEmailPair(){\n\n  var idList = ['emailpair01', 'emailpair01', 'emailpair02', 'emailpair02'];\n  var formNameList = ['emailpair01', 'emailpair01', 'emailpair02', 'emailpair02'];\n\n  if(jsonPrimary == true){\n    formNameList[0] = primaryEmailTag;\n    formNameList[1] = primaryEmailTag;\n  }\n\n  for (var i = 0; i < optionList.length; i++) {\n    if(i % 2){\n      var iPrevious = i-1;\n      jsonId = idList[i];\n      if(i != 1){ jsonIndex += 1 };\n      var elementA =\n        \"<div id='\" + idList[i] +\n        \"Div' class='form-group has-feedback \" + blockGroup + \"'>\" +\n        \"<input class='form-control screenEmailPair' id='\" + idList[i] +\n        \"' name='\" + formNameList[i] +\n        \"' aria-label='\" + optionList[iPrevious] +\n        \"' placeholder='\" + optionList[iPrevious] +\n        \"' data-index='\" + jsonIndex +\n        \"' data-block='\" + blockIndex +\n        \"' data-success='\" + optionList[iPrevious] +\n        \"' data-fail='\"+ optionList[i] +\n        \"' data-ulc='\" + jsonUlc +\n        \"' data-apicheck='\" + jsonApi +\n        \"' pattern='[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$'\" +  // remove this line for '@' only validation\n        \"' type='email'>\" +\n        \"<span id='\" + idList[i] +\n        \"Span' class=' form-control-feedback' aria-hidden='true'></span></div>\";\n\n      $(thisFormId).append( elementA );\n      addValidState(jsonRequired);\n    } // modulus 2 if bracket\n  } // end loop\n\n  // note playerId target element\n  if(jsonPlayerId == true){ playeIdTarget = \"#\" + idList[1] };\n} // end addEmailPair()\n\nfunction addTelephone(){\n\n  if(jsonPrimary == true){\n    jsonId = primaryPhoneTag;\n  }\n\n  var thisElement =\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback \" + blockGroup + \"'>\" +\n    \"<input type='tel'\" +\n    \" class='form-control screenPhone' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-label='\" + jsonSuccess + \"' placeholder='\" + jsonSuccess +\n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-apicheck='\" + jsonApi +\n    \"' maxlength='12'\" +\n    \">\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n\n  // note playerId target element\n  if(jsonPlayerId == true){ playeIdTarget = \"#\" + jsonId };\n}\n\nfunction addIntTelephone(){\n\n  if(jsonPrimary == true){\n    jsonId = primaryPhoneTag;\n  }\n\n  var thisElement =\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback \" + blockGroup + \"'>\" +\n    \"<input type='tel'\" +\n    \" class='form-control screenInput' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-label='\" + jsonSuccess + \n    \"' placeholder='\" + jsonSuccess + \n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-ulc='\" + jsonUlc +\n    \"' data-apicheck='\" + jsonApi +\n    \"' maxlength='21'>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n\n  // note playerId target element\n  if(jsonPlayerId == true){ playeIdTarget = \"#\" + jsonId };\n}\n\nfunction addTextRow(){\n//make table id\n  var optionLc0 = optionList[0].replace(/ /g, \"-\").toLowerCase();\n  var optionLc2 = optionList[2].replace(/ /g, \"-\").toLowerCase();\n  var tableId = \"table-\" + jsonIndex;\n  var thisTrId = \"tr-\" + jsonIndex\n  var thisTr = \"#\" + thisTrId;\n  var tdClass = \"tdLeftRight\";\n  var lastOption = optionList.length - 1;\n\n// insert table\n  var tableLayout = \"<div id='\" + tableId + \"' class='elementTable \" + blockGroup + \"'><div id='\" + thisTrId + \"' class='inputTr flex'></div></div>\";\n  $(thisFormId).append( tableLayout );\n\n  for (var i = 0; i < optionList.length; i++) {\n    if(i % 2){\n      var iPrevious = i-1;\n      var optionName = filterNames(optionList[iPrevious] + \"-\" + jsonIndex);\n      var thisId = \"#\" + optionName;\n      if(i != 1){ jsonIndex += 1 };\n      var elementA =\n        \"<div id='\" + optionName + \"Div\" +\n        \"' class='form-group has-feedback'>\" +\n        \"<input type='text'\" + //jsonType +\n        \" class='form-control screenInput' id='\" + optionName +\n        \"' name='\" + optionName +\n        \"' aria-label='\" + optionList[iPrevious] + \"' placeholder='\" + optionList[iPrevious] +\n        \"' data-index='\" + jsonIndex +\n        \"' data-block='\" + blockIndex +\n        \"' data-success='\" + optionList[iPrevious] +\n        \"' data-fail='\" + optionList[i] +\n        \"' data-ulc='\" + jsonUlc +\n        \"' data-apicheck='\" + jsonApi +\n        \"'>\" +\n        \"<span id='\" + optionName + \"Span\" +\n        \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n        \"</div>\";\n\n      //SWITCH FOR TD PADDING\n      switch(i) {\n        case 1:\n          tdClass = \"tdLeft\";\n          break;\n        case lastOption:\n          tdClass = \"tdRight\";\n          break;\n        default:\n          tdClass = \"tdLeftRight\"\n      }\n\n      var thisTd = \"<span class='\" + tdClass + \"'>\" + elementA + \"</span>\";\n      $(thisTr).append( thisTd );\n\n      if(jsonRequired){  $(thisId).attr(\"required\", \"true\") };\n      validList.push(!jsonRequired);\n\n    } // modulus 2 if bracket\n  } // end loop\n\n} // end function\n\nfunction addTextSelect(){\n\n  var tableId = \"#table-\" + jsonIndex;\n  var tdIdOne = \"#td-left-\" + jsonIndex;\n  var tdIdTwo = \"#td-right-\" + jsonIndex;\n\n  var thisTable =\n  \"<div id='table-\" + jsonIndex + \"' class='elementTable \" + blockGroup + \"'> \\\n    <div class='inputTr flex'> \\\n    <span id='td-left-\" + jsonIndex + \"' class='tdLeft'></span> \\\n    <span id='td-right-\" + jsonIndex + \"' class='tdRight tdSelect'></span> \\\n    </div> \\\n  </div>\";\n\n  $(thisFormId).append( thisTable );\n\n// INPUT BEGIN\n\n  var successName = filterNames(jsonSuccess + \"-\" + jsonIndex);\n  var thisId = \"#\" + successName;\n  var thisInput =\n    \"<div id='\" + successName + \"Div\" +\n    \"' class='form-group has-feedback \" + blockGroup + \"'>\" +\n    \"<input type='text'\" + //jsonType +\n    \" class='form-control screenInput' id='\" + successName +\n    \"' name='\" + successName +\n    \"' aria-label='\" + jsonSuccess + \n    \"' placeholder='\" + jsonSuccess +  \n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-ulc='\" + jsonUlc +\n    \"' data-apicheck='\" + jsonApi +\n    \"'>\" +\n    \"<span id='\" + successName + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n\n  $(tdIdOne).append( thisInput );\n  addValidState(jsonRequired);\n\n  if(jsonRequired == true){\n    $(thisId).attr(\"required\", \"true\")\n  }\n\n// SELECT BEGIN\n  jsonIndex += 1\n  var filter02 = filterNames(optionList[0]);\n  var selectName = filterNames(filter02 + \"-\" + jsonId + \"-\" + jsonIndex);\n  var selectId = \"#\" + selectName;\n  var thisSelect =\n    \"<select name='\" + selectName +\n    \"' id='\" + selectName +\n    \"' + aria-label='\" + selectName +\n    \"' class='form-control screenSelect \" + blockGroup + \"'\" +\n    \" data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-apicheck='\" + jsonApi +\n    \"' ><option value='no_selection'>\" + optionList[0]//jsonSuccess\n    + \"</option></select>\";\n\n  $(tdIdTwo).append( thisSelect );\n  if(jsonRequired){  $(selectId).attr(\"required\", \"true\") };\n  addValidState(jsonRequired);\n\n  // SELECT OPTION CONTENT BEGIN\n  for (var i = 0; i < optionList.length; i++) {\n    if(i > 0){\n      var valueSource = optionList[i];\n      //var valueFilter01 = filterNames(valueSource);\n      var valueFilter01 = valueSource.replace(/['\"]+/g, '')\n      var thisText = optionList[i];\n      var thisOption = \"<option value='\" + valueFilter01 + \"'>\" + thisText + \"</option>\";\n      $(selectId).append( thisOption );\n    } // end if\n  } // end loop\n\n  // resize 2nd TD CONTAINING DROPDOWN\n  // ALSO HAPPENS IN WINDOW RESIZE, SEE FUNCTION sizeTdSelect();\n  var thisWidth = $(tableId).width();\n  var tdWidth = Math.round( thisWidth * .5 );\n  $(tdIdTwo).css('width', tdWidth);\n}  // END addTextSelect()\n\nfunction addZip(){\n\n  var thisElement =\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback \" + blockGroup + \"'>\" +\n    \"<input type='\" + jsonType +\n    \"' class='form-control screenZip' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-label='\" + jsonSuccess + \n    \"' placeholder='\" + jsonSuccess + \n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-region='\" + optionList[0] +\n    \"' maxlength='\" + optionList[1] +\n    \"' data-ulc='\" + jsonUlc +\n    \"' data-apicheck='\" + jsonApi +\n    \"' pattern=''>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n  setZipType();\n}\n\nfunction setZipType(){\n  var targetId = \"#\" + jsonId;\n  var thisRegion = $(targetId).data(\"region\");\n\n  switch(thisRegion) {\n    case \"unitedstates\":\n      $( targetId ).attr(\"type\", \"tel\");\n      $( targetId ).attr(\"pattern\", \"([0-9]{5})\");\n      break;\n    case \"canada\":\n      $( targetId ).attr(\"type\", \"text\");\n      //$( targetId ).attr(\"pattern\", \"([A-Za-z][0-9][A-Za-z] [0-9][A-Za-z][0-9])\");\n      $( targetId ).attr(\"pattern\", \"(\\d{5}([\\-]\\d{4})?)|[A-Za-z][0-9][A-Za-z][ -]?[0-9][A-Za-z][0-9]\");\n      break;\n    default:\n      $( targetId ).attr(\"type\", \"text\");\n      //$( targetId ).attr(\"pattern\", \"(\\d{5}([\\-]\\d{4})?)|[A-Za-z][0-9][A-Za-z][ -]?[0-9][A-Za-z][0-9]\");\n      $( targetId ).attr(\"pattern\", \"[0-9]{5}|[A-Za-z][0-9][A-Za-z][ -]?[0-9][A-Za-z][0-9]\");\n  } //end switch\n} //end setZipType\n\nfunction addButton(){\n\n  //jsonUtility01 = button-entry, button-exit, button-goback\n\n  var thisAlign = \"text-\" + jsonAlign;\n  var thisClass = formOptions.form_class;\n  var thisType = \"button\";\n  var thisName = \"button-id\";\n\n  if(thisClass == \"exit\") {\n    thisType = \"submit\";\n  } else {\n    jsonId = \"button-submit\"; // overwrite editor id naming tweaks\n  }\n\n  var thisElement =\n    \"<p class='\" + thisAlign + \" form-submit-btn \" + blockGroup  + \"'><button id='\" + jsonId +\n    \"' name='\" + thisName +\n    \"' value='\" + jsonId +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' class='btn btn-default \" + jsonUtility01 +\n    \" disabled' disabled type='\" + thisType + \"'>\" + jsonFail +\n    \"</button></p>\"\n  $(thisFormId).append( thisElement );\n\n  if(jsonRequired == false){\n    $(jsonId).removeAttr(\"disabled\");\n    $(jsonId).removeClass(\"disabled\");\n    $(jsonId).append(bntValidIcon); // btn span for check icon\n    $(jsonId).html(jsonSuccess);\n  }\n\n  if(jsonUtility01 == \"button-goback\"){\n    $(jsonId).removeAttr(\"disabled\");\n    $(jsonId).removeClass(\"disabled\");\n    $(jsonId).append(\"<span class='glyphicon glyphicon-chevron-left'></span>\");\n    $(jsonId).html(jsonSuccess);\n  }\n\n  validList.push(true);\n}\n\nfunction addButtonGoBack(){\n\n  //jsonUtility01 = button-goback\n\n  var thisAlign = jsonAlign; //optionList[0];\n\n  var tableLayout = \"<div id='entry-btn-table' class='\" + blockGroup + \"'><div id='entry-btn-tr' class='flex'></div></div>\";\n  $(thisFormId).append( tableLayout );\n\n  var thisElement = \"<span class='tdLeft'><span id='button-goback' class='btn btn-default button-goback'>\" + \n    \"<span class='glyphicon glyphicon-chevron-left'></span>\" + jsonUtility01 + \"</span></span>\" + \n    \"<span class='tdRight'>\" + \n    \"<button id='button-submit' class='btn btn-default button-enter disabled' disabled\" + \n    \" data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"'  type='button'>\" + jsonFail + \"</button></span>\";\n\n  $('#entry-btn-tr').append( thisElement );\n\n  // align switch for table\n  switch(thisAlign) {\n    case \"left\":\n      $('#entry-btn-table').addClass('formTableLeft');\n      break;\n    case \"right\":\n      $('#entry-btn-table').addClass('formTableRight');\n      break;\n    case \"center\":\n      $('#entry-btn-table').addClass('formTableCenter');\n      break;\n    default:\n      $('#entry-btn-table').addClass('formTableCenter');\n  } // end align switch\n\n  validList.push(true);\n\n} // addButtonGoBack\n\nfunction addButtonUrl(){\n\n  //jsonUtility01 = button-entry, button-exit, button-goback\n\n  var thisAlign = \"text-\" + jsonAlign; //optionList[0];\n  var thisClass = formOptions.form_class;\n  var thisType = \"button\";\n  jsonId = \"button-url\"; // overwrite editor id naming tweaks\n\n  if(thisClass == \"exit\"){thisType = \"submit\"};\n\n  var thisElement =\n    \"<p class='\" + thisAlign + \" form-submit-btn \" + blockGroup + \"'><button id='\" + jsonId +\n    \"' data-url='\" + jsonUtility01 +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' class='btn btn-default button-url\"  +\n    \" disabled' disabled type='\" + thisType + \"'>\" + jsonFail +\n    \"</button></p>\"\n  $(thisFormId).append( thisElement );\n\n  if(jsonRequired == false){\n    $(jsonId).removeAttr(\"disabled\");\n    $(jsonId).removeClass(\"disabled\");\n    $(jsonId).append(bntValidIcon); // btn span for checkmark icon\n    $(jsonId).html(jsonSuccess);\n  }\n\n  validList.push(true);\n} // addButtonUrl()\n\nfunction addTextBtnUrl(){\n\n  var thisAlign = \"text-\" + jsonAlign; //optionList[0];\n\n  var thisElement =\n    \"<p class='\" + thisAlign + \" \" + blockGroup + \"'>\" +\n    \"<a class='btn btn-default' href='\" + jsonFail+\n    \"' target='\" + jsonUtility01 +\n    \"'>\" + jsonSuccess + \"</a></p>\";\n  $(thisFormId).append( thisElement );\n\n  addValidState(false);\n} // addTextBtnUrl()\n\nfunction addTextUrl(){\n\n  var thisAlign = \"text-\" + jsonAlign; //optionList[0];\n\n  var thisElement =\n    \"<p class='\" + thisAlign + \" \" + blockGroup + \"'>\" +\n    \"<a class='' href='\" + jsonFail+\n    \"' target='\" + jsonUtility01 +\n    \"'>\" + jsonSuccess + \"</a></p>\";\n  $(thisFormId).append( thisElement );\n\n  addValidState(false);\n} // addTextUrl()\n\nfunction addButtonOrExit(){\n\n  var thisAlign = jsonAlign; //optionList[0];\n\n  var tableLayout = \"<div id='entry-btn-table' class='\" + blockGroup + \"'><div id='entry-btn-tr' class='flex'></div></div>\";\n  $(thisFormId).append( tableLayout );\n\n  var thisElement = \"<span class='tdLeft'><span id='button-exitlink' class='btn btn-default button-exitlink'\" +\n    \"data-url='\" + optionList[0] +\"'>\" + \n    \"<span class='glyphicon glyphicon-chevron-left'></span>\" + jsonUtility01 + \"</span></span>\" + \n    \"<span class='tdRight'>\" + \n    \"<button id='button-submit' class='btn btn-default button-enter disabled' disabled\" + \n    \" data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"'  type='button'>\" + jsonFail + \"</button></span>\";\n\n  $('#entry-btn-tr').append( thisElement );\n\n  // align switch for table\n  switch(thisAlign) {\n    case \"left\":\n      $('#entry-btn-table').addClass('formTableLeft');\n      break;\n    case \"right\":\n      $('#entry-btn-table').addClass('formTableRight');\n      break;\n    case \"center\":\n      $('#entry-btn-table').addClass('formTableCenter');\n      break;\n    default:\n      $('#entry-btn-table').addClass('formTableCenter');\n  } // end align switch\n\n  validList.push(true);\n\n} // addButtonOrExit()\n\nfunction addButtonEnabled(){\n\n  //jsonUtility01 = button-entry, button-exit, button-goback\n\n  var thisAlign = \"text-\" + jsonAlign; //optionList[0];\n  var thisClass = formOptions.form_class;\n  var thisType = \"button\";\n\n  if(thisClass == \"exit\") {\n    thisType = \"submit\";\n  } else {\n    jsonId = \"button-submit\"; // overwrite editor id naming tweaks\n  }\n\n  var thisElement =\n    \"<p class='\" + thisAlign + \" form-submit-btn \" + blockGroup + \"'><button id='\" + jsonId +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' class='btn btn-default \" + jsonUtility01 +\n    \"' type='\" + thisType + \"'>\" + bntValidIcon + jsonSuccess +\n    \"</button></p>\"\n  $(thisFormId).append( thisElement );\n\n  validList.push(true);\n}\n\nfunction addDemoBtn(){\n  var thisElement = \"<a id='demoBtn' class='btn btn-default btn-xs center-block'>Submit Demo Form</a>\";\n\n  var thisUrl = document.location.href;\n  var fileIndexOf = thisUrl.indexOf(\"file:\");\n  var httpIndexOf = thisUrl.indexOf(\"http\");\n\n  if(fileIndexOf > -1 && httpIndexOf == -1 && formOptions.form_class == \"entry\" && gameclass){\n    $(thisFormId).append( thisElement );\n    gameclass = 'demo';\n  }\n}\n\nfunction addSelect(){\n\n  //var thisValidState = jsonRequired;\n\n  var filter01 = jsonId.toLowerCase();\n  var thisName = filterNames(filter01);\n  var thisId = \"#\" + thisName;\n\n  var thisElement =\n    \"<select name='\" + thisName +\n    \"' aria-label='\" + thisName +\n    \"' id='\" + thisName +\n    \"' class='form-control screenSelect \" + blockGroup + \"'\" +\n    \" data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-apicheck='\" + jsonApi +\n    \"' ><option value='no_selection'>\" + optionList[0]//jsonSuccess\n    + \"</option></select>\";\n\n  $(thisFormId).append( thisElement );\n\n  for (var i = 0; i < optionList.length; i++) {\n    var valueSource = optionList[i];\n    //var valueFilter01 = filterNames(valueSource);\n    var valueFilter01 = valueSource.replace(/['\"]+/g, '');\n    var thisText = optionList[i];\n    var thisOption = \"<option value='\" + valueFilter01 + \"'>\" + thisText + \"</option>\";\n    if(i>0){\n      $(thisId).append( thisOption );\n    }\n  }\n\n  if(jsonRequired){  $(thisId).attr(\"required\", \"true\") };\n  validList.push(!jsonRequired);\n}\n\nfunction addSelectChainFilter(){\n\n  var filter01 = jsonId.toLowerCase();\n  var thisName = filterNames(filter01);\n  var thisId = \"#\" + thisName;\n  var thisGroupIndex = -1; // index for group naming\n  var thisIdIndex = -1; // index for unique element\n  var thisGroupName = \"\";\n  var thisIdName = \"\";\n  var thisTableName = \"\";\n  var textAlign = \"text-\" + jsonAlign;\n\n  // GROUP INDEXING...\n  var groupIndexing = filterGroupList.indexOf(jsonUtility01);\n  if(groupIndexing == -1){\n    filterGroupList.push(jsonUtility01);\n    filterCountList = [];\n    filterCountList.push(filterCountList.length);\n    chainSuccess = jsonSuccess;\n    chainFail = jsonFail;\n  } else {\n    filterCountList.push(filterCountList.length);\n  }\n\n  thisGroupIndex = filterGroupList.indexOf(jsonUtility01);\n  thisIdIndex = filterCountList.length -1;\n  thisGroupName = filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex;\n  thisIdName = filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex + \"-\" + thisIdIndex;\n  thisTableName = \"table-\" + filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex;\n  var thisTrName = \"tr-\" + filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex;\n  var thisTrTarget = \"#\" + thisTrName;\n  var thisThName = \"th-\" + filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex;\n  var thisThTarget = \"#\" + thisThName;\n  var noSelectionValue = \"no_selection-\" + + thisGroupIndex + \"-\" + thisIdIndex;\n  thisId = \"#\" + thisIdName;\n\n  var thisTable =\n  \"<div id='\" + thisTableName + \"' class='table-chain \" + blockGroup + \"'>\\\n    <div class='flex-col'>\\\n      <span id='\" + thisThName + \"' class='th-chain \" + textAlign + \"' colspan='0'>\" + chainSuccess + \"</span>\\\n    </div>\\\n    <div id='\" + thisTrName + \"'></div>\\\n  </div>\";\n\n\n  if(thisIdIndex == 0){\n    $(thisFormId).append( thisTable );\n  }\n\n  $(thisThTarget).attr(\"colspan\", thisIdIndex + 1);\n\n  var thisElement =\n    \"<span><select name='\" + thisName +\n    \"' aria-label='\" + thisName +\n    \"' id='\" + thisIdName +\n    \"' class='form-control screenSelectFilter selectRow \" + blockGroup + \" select-chain-\" + thisGroupIndex +\n    \"' data-target='\" + thisIdIndex +\n    \"' data-group='\" + thisGroupIndex +\n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + chainSuccess +\n    \"' data-fail='\" + chainFail +\n    \"' data-th='\" + thisThTarget +\n    \"' data-apicheck='\" + jsonApi +\n    \"' ><option value='\" + noSelectionValue + \"'>\" + optionList[0] + //jsonSuccess\n    \"</option></select></span>\";\n\n  $(thisTrTarget).append( thisElement );\n\n  for (var i = 0; i < optionList.length; i++) {\n    var valueSource = optionList[i];\n    var valueFilter01 = filterNames(valueSource); // writes class\n    var valueFilter02 = valueSource.replace(/['\"]+/g, ''); // writes value\n    var thisText = optionList[i];\n    var thisOption = \"<option class='\" + valueFilter01 + \"' value='\" + valueFilter02 + \"'>\" + thisText + \"</option>\";\n    if(i>0){\n      $(thisId).append( thisOption );\n    }\n  }\n\n  if(jsonRequired){  $(thisId).attr(\"required\", \"true\") };\n  validList.push(!jsonRequired);\n} // end addSelectChainFilter()\n\nfunction addSelectChainVertical(){\n\n  var filter01 = jsonId.toLowerCase();\n  var thisName = filterNames(filter01);\n  var thisId = \"#\" + thisName;\n  var thisGroupIndex = -1; // index for group naming\n  var thisIdIndex = -1; // index for unique element\n  var thisGroupName = \"\";\n  var thisIdName = \"\";\n  var thisTableName = \"\";\n  var textAlign = \"text-\" + jsonAlign;\n\n  // GROUP INDEXING...\n  var groupIndexing = filterGroupList.indexOf(jsonUtility01);\n  if(groupIndexing == -1){\n    filterGroupList.push(jsonUtility01);\n    filterCountList = [];\n    filterCountList.push(filterCountList.length);\n    chainSuccess = jsonSuccess;\n    chainFail = jsonFail;\n  } else {\n    filterCountList.push(filterCountList.length);\n  }\n\n  thisGroupIndex = filterGroupList.indexOf(jsonUtility01);\n  thisIdIndex = filterCountList.length -1;\n  thisGroupName = filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex;\n  thisIdName = filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex + \"-\" + thisIdIndex;\n  thisTableName = \"table-\" + filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex;\n  var thisTableTargetId = \"#\" + thisTableName;\n  var thisTrName = \"tr-\" + filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex;\n  var thisTrTarget = \"#\" + thisTrName;\n  var thisThName = \"th-\" + filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex;\n  var thisThTarget = \"#\" + thisThName;\n  var noSelectionValue = \"no_selection-\" + + thisGroupIndex + \"-\" + thisIdIndex;\n  thisId = \"#\" + thisIdName;\n\n  var thisTable =\n    \"<div id='\" + thisTableName + \"' class='table-chain table-chain-vertical \" + blockGroup + \"'>\\\n      <div class='flex-col'>\\\n        <span id='\" + thisThName + \"' class='th-chain \" + textAlign + \"'>\" + chainSuccess + \"</span>\\\n      </div>\\\n      <div id='\" + thisTrName + \"'></div>\\\n    </div>\";\n\n  if(thisIdIndex == 0){\n    $(thisFormId).append( thisTable );\n  }\n\n  //$(thisThTarget).attr(\"colspan\", thisIdIndex + 1);\n\n  var thisElement =\n    \"<div class='flex-col'><span class='td-chain-vertical'><select name='\" + thisName +\n    \"' aria-label='\" + thisName +\n    \"' id='\" + thisIdName +\n    \"' class='form-control screenSelectFilter \" + blockGroup + \" select-chain-\" + thisGroupIndex +\n    \"' data-target='\" + thisIdIndex +\n    \"' data-group='\" + thisGroupIndex +\n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + chainSuccess +\n    \"' data-fail='\" + chainFail +\n    \"' data-th='\" + thisThTarget +\n    \"' data-apicheck='\" + jsonApi +\n    \"' ><option value='\" + noSelectionValue + \"'>\" + optionList[0] + //jsonSuccess\n    \"</option></select></span></div>\";\n\n  //$(thisTrTarget).append( thisElement );\n  $(thisTableTargetId).append(thisElement );\n\n  for (var i = 0; i < optionList.length; i++) {\n    var valueSource = optionList[i];\n    var valueFilter01 = filterNames(valueSource);\n    var valueFilter02 = valueSource.replace(/['\"]+/g, '');\n    var thisText = optionList[i];\n    var thisOption = \"<option class='\" + valueFilter01 + \"' value='\" + valueFilter02 + \"'>\" + thisText + \"</option>\";\n    if(i>0){\n      $(thisId).append( thisOption );\n    }\n  }\n\n  if(jsonRequired){  $(thisId).attr(\"required\", \"true\") };\n  validList.push(!jsonRequired);\n} // end addSelectChainVertical()\n\n/* ::::::::: [ HORIZONTAL SELECTS (NOT-CHAINED) BEGIN ] :::::::::: */\n\nfunction addSelectRow(){\n\n  var filter01 = jsonId.toLowerCase();\n  var thisName = filterNames(filter01);\n  var thisId = \"#\" + thisName;\n  var thisGroupIndex = -1; // index for group naming\n  var thisIdIndex = -1; // index for unique element\n  var thisGroupName = \"\";\n  var thisIdName = \"\";\n  var thisTableName = \"\";\n\n  // GROUP INDEXING...\n  var groupIndexing = filterGroupList.indexOf(jsonUtility01);\n  if(groupIndexing == -1){\n    filterGroupList.push(jsonUtility01);\n    filterCountList = [];\n    filterCountList.push(filterCountList.length);\n    chainSuccess = jsonSuccess;\n    chainFail = jsonFail;\n  } else {\n    filterCountList.push(filterCountList.length);\n  }\n\n  thisGroupIndex = filterGroupList.indexOf(jsonUtility01);\n  thisIdIndex = filterCountList.length -1;\n  thisGroupName = filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex;\n  thisIdName = filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex + \"-\" + thisIdIndex;\n  thisTableName = \"table-\" + filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex;\n  var thisTrName = \"tr-\" + filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex;\n  var thisTrTarget = \"#\" + thisTrName;\n  var noSelectionValue = \"no_selection-\" + + thisGroupIndex + \"-\" + thisIdIndex;\n  thisId = \"#\" + thisIdName;\n\n  var thisTable =\n    \"<div id='\" + thisTableName + \"' class='table-chain table-select-row \" + blockGroup + \"'>\\\n      <div id='\" + thisTrName + \"' class='flex-col'></div>\\\n    </div>\";\n\n  if(thisIdIndex == 0){\n    $(thisFormId).append( thisTable );\n  }\n\n  var thisElement =\n    \"<span><select name='\" + thisName +\n    \"' aria-label='\" + thisName +\n    \"' id='\" + thisIdName +\n    \"' class='form-control screenSelect selectRow \" + blockGroup + \" select-chain-\" + thisGroupIndex +\n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + chainSuccess +\n    \"' data-fail='\" + chainFail +\n    \"' data-apicheck='\" + jsonApi +\n    \"' ><option value='\" + noSelectionValue + \"'>\" + optionList[0] + //jsonSuccess\n    \"</option></select></span>\";\n\n  $(thisTrTarget).append( thisElement );\n\n  for (var i = 0; i < optionList.length; i++) {\n    var valueSource = optionList[i];\n    var valueFilter01 = filterNames(valueSource);\n    var valueFilter02 = valueSource.replace(/['\"]+/g, '');\n    var thisText = optionList[i];\n    var thisOption = \"<option class='\" + valueFilter01 + \"' value='\" + valueFilter02 + \"'>\" + thisText + \"</option>\";\n    if(i>0){\n      $(thisId).append( thisOption );\n    }\n  }\n\n  if(jsonRequired){  $(thisId).attr(\"required\", \"true\") };\n  validList.push(!jsonRequired);\n} // addSelectRow()\n\nfunction addSelectLabelRow(){\n\n  var filter01 = jsonId.toLowerCase();\n  var thisName = filterNames(filter01);\n  var thisId = \"#\" + thisName;\n  var thisGroupIndex = -1; // index for group naming\n  var thisIdIndex = -1; // index for unique element\n  var thisGroupName = \"\";\n  var thisIdName = \"\";\n  var thisTableName = \"\";\n  var textAlign = \"text-\" + jsonAlign;\n\n  // GROUP INDEXING...\n  var groupIndexing = filterGroupList.indexOf(jsonUtility01);\n  if(groupIndexing == -1){\n    filterGroupList.push(jsonUtility01);\n    filterCountList = [];\n    filterCountList.push(filterCountList.length);\n    chainSuccess = jsonSuccess;\n    chainFail = jsonFail;\n  } else {\n    filterCountList.push(filterCountList.length);\n  }\n\n  thisGroupIndex = filterGroupList.indexOf(jsonUtility01);\n  thisIdIndex = filterCountList.length -1;\n  thisGroupName = filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex;\n  thisIdName = filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex + \"-\" + thisIdIndex;\n  thisTableName = \"table-\" + filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex;\n  var thisTrName = \"tr-\" + filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex;\n  var thisTrTarget = \"#\" + thisTrName;\n  var thisThName = \"th-\" + filterGroupList[thisGroupIndex] + \"-\" + thisGroupIndex;\n  var thisThTarget = \"#\" + thisThName;\n  var noSelectionValue = \"no_selection-\" + + thisGroupIndex + \"-\" + thisIdIndex;\n  thisId = \"#\" + thisIdName;\n\n  var thisTable =\n    \"<div id='\" + thisTableName + \"' class='table-chain \" + blockGroup + \"'>\\\n      <div class='flex-col'>\\\n        <span id='\" + thisThName + \"' class='th-chain \" + textAlign + \"' colspan='0'>\" + chainSuccess + \"</span>\\\n      </div>\\\n      <div id='\" + thisTrName + \"'></div>\\\n    </div>\";\n\n  if(thisIdIndex == 0){\n    $(thisFormId).append( thisTable );\n  }\n\n  $(thisThTarget).attr(\"colspan\", thisIdIndex + 1);\n\n  var thisElement =\n    \"<span><select name='\" + thisName +\n    \"' aria-label='\" + thisName +\n    \"' id='\" + thisIdName +\n    \"' class='form-control screenSelectLabelRow select-chain-\" + thisGroupIndex +\n    \"' data-group='\" + thisGroupIndex +\n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + chainSuccess +\n    \"' data-fail='\" + chainFail +\n    \"' data-th='\" + thisThTarget +\n    \"' data-apicheck='\" + jsonApi +\n    \"' ><option value='\" + noSelectionValue + \"'>\" + optionList[0] + //jsonSuccess\n    \"</option></select></span>\";\n\n  $(thisTrTarget).append( thisElement );\n\n  for (var i = 0; i < optionList.length; i++) {\n    var valueSource = optionList[i];\n    //var valueFilter01 = filterNames(valueSource);\n    var valueFilter01 = valueSource.replace(/['\"]+/g, '');\n    var thisText = optionList[i];\n    var thisOption = \"<option value='\" + valueFilter01 + \"'>\" + thisText + \"</option>\";\n    if(i>0){\n      $(thisId).append( thisOption );\n    }\n  }\n\n  if(jsonRequired){  $(thisId).attr(\"required\", \"true\") };\n  validList.push(!jsonRequired);\n} // addSelectLabelRow()\n\nfunction addCheckBox(){\n\n  var thisElement;\n  var thisValidState = jsonRequired;\n\n  switch(optionList[0]) {\n    case \"checktrue\":\n      thisElement = // CHECKBOX CHECKED\n        \"<div class='checkbox \" + blockGroup + \"'><label><input type='\" + jsonType +\n        \"' id='\" + jsonId +\n        \"' name='\" + jsonId +\n        \"' class='screenCheckbox\" +\n        \"' data-index='\" + jsonIndex +\n        \"' data-block='\" + blockIndex +\n        \"' data-success='\" + jsonSuccess +\n        \"' data-fail='\" + jsonFail +\n        \"' data-apicheck='\" + jsonApi +\n        \"' checked>\" + \"<span id='\" + jsonId + \"Span'>\" + jsonSuccess + \"</span>\" +\n        \"</label></div>\";\n      thisValidState = true;\n      break;\n    default:\n      thisElement = // CHECKBOX NOT CHECKED\n        \"<div class='checkbox \" + blockGroup + \"'><label><input type='\" + jsonType +\n        \"' id='\" + jsonId +\n        \"' name='\" + jsonId +\n        \"' class='screenCheckbox\" +\n        \"' data-index='\" + jsonIndex +\n        \"' data-block='\" + blockIndex +\n        \"' data-success='\" + jsonSuccess +\n        \"' data-fail='\" + jsonFail +\n        \"' data-apicheck='\" + jsonApi +\n        \"'>\" + \"<span id='\" + jsonId + \"Span'>\" + jsonSuccess + \"</span>\" +\n        \"</label></div>\";\n  } // END SWITCH\n\n  $(thisFormId).append( thisElement );\n  addValidState(thisValidState);\n\n  if(optionList[0] == \"checktrue\" && thisValidState == true  ){\n    var validIndex =  validList.length - 1;\n    validList[validIndex] = true;\n  } // end if\n\n  var thisId = \"#\" + jsonId;\n  if(optionList[0] == \"checktrue\"){\n    $(thisId).val(true); //assign checked true value\n  } else {\n    $(thisId).val(false); // assign UN-checked false value\n  }\n\n  if(jsonRequired == false){\n    $(thisId).removeAttr('required');\n  }\n}\n\nfunction addCheckVertical(){\n\n  var titleElement = \"<p class='\" + blockGroup + \" checkLabelVerticalP'><label>\" + jsonSuccess + \"</label></p>\";\n  $(thisFormId).append( titleElement);\n\n  for (i = 0; i < optionList.length; i++) {\n\n    var thisName = optionList[i].replace(/\\s+/g, '-').toLowerCase() + \"-\" + jsonIndex;\n    var thisId = \"#\" + thisName;\n\n    var thisElement =\n      \"<div class='checkbox \" + blockGroup + \"'> \\\n        <label> \\\n        <input id='\" + thisName + \"'  \\\n        name='\" + thisName + \"'  \\\n        class='screenCheckGroup \" + blockGroup + \" checkGroup-\" + jsonIndex + \"'  \\\n        data-index='\" + jsonIndex + \"'  \\\n        data-block='\" + blockIndex + \"' \\\n        data-success='\"+ optionList[i] + \"'  \\\n        data-required='\"+ jsonRequired + \"'  \\\n        data-group='.checkGroup-\"+ jsonIndex + \"'  \\\n        data-apicheck='\" + jsonApi  + \"'  \\\n        data-score='0'  \\\n        type='checkbox'> \\\n        <span id='checkbox-verticalSpan'>\"+ optionList[i] + \" \\\n        </span></label></div>\";\n\n    $(thisFormId).append( thisElement );\n\n    /*if(jsonRequired == true){\n        $(thisId).attr(\"required\", \"true\")\n    }*/\n  } // end loop\n\n  addValidState(jsonRequired);\n}\n\nfunction addCheckHorizontal(){\n\n  var checkboxRowId = \"#table-tr-\" + jsonIndex;\n  var trIdName = \"table-tr-\" + jsonIndex;\n  var columnCount = optionList.length;\n  var tdIdNames = [];\n\n  var tableElement = \"<div id='table-\" + jsonIndex + \"' class='checkBoxTable \" + blockGroup + \"'> \\\n  <fieldset class='flex' id='\" + trIdName + \"'>\\\n    <legend class='\" + blockGroup + \" checkLabelP'><label class='\" + blockGroup + \"'>\" + jsonSuccess + \"</label></legend> \\\n  </fieldset></div>\"\n  $(thisFormId).append( tableElement);\n\n  for (i = 0; i < optionList.length; i++) {\n    var thisId = \"table-\"+ jsonIndex + \"-td-\" +[i];\n    tdIdNames.push(\"#\" + thisId);\n    var thisTd = \"<span id='\" + thisId + \"'></span>\";\n    $(checkboxRowId).append(thisTd);\n  }\n\n  for (i = 0; i < optionList.length; i++) {\n\n    var thisName = optionList[i].replace(/\\s+/g, '-').toLowerCase() + \"-\" + jsonIndex;\n    var thisId = \"#\" + thisName;\n\n    var thisElement =\n      \"<div class='checkbox \" + blockGroup + \"'> \\\n        <label> \\\n        <input id='\" + thisName + \"'  \\\n        name='\" + thisName + \"'  \\\n        class='screenCheckGroup checkGroup-\" + jsonIndex + \"'  \\\n        data-index='\" + jsonIndex + \"'  \\\n        data-block='\" + blockIndex + \"'  \\\n        data-success='\"+ optionList[i] + \"'  \\\n        data-required='\"+ jsonRequired + \"'  \\\n        data-group='.checkGroup-\"+ jsonIndex + \"'  \\\n        data-apicheck='\" + jsonApi  + \"'  \\\n        data-score='0'  \\\n        type='checkbox'> \\\n        <span id='checkbox-verticalSpan'>\"+ optionList[i] + \" \\\n        </span></label></div>\";\n\n    //$$(thisFormId).append( thisElement );\n    $(tdIdNames[i]).append( thisElement );\n\n    if(i != 0){\n      $(tdIdNames[i]).addClass('tdLeftRight')\n    }\n\n    /*if(jsonRequired == true){\n        $(thisId).attr(\"required\", \"true\")\n    }*/\n  } // end loop\n\n  addValidState(jsonRequired);\n}\n\nfunction addCheckRules(){\n\n  var thisValidState = jsonRequired;\n\n  var rulesSrc = jsonSuccess;\n  var privacySrc = jsonFail;\n  var checkContent = optionList[0];\n  var spanName = jsonId + \"Span\";\n\n  var rulesLink = \"<a href='#' class='rulesLink' id='rulesHref'>\" + rulesSrc + \"</a>\";\n  var privacyLink = \"<a href='#' class='privacyLink' id='privacyHref'>\" + privacySrc + \"</a>\";\n  var rulesFilter = checkContent.replace(rulesSrc, rulesLink).replace(privacySrc, privacyLink);\n\n  var thisElement = // CHECKBOX NOT CHECKED\n    \"<div class='checkbox \" + blockGroup + \"'><label>\" +\n    \"<input type='checkbox' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' class='screenCheckRules'\" +\n    \" data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-apicheck='\" + jsonApi +\n    \"'>\" + \"<span id='\" + spanName  + \"'>\" + rulesFilter + \"</span>\" +\n    \"</label></div>\";\n\n  $(thisFormId).append( thisElement );\n  addValidState(thisValidState);\n\n  var thisId = \"#\" + jsonId; // asign unchecked value\n  $(thisId).val(false);\n}\n\nfunction addCheckRulesPopUp(){\n\n  var thisValidState = jsonRequired;\n\n  var rulesSrc = jsonSuccess;\n  var privacySrc = jsonFail;\n  var checkContent = optionList[0];\n  var spanName = jsonId + \"Span\";\n\n  var rulesLink = \"<a href='#' class='rulesPopUp' id='rulesHref'>\" + rulesSrc + \"</a>\";\n  var privacyLink = \"<a href='#' class='privacyPopUp' id='privacyHref'>\" + privacySrc + \"</a>\";\n  var rulesFilter = checkContent.replace(rulesSrc, rulesLink).replace(privacySrc, privacyLink);\n\n  var thisElement = // CHECKBOX NOT CHECKED\n    \"<div class='checkbox \" + blockGroup + \"'><label>\" +\n    \"<input type='checkbox' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' class='screenCheckRules'\" +\n    \" data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-apicheck='\" + jsonApi +\n    \"'>\" + \"<span id='\" + spanName  + \"'>\" + rulesFilter + \"</span>\" +\n    \"</label></div>\";\n\n  $(thisFormId).append( thisElement );\n  addValidState(thisValidState);\n\n  // ADD POP-UP DIV TO HTML BODY...\n  var termsPopUpDiv =\n    \"<div id='termsDiv'> \\\n        <div id='closeDiv'> \\\n            <span id='btnCloseTerms' class='glyphicon glyphicon-remove pull-right'></span> \\\n        </div> \\\n            <iframe id='termsIframe'  scrolling='no' frameborder='0'></iframe> \\\n    </div>\";\n  $('body').append( termsPopUpDiv );\n\n  var thisId = \"#\" + jsonId; // asign unchecked value\n  $(thisId).val(false);\n}\n\nfunction addRulesFooterText(){\n\n  $('.footerRules').html(jsonSuccess);\n  $('.footerPrivacy').html(jsonFail);\n\n  addValidState(false);\n\n}\n\nfunction addCheckBoxBday(){\n\n  var thisElement;\n  var thisValidState = jsonRequired;\n  jsonType = 'checkbox'\n\n  switch(optionList[0]) {\n    case \"checktrue\":\n      thisElement = // CHECKBOX CHECKED\n        \"<div class='checkbox \" + blockGroup + \"'><label><input type='\" + jsonType +\n        \"' id='\" + jsonId +\n        \"' name='\" + jsonId +\n        \"' class='screenCheckbox'\" +\n        \"' data-index='\" + jsonIndex +\n        \"' data-block='\" + blockIndex +\n        \"' data-success='\" + jsonSuccess +\n        \"' data-fail='\" + jsonFail +\n        \"' data-apicheck='\" + jsonApi +\n        \"' checked>\" + \"<span id='\" + jsonId + \"Span'>\" + jsonSuccess + \"</span>\" +\n        \"</label></div>\";\n      thisValidState = true;\n      break;\n    default:\n      thisElement = // CHECKBOX NOT CHECKED\n        \"<div class='checkbox \" + blockGroup + \"'><label><input type='\" + jsonType +\n        \"' id='\" + jsonId +\n        \"' name='\" + jsonId +\n        \"' class='screenCheckbox'\" +\n        \"' data-index='\" + jsonIndex +\n        \"' data-block='\" + blockIndex +\n        \"' data-success='\" + jsonSuccess +\n        \"' data-fail='\" + jsonFail +\n        \"' data-apicheck='\" + jsonApi +\n        \"'>\" + \"<span id='\" + jsonId + \"Span'>\" + jsonSuccess + \"</span>\" +\n        \"</label></div>\";\n  } // END SWITCH\n\n  $(thisFormId).append( thisElement );\n  addValidState(thisValidState);\n\n  if(optionList[0] == \"checktrue\" && thisValidState == true  ){\n    var validIndex =  validList.length - 1;\n    validList[validIndex] = true;\n  } // end if\n\n  var thisId = \"#\" + jsonId; // asign unchecked value\n  $(thisId).val(false);\n}\n\nfunction addRadioColumn(){\n  var tableId=\"table-\" + jsonIndex;\n  var tableElement = \"<fieldset id='\" + tableId + \"'>\\\n      <legend class='\" + blockGroup + \" radioLabelP'><label class='radioLabel'>\" + jsonSuccess + \"</label></legend>\\\n    </fieldset>\";\n  var thisName = filterNames(jsonSuccess + \"-\" + jsonIndex);\n\n  $(thisFormId).append( tableElement );\n  for (var i = 0; i < optionList.length; i++) {\n    var valueSource = optionList[i];\n    var valueFilter01 = filterNames(valueSource + \"-\" + jsonIndex);\n    var thisId = \"#\" + valueFilter01;\n    var thisText = optionList[i];\n    var thisElement =\n      \"<div class='radio \" + blockGroup + \"'><label><input type='radio' name='\" + thisName +\n      \"' id='\" + valueFilter01 +\n      \"' class='screenRadio radioGroup\" + jsonIndex +\n      \"' data-index='\" + jsonIndex +\n      \"' data-block='\" + blockIndex +\n      \"' data-apicheck='\" + jsonApi +\n      \"' value='\" + valueFilter01 +\"'>\" + thisText + \"</label></div>\";\n\n    $(\"#\" + tableId).append( thisElement );\n    if(jsonRequired){  $(thisId).attr(\"required\", \"true\") };\n  }\n  addValidState(jsonRequired);\n}\n\nfunction addRadioRow(){\n\n  //var thisLabel = \"<div class='\" + blockGroup + \"'><label class='radioLabel'>\" + jsonSuccess + \"</label></div>\";\n  var thisLabel = \"<label class='radioLabel'>\" + jsonSuccess + \"</label>\";\n  var thisName = filterNames(jsonSuccess + \"-\" + jsonIndex);\n\n  //$(thisFormId).append( thisLabel );\n\n  // WRITE TABLE...\n  var radioRowId = \"#table-tr-\" + jsonIndex;\n  var trIdName = \"table-tr-\" + jsonIndex;\n  var tdIdNames = [];\n\n  var tableElement = \"<div id='table-\" + jsonIndex + \"' class='radioTable \" + blockGroup + \"'> \\\n    <fieldset id='\" + trIdName + \"' class='flex'>\\\n      <legend class='\" + blockGroup + \" radioLabelP'>\\\n        <label class='\" + blockGroup + \"'>\" + thisLabel + \"</label>\\\n    </legend></fieldset></div>\";\n\n  $(thisFormId).append( tableElement);\n\n  // WRITE TDs FOR TABLE...\n  for (i = 0; i < optionList.length; i++) {\n    var thisId = \"table-\"+ jsonIndex + \"-td-\" +[i];\n    tdIdNames.push(\"#\" + thisId);\n    var thisTd = \"<span id='\" + thisId + \"' class='radioTd'></span>\";\n    $(radioRowId).append(thisTd);\n  }\n\n  // WRITE RADIOS TO TDs...\n  for (var i = 0; i < optionList.length; i++) {\n    var valueSource = optionList[i];\n    var valueFilter01 = filterNames(valueSource + \"-\" + jsonIndex);\n    var thisText = optionList[i];\n    var thisId = \"#\" + valueFilter01;\n\n    var thisElement =\n      \"<div class='\"+ blockGroup +\"'>\" +\n      \"<label class='radio-inline \" + blockGroup + \"'><input type='radio' name='\" + thisName   +\n      \"' id='\" + valueFilter01 +\n      \"' class='screenRadio \" + blockGroup + \" radioHorizontal radioGroup\" + jsonIndex +\n      \"' data-index='\" + jsonIndex +\n      \"' data-block='\" + blockIndex +\n      \"' data-apicheck='\" + jsonApi +\n      \"' value='\" + valueFilter01 +\n      \"'>\" + thisText +\n      \"</label></div>\";\n\n    //$(thisFormId).append( thisElement );\n    $(tdIdNames[i]).append( thisElement );\n    if(jsonRequired){  $(thisId).attr(\"required\", \"true\") };\n  }\n  addValidState(jsonRequired);\n}\n\nfunction addTextArea(){\n  var thisElement =\n\n    \"<div id='\" + jsonId + \"Div\" +\n    \"' class='form-group has-feedback \" + blockGroup + \"'>\" +\n    \"<textarea type='\" + jsonType +\n    \"' class='form-control screenTextArea' id='\" + jsonId +\n    \"' name='\" + jsonId +\n    \"' aria-label='\" + jsonSuccess + \n    \"' placeholder='\" + jsonSuccess + \n    \"' data-index='\" + jsonIndex +\n    \"' data-block='\" + blockIndex +\n    \"' data-success='\" + jsonSuccess +\n    \"' data-fail='\" + jsonFail +\n    \"' data-minimum='\" + optionList[0] +\n    \"' data-apicheck='\" + jsonApi +\n    \"' ></textarea>\" +\n    \"<span id='\" + jsonId + \"Span\" +\n    \"' class=' form-control-feedback' aria-hidden='true'></span>\" +\n    \"</div>\";\n\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n}\n\nfunction addTextP(){\n  var thisId = jsonId + \"-\" + jsonIndex;\n  var thisAlign = \"text-\" + jsonAlign + \" \" + blockGroup; //optionList[0];\n  var thisElement =\n    \"<p id='\" + thisId + \"' class='\" + thisAlign +  \"'></p>\";\n  $(thisFormId).append( thisElement );\n  addValidState(false);\n\n  var thisTargetId = \"#\" + thisId;\n  var thisContent = jsonSuccess;\n  $(thisTargetId).html(thisContent); // add content\n}\n\nfunction addDisplayText(type) {\n  var thisId = jsonId + \"-\" + jsonIndex;\n  var thisAlign = \"text-\" + jsonAlign + \" \" + blockGroup;\n\n  let tag = 'strong';\n  if(type === 'heading') {\n    tag = 'h' + jsonUtility01;\n  }\n\n  var thisElement = '<' + tag + ' id=\"' + thisId + '\" class=\"' + thisAlign +  '\">' + jsonSuccess + '</' + tag + '>';\n  $(thisFormId).append( thisElement );\n  addValidState(false);\n}\n\nfunction addTextPLong(){\n  var thisId = jsonId + \"-\" + jsonIndex;\n  var thisAlign = \"text-\" + jsonAlign + \" \" + blockGroup; //optionList[0];\n  var thisElement =\n    \"<p id='\" + thisId + \"' class='\" + thisAlign +  \"'></p>\";\n  $(thisFormId).append( thisElement );\n  addValidState(false);\n\n  var thisTargetId = \"#\" + thisId;\n  var thisContent = optionList[0];\n  $(thisTargetId).html(thisContent); // add content\n}\n\nfunction addTurnstile(){\n\n  var thisAlign = jsonAlign;\n  var thisElement =\n    \"<p id='turnstileP' class='\" + blockGroup + \"'>\" +\n    \"<div id='turnstileElement' class='cf-turnstile \" + blockGroup + \" divTurnstile' \" +\n    \"data-index='\" + jsonIndex + \"' data-callback='screenTurnstile' \" +\n    \"data-sitekey='\" + envVars.turnstile_site_key + \"' data-block='\" + blockIndex +\"'></div></p>\";\n\n  var demoElement = \"<p id='turnstileP' class=''><div id='turnstileElement' class='turnstileDemo'></div></p>\";\n  var turnstileLink = \"https://challenges.cloudflare.com/turnstile/v0/api.js\";\n\n  if(liveForm == true){\n    $(thisFormId).append( thisElement );\n    addValidState(jsonRequired);\n  } else {\n    $(thisFormId).append( demoElement  );\n    addValidState(false);\n  }\n\n  switch(thisAlign) {\n    case \"center\":\n      $('#turnstileElement').addClass('captchaCenter');\n      break;\n    case \"right\":\n      $('#turnstileElement').addClass('captchaRight');\n      break;\n    default:\n      $('#turnstileElement').addClass('captchaLeft');\n  }\n\n  if(liveForm == true){\n    $.getScript(turnstileLink).done(function(){\n      console.log('turnstile happened');\n    });\n  }\n}\n\nfunction addCaptcha(){\n\n  var thisAlign = jsonAlign;\n  var thisElement =\n    \"<p id='captchaP' class='\" + blockGroup + \"'>\" +\n    \"<div id='captchaElement' class='g-recaptcha \" + blockGroup + \" divCaptcha' \" +\n    \"data-index='\" + jsonIndex + \"' data-callback='screenCaptcha' \" +\n    \"data-sitekey='\" + envVars.recaptcha_site_key + \"' data-block='\" + blockIndex +\"'></div></p>\";\n\n  var demoElement = \"<p id='captchaP' class=''><div id='captchaElement' class='captchaDemo'></div></p>\";\n  var captchaLink = \"https://www.google.com/recaptcha/api.js\";\n\n  if(jsonUtility01.length > 0){\n    // https://developers.google.com/recaptcha/docs/language // en\n    captchaLink += (\"?hl=\" + jsonUtility01);\n  }\n\n  if(liveForm == true){\n    $(thisFormId).append( thisElement );\n    addValidState(jsonRequired);\n  } else {\n    $(thisFormId).append( demoElement  );\n    addValidState(false);\n  }\n\n  switch(thisAlign) {\n    case \"center\":\n      $('#captchaElement').addClass('captchaCenter');\n      break;\n    case \"right\":\n      $('#captchaElement').addClass('captchaRight');\n      break;\n    default:\n      $('#captchaElement').addClass('captchaLeft');\n  }\n\n  if(liveForm == true){\n    // $.getScript(\"https://www.google.com/recaptcha/api.js\").done(function(){\n    $.getScript(captchaLink).done(function(){\n      console.log('captcha happened');\n    });\n  }\n}\n\nfunction getRecaptchaV3(){\n  var tokenElem = document.getElementById('g-recaptcha-response');\n  if (tokenElem) {\n    grecaptcha.ready(function(){\n      grecaptcha.execute(\n        envVars.recaptchav3_site_key,\n        {action:'validate_captcha'}\n      ).then(function(token){\n        tokenElem.value = token;\n        screenCaptchaV3();\n      });\n    });\n  } else {\n    clearInterval(recaptchaV3Interval);\n  }\n}\n\nfunction addCaptchaV3(){\n  var thisAlign = jsonAlign;\n  var thisElement = \n    \"<input type='hidden' id='g-recaptcha-response' name='g-recaptcha-response' \" +\n    \"data-index='\" + jsonIndex + \"' />\";\n  var demoElement = \"<p id='captchaP' class=''><div id='captchaElement' class='captchaDemo'></div></p>\";\n  var captchaLink = \"https://www.google.com/recaptcha/api.js?render=\" + envVars.recaptchav3_site_key;\n\n  if(jsonUtility01.length > 0){\n    // https://developers.google.com/recaptcha/docs/v3 // en\n    captchaLink += (\"&hl=\" + jsonUtility01);\n  }\n\n  if(liveForm == true){\n    $(thisFormId).append( thisElement );\n    addValidState(jsonRequired);\n  } else {\n    $(thisFormId).append( demoElement  );\n    addValidState(false);\n  }\n\n  if(liveForm == true){\n    $.getScript(captchaLink).done(function(){\n      console.log('captchaV3 happened');\n      getRecaptchaV3();\n      // We need to renew recaptcha token, because it's expired after 2 minutes\n      recaptchaV3Interval = setInterval(getRecaptchaV3, 90*1000);\n    });\n  }\n}\n\nfunction addPinCode(){\n  var thisAlign = \"text-\" + jsonAlign + \" \" + blockGroup;\n  var pinType = optionList[0];\n  var thisCode = \"\";\n\n  //if(gameclass != \"live\"){\n  if(gameclass == \"demo\"){\n    // provide fallback links and code if not a live game\n    var thisExit = \"message.html\";\n    var thisDirectory = exitlinks[0].directoryid;\n\n    thisExit = thisHost + \"/message/\" + thisDirectory + \"/success\";\n\n    prize = {link:thisExit,code:\"code-321\",pin:\"pin-987\"}\n  }\n\n  switch(jsonId) {\n    case \"link-code\":\n      thisCode = prize.code;\n      break;\n    case \"link-pin\":\n      thisCode = prize.pin;\n      break;\n    default:\n      thisCode = prize.code;\n  }\n  //var thisLink = \"<a href='\" + prize.link + \"' target='_blank'>\" + thisCode + \"</a>\" ;\n  var thisElement =\n    \"<p id='\" + jsonId + \"' class='\" + thisAlign +  \"'>\" + thisCode + \"</p>\";\n\n  $(thisFormId).append( thisElement );\n  addValidState(false);\n}\n\nfunction addLinkPinCode(){\n  if(gameclass === \"demo\") {\n    // provide fallback links and code if not a live game\n    var thisDirectory = exitlinks[0].directoryid;\n    var thisExit = thisHost + \"/message/\" + thisDirectory + \"/success\";\n    prize = {link:thisExit,code:\"code-321\",pin:\"pin-987\"}\n  }\n\n  let link;\n  try {\n    const prizeUrl = new URL(prize.link);\n    link = '<a class=\"pinCodeLink\" href=\"' + prize.link + '\" target=\"_blank\">' + (jsonSuccess || prize.link) + '</a>';\n  }\n  catch(e) {\n    link = '<span class=\"pinCodeLink pinCodeLinkless\">' + (jsonSuccess || prize.link) + '</span>' ;\n  }\n  const className = \"text-\" + jsonAlign + \" \" + blockGroup;\n  const element = '<p id=\"' + jsonId + '\" class=\"' + className +  '\">' + link + '</p>';\n\n  $(thisFormId).append(element);\n  addValidState(false);\n}\n\nfunction addHrzRule(){\n  var thisElement = \"<hr id='\" + jsonId + \"' class='\" + blockGroup + \"'>\";\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n}\n\nfunction addFormImage(){\n  var thisImg = imgpath + jsonSuccess;\n\n  if(isWireframe == false){\n    thisImg = campaignoptions[0].imageurl + jsonSuccess; // USE json Image path if it exists\n  }\n\n  var thisElement =\n    \"<img alt='\" + jsonUtility01 + \"' id='\" + jsonId + \"' class='center-block img-responsive \" + blockGroup + \"' src='\" + thisImg + \"''>\";\n\n  if(formOptions.form_class== \"exit\" && jsonRange.indexOf(winlevel) == -1){\n    thisElement = \"<div id='\" + jsonId + \"' class='imagePlaceholderDiv collapse \" + blockGroup + \"'></div\"\n  }\n\n  $(thisFormId).append( thisElement );\n  addValidState(false);\n}\n\nfunction addEmSpace(){\n  var thisElement = \"<div id='\" + jsonId + \"' class='\" + blockGroup +\n    \"' style='height:\" + jsonSuccess +\"em' role='presentation'></div>\";\n  $(thisFormId).append( thisElement );\n  addValidState(false);\n}\n\nfunction addCustomElement(){\n\n  var thisElement = optionList[0];\n\n  $(thisFormId).append( thisElement );\n  addValidState(jsonRequired);\n}\n\nfunction addPlayerId(){\n  var thisElement =\n    \"<div id='playerIdDiv' class='collapse \" + blockGroup + \"'> \\\n      <input id='\" + playerIdTag + \"' name='\" + playerIdTag + \"' placeholder='Player ID' \\\n      data-target='\" + playeIdTarget + \"' data-apicheck='\" + jsonApi + \"' type='text'> \\\n    </div>\";\n\n  $(thisFormId).append( thisElement );\n}\n\nfunction addValidState(isvalid){\n\n  var thisId = \"#\" + jsonId;\n\n  if(isvalid){\n    validList.push(false);\n    $(thisId).attr(\"required\", \"true\");\n  } else {\n    validList.push(true);\n  } // end if/else\n\n  var thisIndex = validList.length - 1;\n  //console.log(thisId + validList[thisIndex]);\n\n  if(formOptions.form_class== \"exit\" && jsonRange.indexOf(winlevel) == -1){\n    // set valid to true if fulfillment element will be hidden\n    var lastValidIndex = (validList.length - 1);\n    validList[lastValidIndex] = true; // reset this valid node\n  }\n\n  if(sourceApi > 12){\n    switch(jsonMailBounce) {\n      case \"inline\":\n        addMailBounceClass(thisId);\n        break;\n      case \"message\":\n        addMailBounceClass(thisId);\n        break;\n      default:\n        jsonMailBounce = jsonMailBounce;\n    } // end switch\n  } // end sourceAPI if\n}\n\n/* :::::::::: [ MAIL BOUNCE START ] :::::::::: */\n/* :::::::::: [ MAIL BOUNCE START ] :::::::::: */\n\nfunction addMailBounceClass(txt){\n\n  hasMailBounce = true;\n\n  var thisId = txt;\n  if(\tjsonMailBounce == \"inline\"){\n    if(gameclass == \"test\" || gameclass == \"live\"){\n      switch(jsonType) {\n        case \"email\":\n          $(thisId).addClass(\"screenMailBounceInline\").addClass(\"reserveMailBounce\");\n          $(thisId).removeClass(\"screenInput\");\n          break;\n        case \"email-lc\":\n          $(thisId).addClass(\"screenMailBounceInline\").addClass(\"reserveMailBounce\");\n          $(thisId).removeClass(\"screenInput\");\n          $(thisId).attr('type', 'email');\n          break;\n        case \"email-pair\":\n          if(thisId == \"#emailpair02\"){\n            $('#emailpair01').attr('type', 'text');\n            $('#emailpair02').addClass(\"screenMailBouncePair\").addClass(\"reserveMailBounce\");\n            $('#emailpair02').removeClass('screenEmailPair');\n          }\n          break;\n        case \"text-label\":\n          $(thisId).addClass(\"screenMailBounceLabel\").addClass(\"reserveMailBounce\");\n          $(thisId).removeClass(\"screenLabel\");\n          break;\n        case \"text-pattern\":\n          $(thisId).addClass(\"screenMailBounceInline\").addClass(\"reserveMailBounce\");\n          $(thisId).removeClass(\"screenInput\");\n          break;\n        case \"email-submitted-unlocked\": // submitted email w Label\n          $(thisId).addClass(\"screenMailBounceLabel\").addClass(\"reserveMailBounce\");\n          $(thisId).removeClass(\"screenLabel\");\n          break;\n        case \"email-submitted-unlocked-input\":  // submitted email NO Label\n          $(thisId).addClass(\"screenMailBounceInline\").addClass(\"reserveMailBounce\");\n          $(thisId).removeClass(\"screenInput\");\n          break;\n        default:\n          jsonMailBounce = jsonMailBounce;\n      }; // end jsonType swtich\n    }; // end gameclass if\n  } // end jsonMailBounce inline if\n\n  if(\tjsonMailBounce == \"message\"){\n    $(thisId).addClass(\"reserveMailBounceMsg\");\n  }\n}\n\n\nfunction filterMailBounceTypes(){\n\n  for (i = 0; i < formOptions.form_names.length; i++) {\n    var thisName = $( \"input[name='\" + formOptions.form_names[i] + \"']\" ); // formOptions.form_names[i];\n    var thisId = $(thisName).attr(\"id\");\n    var thisIdTarget = \"#\" + thisId;\n    var thisClass = $(thisIdTarget ).attr('class') || \"no-classes-in-element\";\n    var thisType = $(thisIdTarget ).attr('type');\n\n    var isBounce = false;\n    var indexOfBounce = thisClass.indexOf(\"Bounce\");\n    if(indexOfBounce >= 0){isBounce = true};\n\n    if(thisType == \"email\" && isBounce == false ){\n      $(thisIdTarget).prop('type', 'text');\n      $(thisIdTarget).prop('pattern', '[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,4}$');\n      var field = document.querySelector(thisIdTarget);\n      if(_NBSettings.apiKey != \"none\"){\n        _nb.fields.unregisterListener(field);\n      } // end if _NBSettings\n    } // end if email\n\n  } // end loop form_names\n} // end filterMailBounceTypes()\n\n/* :::::::::: [ MAIL BOUNCE END ] :::::::::: */\n/* :::::::::: [ MAIL BOUNCE END ] :::::::::: */\n\nfunction validateUrl(){\n\n  /* ::::::::::: [ URL TO FIELD START ] ::::::::::: */\n\n  // URL SPLITS...\n  var thisUrl = window.location.href;  // ?name=abcdefg&email=abc@def.com\n\n  var filter00 = thisUrl.split('?'); // get tail of url\n  if(filter00[1]){ // if data exists for split\n    var filter01 =  filter00[1].split('&'); // split tail info\n    var valueList = filter01; // array of form IDs & values\n\n    for (i = 0; i < valueList.length; i++) {\n      // splits for fields and values pulled from url\n      var filter03 = valueList[i].split('=');\n      var filterId = filter03[0]; // id from this split\n      var filterValue = decodeURI(filter03[1]); // value from this split\n      var thisIdTarget = \"#\" + filterId;\n      var targetFiedIndex =  $(thisIdTarget).data(\"index\");\n      $(thisIdTarget).val(filterValue);\n\n      var isInput = $(thisIdTarget).is('input');\n      var isSelect = $(thisIdTarget).is('select');\n\n      if(isInput == true || isSelect == true){\n        var inpObj = document.getElementById(filterId);\n        var isFieldValid = inpObj.checkValidity();\n        if(filterValue.length > 0){\n          validList[targetFiedIndex] = isFieldValid;\n        } // end if filterValue\n\n      } // end if isInput/ isSelect\n\n    } // end valueList loop\n\n    //PLAYER-ID CHECK\n    var playerIdIndexNames = formOptions.form_names.indexOf(\"player-id\");\n    var playerIdIndexUrl = thisUrl.indexOf(\"player-id=\");\n    if(playerIdIndexNames > -1 || playerIdIndexUrl > -1){\n      filterPlayerIdUrl();\n    } // end player-id if\n\n  } // END filter00[i] if\n\n  /* ::::::::::: [ URL TO FIELD END ] ::::::::::: */\n\n} // validateUrl()\n\n/* ::::::::::: [ MATCH PLAYER-ID TO SOURCE FIELD START ] ::::::::::: */\nfunction filterPlayerIdUrl(){\n  var thisTarget = $('#player-id').data(\"target\");\n  var thisTargetValue = $(thisTarget).val();\n  $('#player-id').val(thisTargetValue);\n}\n/* ::::::::::: [ MATCH PLAYER-ID TO SOURCE FIELD END ] ::::::::::: */\n\nfunction validOnLoad(){\n\n  validateUrl();\n\n  var thisScore = 0;\n\n  $('input').addClass('screenNoReturnKey'); // patch for return key issue, 07-2019\n\n  for (i = 0; i < validList.length; i++) {\n    if(validList[i] == true){thisScore += 1}\n  }\n\n  if(validList.length == thisScore){\n    $('#validationForm').find('#button-submit, #button-url, :submit').each(\n      function() {\n        $(this).removeAttr(\"disabled\");\n        $(this).removeClass(\"disabled\");\n        $(this).html(bntValidIcon + $(this).data(\"success\"));\n      }\n    );\n  } // end length/score if\n} // validOnLoad()\n\n/* ::::::::::: [ TABLE CELL WITH SELECT BEGIN ] :::::::::::: */\n/* ::::::::::: [ TABLE CELL WITH SELECT BEGIN ] :::::::::::: */\n\n$( window ).resize(function() {\n  sizeTdSelect();\n});\n\nfunction sizeTdSelect(){\n  var thisWidth = $('.elementTable').width();\n  var tdWidth = Math.round( thisWidth * .5 );\n  $('.tdSelect').css('width', tdWidth);\n}\n\n\nfunction filterNames(string){\n//var thisString = string.replace(/ /g,\"-\").replace(/[^A-Za-z0-9\\-]/g,'').replace(/-+/g,'-').toLowerCase();\n  var thisString = string.replace(/ /g,\"-\")\n    .replace(/[`~!@#$%^&*()_|+\\=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')\n    .replace(/-+/g,'-').toLowerCase();\n\n  if(thisString.charAt(0) == '-'){\n    thisString = thisString.slice(1, thisString.length); // delete minus if first character\n  }\n\n  return thisString;\n}\n\n/* ::::::::::: [ TABLE CELL WITH SELECT END ] :::::::::::: */\n/* ::::::::::: [ TABLE CELL WITH SELECT END ] :::::::::::: */\n\nfunction addFormStyles(){\n\n  // process #hex color to rgba color\n  var thisBkgHex = formOptions.form_background;\n  var thisOpacity = formOptions.background_opacity;\n  var opacityValue = thisOpacity / 100;\n\n  thisBkgHex = thisBkgHex.replace('#','');\n  var redColor = parseInt(thisBkgHex.substring(0,2), 16);\n  var greenColor = parseInt(thisBkgHex.substring(2,4), 16);\n  var blueColor = parseInt(thisBkgHex.substring(4,6), 16);\n\n  var thisRgba = 'rgba('+ redColor +','+ greenColor  +','+ blueColor +','+ opacityValue +')';\n  // background-color:\" + formOptions.form_background + \" !important;\\\n\n  // process backdrop from hex to RGBA\n  var thisBackdropgHex = formOptions.form_backdrop || \"#000000\"; // fallback #000000 for API < 12\n  var thisBackdropOpacity = Number(formOptions.backdrop_opacity) / 100 ;\n\n  thisBackdropgHex = thisBackdropgHex.replace('#','');\n  var redColorBackdrop = parseInt(thisBackdropgHex.substring(0,2), 16);\n  var greenColorBackdrop = parseInt(thisBackdropgHex.substring(2,4), 16);\n  var blueColorBackdrop = parseInt(thisBackdropgHex.substring(4,6), 16);\n\n  var thisRgbaBackdrop = 'rgba('+ redColorBackdrop +','+ greenColorBackdrop   +','+ blueColorBackdrop +','+ thisBackdropOpacity +')';\n\n  var thisChannel = formOptions.form_channel;\n  $('#formStyles').html(\"\");\n\n  // css for exit form\n  var cssBoomForm =\n    \".boomForm { \\\n        background-color:\" + thisRgba + \" !important;\\\n\t\t\tborder:\" + formOptions.border_width + \"px solid \" + formOptions.form_border + \" !important;\\\n\t\t\tborder-radius:\" + formOptions.border_radius + \"px !important;\\\n\t\t\tmax-width:\" + formOptions.form_width + \"px !important;\\\n\t\t\tcolor:\" + formOptions.form_text + \" !important;\\\n\t\t }\";\n  if(thisChannel == \"exit\"){\n    $('#formStyles').append( cssBoomForm );\n  }\n  if(thisChannel != \"exit\" && isWireframe == false ){\n    $('#formStyles').append( cssBoomForm );\n  }\n\n  // css for entry form\n  var cssEntryForm =\n    \"#entrySkinDiv { \\\n        background-color:\" + thisRgba + \" !important;\\\n\t\t\tborder:\" + formOptions.border_width + \"px solid \" + formOptions.form_border + \" !important;\\\n\t\t\tborder-radius:\" + formOptions.border_radius + \"px !important;\\\n\t\t\tcolor:\" + formOptions.form_text + \" !important;\\\n\t\t\tmax-width:90%;\\\n\t\t\tmin-width:324px !important;\\\n\t\t\tpadding:1em 0px 1em 0px;\\\n\t\t\tposition: absolute;\\\n\t\t\tmargin-top:\" +  formOptions.mobile_top +\"px;\\\n\t\t\tleft: 50%;\\\n\t\t\tmargin-right: -50%;\\\n\t\t\ttransform: translateX(-50%);\\\n\t\t\tz-index:1052 !important;\\\n\t\t\tdisplay:block;\\\n\t\t } \\\n\t\t#validationForm{min-width:305px !;}\";\n\n  // media query for entry margin top\n  var cssEntryMargin =\n    \"@media all and (min-width: 768px) { \\\n       #entryFormDiv{padding-left:0px;min-width:305px} \\\n    }\\\n    @media all and (min-width: 992px) { \\\n       #entrySkinDiv{\\\n               max-width:958px !important;\\\n               margin-top:\" + formOptions.form_top + \"px;\\\n\t\t\t\t} \\\n\t\t}\";\n\n  if(thisChannel == \"entry\" && isWireframe == true){\n    $('#formStyles').append( cssEntryForm );\n    $('#formStyles').append( cssEntryMargin );\n    var thisBannerPng = imgpath + \"entry_title_left.png\";\n    $('#bigImg').prop(\"src\", thisBannerPng );\n  }\n\n  // css for entry-mobile form\n  // background-color:\" + formOptions.form_background + \" !important;\\\n  var cssMobileForm =\n    \"#entrySkinDiv { \\\n        background-color:\" + thisRgba + \" !important;\\\n\t\t\tborder:\" + formOptions.border_width + \"px solid \" + formOptions.form_border + \" !important;\\\n\t\t\tborder-radius:\" + formOptions.border_radius + \"px !important;\\\n\t\t\tcolor:\" + formOptions.form_text + \" !important;\\\n\t\t\tmax-width:\" + formOptions.form_width + \"px !important;\\\n\t\t\tpadding:1em 1em 1em 1em;\\\n\t\t\tposition: absolute;\\\n\t\t\tmargin-top:\" + formOptions.mobile_top + \"px;\\\n\t\t\tleft: 50%;\\\n\t\t\tmargin-right: -50%;\\\n\t\t\ttransform: translateX(-50%);\\\n\t\t\tz-index:1052 !important;\\\n\t\t\tdisplay:block;\\\n\t\t }\";\n  //top: 2em;\\\n  //  margin-top:\" + formOptions.form_top + \"px;\\\n\n  var cssEntryMobileMargin =\n    \"@media all and (min-width: 992px) { \\\n       #entrySkinDiv{\\\n               position: absolute;\\\n               margin-top:\" + formOptions.form_top + \"px;\\\n\t\t\t\t}\\\n\t\t}\";\n\n  //top:\" + formOptions.form_top + \"px;\\\n\n  if(thisChannel == \"entry-mobile\" && isWireframe == true){\n    $('#formStyles').append( cssMobileForm );\n    $('#formStyles').append( cssEntryMobileMargin ); // ADD .entryForm CLASS ( VAR =  cssEntryForm)\n    // clean out wrapper elements\n    $('#entryLeftDiv').addClass('collapse');\n    $('#entryFormDiv').removeClass();\n    $('#smallImage').removeClass('visible-xs');\n  }\n\n  var cssFieldInputs =\n    \".boomForm input, .boomForm textarea, .boomForm select{ \\\n            border-color:\" + formOptions.field_border + \" !important; \\\n\t\t\tbackground-color:\" + formOptions.field_bkg + \" !important; \\\n\t\t\tcolor:\" + formOptions.field_text + \" !important; \\\n\t\t}\";\n  $('#formStyles').append( cssFieldInputs );\n\n  var cssPlachoder =\n    \".boomForm ::-webkit-input-placeholder { color:\" + formOptions.field_cta + \" !important; } \\\n\t\t.boomForm ::-moz-placeholder { color:\" + formOptions.field_cta + \" !important; }\\\n\t\t.boomForm ::-ms-placeholder { color:\" + formOptions.field_cta + \" !important; }\";\n  $('#formStyles').append( cssPlachoder );\n\n  var cssBtnDisabled =\n    \".boomForm button:disabled { \\\n        border-color:\" + formOptions.btn_border + \" !important; \\\n\t\tbackground-color:\" + formOptions.btn_bkg + \" !important;  \\\n\t\tcolor:\" + formOptions.btn_text + \" !important;  \\\n\t}\";\n  $('#formStyles').append( cssBtnDisabled );\n\n  var cssBtnSuccess =\n    \".boomForm button { \\\n        border-color:\" + formOptions.btn_border + \" !important; \\\n\t\tbackground-color:\" + formOptions.btn_bkg + \" !important; \\\n\t\tcolor:\" + formOptions.btn_text + \" !important; \\\n\t}\";\n  $('#formStyles').append(cssBtnSuccess);\n\n  var cssBtnNoThanks =\n    \"#button-exitlink, #button-goback { \\\n        border-color:\" + formOptions.btn_border + \" !important; \\\n\t\tbackground-color:\" + formOptions.btn_bkg + \" !important; \\\n\t\tcolor:\" + formOptions.btn_text + \" !important; \\\n\t}\";\n  $('#formStyles').append(cssBtnNoThanks);\n\n  var cssBtnFake =\n    \".boomForm .btn { \\\n        border-color:\" + formOptions.btn_border + \" !important; \\\n\t\tbackground-color:\" + formOptions.btn_bkg + \" !important; \\\n\t\tcolor:\" + formOptions.btn_text + \" !important; \\\n\t}\";\n  $('#formStyles').append(cssBtnFake);\n\n  var cssOkay =\n    \".boomForm button .glyphicon-ok{ \\\n        color:\" + formOptions.btn_text  + \" !important; \\\n\t}\";\n  $('#formStyles').append(cssOkay);\n\n  var cssErrors =\n    \".text-danger{ \\\n        color:\" + formOptions.field_error + \" !important; \\\n\t} \\\n\t.has-error input{ \\\n\t\tcolor:\" + formOptions.field_error + \" !important; \\\n\t\tborder-color:\" + formOptions.field_error + \"  !important; \\\n\t}\";\n  $('#formStyles').append(cssErrors);\n\n  var cssLabel =\n    \".boomForm .inputLabel{color:\" + formOptions.form_text + \";}\";\n  $('#formStyles').append(cssLabel);\n\n  var cssGeoLabel =\n    \".boomForm .geoLabel{color:\" + formOptions.form_text + \";}\";\n  $('#formStyles').append(cssLabel);\n\n  var cssRemove =\n    \".boomForm .glyphicon-remove{color:\" + formOptions.field_error + \" !important;}\";\n  $('#formStyles').append(cssRemove);\n\n  var cssHrLine =\n    \".boomForm hr{ border-color:\" + formOptions.form_border + \" !important; }\";\n  $('#formStyles').append(cssHrLine);\n\n  var cssOkay =\n    \".boomForm .glyphicon-ok{ color:\" + formOptions.form_border + \" !important; }\";\n  $('#formStyles').append( cssOkay );\n\n  var cssFeedbackOkay =\n    \".has-feedback .glyphicon-ok{ color:\" + formOptions.success_icon + \" !important; }\";\n  $('#formStyles').append( cssFeedbackOkay );\n\n  var cssLink =\n    \".boomForm a{ color:\" + formOptions.form_link + \" !important; }\";\n  $('#formStyles').append( cssLink );\n\n  var cssTerms =\n    \"#termsDiv { \\\n            border-color:\" + formOptions.form_border + \"  !important;\\\n\t\t\tbackground-color:\" + formOptions.form_background + \" !important;\\\n\t\t\tborder-width:\" + formOptions.border_width + \"px !important;\\\n\t\t\tborder-radius:\" + formOptions.border_radius + \"px !important;\\\n\t\t\tcolor:\" + formOptions.form_text + \" !important;\\\n\t\t }\";\n  $('#formStyles').append( cssTerms );\n\n  var cssTermsCloseBtn =\n    \"#btnCloseTerms { \\\n            border-color:\" + formOptions.field_error + \"  !important;\\\n\t\t\tbackground-color:\" + formOptions.field_error + \" !important;\\\n\t\t\tcolor:\" + formOptions.form_background + \" !important;\\\n\t\t }\";\n  $('#formStyles').append( cssTermsCloseBtn );\n\n  if(thisChannel == \"entry\" || thisChannel == \"entry-mobile\"){\n    var cssModalBackdrop =\n      \"#modalBackdrop { \\\n          background-color:\" + thisRgbaBackdrop + \" !important;  \\\n\t\t\t}\";\n    $('#formStyles').append( cssModalBackdrop );\n  }\n\n\n  var thisUrl = document.location.href;\n  var adminIndexOf = thisUrl.indexOf(\"/admin/\");\n\n  // set checkmark icon used/not-used in valid buttons\n  if(formOptions.btn_valid){\n    switch(formOptions.btn_valid) {\n      case \"glyphicon-ok\":\n        bntValidIcon = \"<span class='glyphicon glyphicon-ok'></span>&nbsp;\";\n        break;\n      case \"collapse\":\n        bntValidIcon = \"<span class='collapse'></span>\";\n        break;\n      default:\n        bntValidIcon = \"<span class='glyphicon glyphicon-ok'></span>&nbsp;\";\n    }\n  }\n\n  if(formOptions.form_class== \"entry\" && adminIndexOf == -1){\n    addModalEntryUI();\n    setEntryUi();\n  }\n\n}\n\n/* :::::::::: [ SCREENING FUNCTIONS VARIABLES BEGIN ] :::::::::: */\n/* :::::::::: [ SCREENING FUNCTIONS VARIABLES BEGIN ] :::::::::: */\n\nvar focusSource = \"\";\nvar focusIndex = \"\";\nvar focusId =  \"\";\nvar focusValue = \"\";\nvar focusDiv =  \"\";\nvar focusSpan =  \"\";\n\n//VARS FOR DATES\nvar modalDay = 0;\nvar modalMonth = 0;\nvar modalYear = 0;\nvar coppaChecked = false;\n\nvar pairEvent = \"input\"; // \"input\" || \"change keyup paste blur\" = IE10 & 11 patch\n\nfunction setFocus(idName) {\n  var specialChars = '\\t !\"#$%&\\'()*+,./:;<=>?@[]^`{|}~';\n  var escapedId = idName.split('\\\\').join('\\\\\\\\'); // Handle backslashes first\n  specialChars.split('').map(function(a){escapedId = escapedId.split(a).join('\\\\' + a)});\n  focusId = \"#\" + escapedId;\n  focusValue = $(focusId).val();\n  focusIndex = $(focusId).data(\"index\");\n  focusDiv = focusId + \"Div\";\n  focusSpan = focusId + \"Span\";\n}\n\nfunction setFocusUlc(idName) {\n  setFocus(idName);\n\n  var filterType = $(focusId).data(\"ulc\");\n\n  switch(filterType) {\n    case \"uppercase\":\n      focusValue = focusValue.toUpperCase();\n      $(focusId).val(focusValue);\n      break;\n    case \"lowercase\":\n      focusValue = focusValue.toLowerCase();\n      $(focusId).val(focusValue);\n      break;\n    case \"mixedcase\":\n      var mixedValue = filterCaptilaize(focusValue);\n      $(focusId).val(mixedValue);\n      break;\n    default:\n      filterType; // user, collapse, or Nan\n  }\n}\n\ndoPairPatchIE();\n\nfunction doPairPatchIE(){\n\n  var ua = window.navigator.userAgent;\n  var msie = ua.indexOf(\"MSIE \");\n\n  if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\\:11\\./) ){\n    pairEvent = \"change keyup paste blur\";\n  }\n} // doPairPatchIE()\n\n\n/* :::::::::: [ SCREENING FUNCTIONS VARIABLES END ] :::::::::: */\n/* :::::::::: [ SCREENING FUNCTIONS VARIABLES END ] :::::::::: */\n\n/* :::::::::: [ SCREENING FUNCTIONS BEGIN ] :::::::::: */\n/* :::::::::: [ SCREENING FUNCTIONS BEGIN ] :::::::::: */\n\n/* :::::::::: [ BIRTHDAY FUNCTIONS BEGIN ] :::::::::: */\n/* :::::::::: [ BIRTHDAY FUNCTIONS BEGIN ] :::::::::: */\n\n/* :::::: [ BIRTHDAY CHECKBOX BEGIN ] :::::: */\n/* :::::: [ BIRTHDAY CHECKBOX BEGIN ] :::::: */\n$(\".checkboxBday\").change(function(event){\n  thisFocus = $(this).attr('id');\n  setFocus(thisFocus);\n  screenCheckBday()\n});\n\nfunction screenCheckBday(){\n  var boxChecked = $( focusId )[0].checked; //gives true or false\n  var checkRequired = $( focusId ).prop('required');\n  var dataSuccess = $( focusId ).data(\"success\");\n  var dataFail = $( focusId ).data(\"fail\");\n  if(boxChecked == true && checkRequired){\n    $(focusSpan).html(dataSuccess);\n    $(focusSpan).removeClass('text-danger');\n    validList[focusIndex] = true;\n  }\n  if (boxChecked == false && checkRequired){\n    $(focusSpan).html(dataFail);\n    $(focusSpan).addClass('text-danger');\n    validList[focusIndex] = false;\n  };\n\n  if(boxChecked == true){\n    $( focusId ).val(true);\n  } else {\n    $( focusId ).val(false);\n  }\n  checkValid();\n\n}\n\n/* :::::: [ BIRTHDAY CHECKBOX END ] :::::: */\n/* :::::: [ BIRTHDAY CHECKBOX END ] :::::: */\n\n/* :::::: [ BIRTHDAY INPUT BEGIN ] :::::: */\n/* :::::: [ BIRTHDAY INPUT BEGIN ] :::::: */\n$('.screenBday').on(\"input\", function(event) { // INPUT FIELDS\n  thisFocus = $(this).attr('id');\n  setFocus(thisFocus);\n  screenBday();\n});\n\n/* :::::: [ BIRTHDAY SELECT BEGIN ] :::::: */\n/* :::::: [ BIRTHDAY SELECT BEGIN ] :::::: */\n$('.screenBdaySelect').change(function(){ // DROPDOWN FIELDS\n  thisFocus = $(this).attr('id');\n  setFocus(thisFocus);\n  screenBday();\n});\n\n\nfunction screenBday(){\n\n  var thisDateType = $(focusId).data(\"date\");\n  var thisLength = focusValue;\n  var maxString = $(focusId).attr(\"max\");\n  var thisMax = parseInt(maxString);\n\n  switch(thisDateType) {\n    case \"month\":\n      if(focusValue > 12){\n        $(focusId).val(\"\");\n        $('#month option:first').prop('selected', true);\n        modalMonth = 0;\n      } else {\n        modalMonth = focusValue;\n      }\n      break;\n    case \"day\":\n      if(focusValue > 31){\n        $(focusId).val(\"\");\n        $('#day option:first').prop('selected', true);\n        modalDay = 0;\n      } else {\n        modalDay = focusValue;\n      };\n      break;\n    case \"year\":\n      if(thisLength > thisMax){\n        $(focusId).val(\"\");\n        $('#year option:first').prop('selected', true);\n        modalYear = 0;\n      }else {\n        modalYear = focusValue;\n      };\n      break;\n    default:\n      focusValue = focusValue;\n  }\n\n  isAgeValid();\n\n}\n\nfunction isAgeValid(){\n  //console.log(\"Month:\" + modalMonth + \" day:\" + modalDay + \" year:\" + modalYear);\n\n  var ageMin = formsetup[0].agemin;\n  var mydate = new Date();\n  mydate.setFullYear(modalYear, modalMonth-1, modalDay);\n\n  var currdate = new Date();\n  currdate.setFullYear(currdate.getFullYear() - ageMin);\n\n  var validDateMath = currdate - mydate;\n  var coppaType = formsetup[0].coppapath; // 'none' or http://link\n\n  var qualifiedAge = false;\n\n  if ((currdate - mydate) < 0){\n    qualifiedAge = false;\n    console.log(\"LESS THAN ZERO - UNDER AGE\");\n  } else {\n    qualifiedAge = true;\n    console.log(\"GREATER THAN ZERO - AGE QUALIFIED\");\n  }\n\n  var thisDate = new Date();\n  var thisYear = thisDate.getFullYear();\n  var qualifyingYear = thisYear - ageMin;\n\n  if(modalYear < 1896 || modalYear > qualifyingYear ){\n    qualifiedAge = false;\n  }\n  console.log(\"qualifiedAge:\" + qualifiedAge);\n\n  //UPDATE BDAY ELEMENT UI NOTICES\n  if ( $(focusId).is(\":valid\") ) {\n    showBdaySuccess();\n  } else {\n    showBdayFail();\n  }\n\n  //console.log(\"mydate: \" + mydate);\n  //console.log(\"currdate: \" + currdate);\n  //console.log(\" validDateMath: \" + validDateMath);\n\n  var validScore = 0;\n  var feedbackSuccess = $('#feedback-bday').data(\"success\");\n  var feedbackFail = $('#feedback-bday').data(\"fail\");\n  var feedbackUtilityA = $('#feedback-bday').data(\"utility-a\");\n\n  if ( $(\"#month\").is(\":valid\") ) {validScore += 1};\n  if ( $(\"#day\").is(\":valid\") ) {validScore += 1};\n  if ( $(\"#year\").is(\":valid\") ) {validScore += 1};\n\n  /* ::::::::: [ BDAY  SELECT CONDITIONS START ] ::::::::::: */\n  if ( modalMonth == 0 || modalDay == 0 || modalYear == 0 || modalYear < 1895 ){\n    validScore = 0;\n    $('#feedback-bday').html(feedbackFail);\n    $('#feedback-bday').addClass(\"text-danger\");\n  }\n\n  if(focusValue == 0){\n    validList[focusIndex] = false;\n  }\n  /* ::::::::: [ BDAY  SELECT CONDITIONS END ] ::::::::::: */\n\n  if(validScore == 3 && qualifiedAge){\n    $('#feedback-bday').html(feedbackSuccess);\n    $('#feedback-bday').removeClass(\"text-danger\");\n    //validList[focusIndex] = true;\n    //checkValid();\n  }\n  if(validScore == 3 && qualifiedAge != true) {\n    switch(coppaType) {\n      case \"none\":\n        //no coppa under age\n        //$('#feedback-bday').html(feedbackFail + \" -underage\");\n        $('#feedback-bday').html(feedbackUtilityA);\n        $('#feedback-bday').addClass(\"text-danger\");\n        validList[focusIndex] = false;\n        $('#coppacheck').val('coppa Okay'); // add response to coppa input field\n        //console.log('standard display response'+ ' #coppacheck=coppa Okay');\n        break;\n      default:\n        // coppa under age\n        //$('#feedback-bday').html(feedbackFail + \" -coppa-break\");\n        $('#feedback-bday').html(feedbackUtilityA);\n        $('#feedback-bday').removeClass(\"text-danger\");\n        $('#coppacheck').val('Not Valid'); // add response to coppa input field\n      //console.log('coppa compliance display response' + ' #coppacheck=Not Valid');\n    }  // end coppaType switch\n    //$('#feedback-bday').html(feedbackFail + \" -coppa-break\");\n    //$('#feedback-bday').addClass(\"text-danger\");\n    //validList[focusIndex] = false;\n    //checkValid();\n  }\n\n  checkValid();\n\n}\n\nfunction showBdaySuccess(){\n  $(focusDiv).removeClass('has-error');\n  $(focusSpan).removeClass('glyphicon glyphicon-remove');\n  $(focusId).prop('aria-describedby', 'inputSuccess2Status');\n  $(focusSpan).addClass('glyphicon glyphicon-ok');\n  validList[focusIndex] = true;\n}\n\nfunction showBdayFail(){\n  $(focusDiv).addClass('has-error');\n  $(focusId).prop('aria-describedby', 'inputError2Status');\n  var errorNote = $(focusId).data('fail');\n  $(focusId).attr(\"placeholder\", errorNote)\n  $(focusSpan).removeClass('glyphicon glyphicon-ok');\n  $(focusSpan).addClass('glyphicon glyphicon-remove');\n  validList[focusIndex] = false;\n}\n\n/* :::::: [ BIRTHDAY INPUT & SELECT END ] :::::: */\n/* :::::: [ BIRTHDAY INPUT & SELECT END ] :::::: */\n\n/* :::::::::: [ BIRTHDAY FUNCTIONS END ] :::::::::: */\n/* :::::::::: [ BIRTHDAY FUNCTIONS END ] :::::::::: */\n\n/* :::::::::: [ TEXT INPUT BEGIN ] :::::::::: */\n\n$('.screenInput').on(\"input\", function(event) {\n  thisFocus = $(this).attr('id');\n  setFocusUlc(thisFocus);\n  screenText();\n});\n\nfunction screenText(){\n  if ( $(focusId).is(\":valid\") ) {\n    $(focusDiv).removeClass('has-error');\n    $(focusSpan).removeClass('glyphicon glyphicon-remove');\n    $(focusId).prop('aria-describedby', 'inputSuccess2Status');\n    $(focusSpan).addClass('glyphicon glyphicon-ok');\n    validList[focusIndex] = true;\n  } else {\n    $(focusDiv).addClass('has-error');\n    $(focusId).prop('aria-describedby', 'inputError2Status');\n    var errorNote = $(focusId).data('fail');\n    $(focusId).attr(\"placeholder\", errorNote)\n    $(focusSpan).removeClass('glyphicon glyphicon-ok');\n    $(focusSpan).addClass('glyphicon glyphicon-remove');\n    validList[focusIndex] = false;\n  }\n  checkValid();\n\n}\n\n/* :::::::::: [ TEXT INPUT END ] :::::::::: */\n\n/* :::::::::: [ TEXT INPUT BEGIN ] :::::::::: */\n\n$('.screenEmailLc').on(\"input\", function(event) {\n  thisFocus = $(this).attr('id');\n  setFocusUlc(thisFocus);\n  screenEmailLc();\n});\n\nfunction screenEmailLc(){\n  var thisValue = $(focusId).val();\n  var thisFilter = thisValue.toLocaleLowerCase();\n  $(focusId).val(thisFilter);\n\n  if ( $(focusId).is(\":valid\") ) {\n    $(focusDiv).removeClass('has-error');\n    $(focusSpan).removeClass('glyphicon glyphicon-remove');\n    $(focusId).prop('aria-describedby', 'inputSuccess2Status');\n    $(focusSpan).addClass('glyphicon glyphicon-ok');\n    validList[focusIndex] = true;\n  } else {\n    $(focusDiv).addClass('has-error');\n    $(focusId).prop('aria-describedby', 'inputError2Status');\n    var errorNote = $(focusId).data('fail');\n    $(focusId).attr(\"placeholder\", errorNote)\n    $(focusSpan).removeClass('glyphicon glyphicon-ok');\n    $(focusSpan).addClass('glyphicon glyphicon-remove');\n    validList[focusIndex] = false;\n  }\n  checkValid();\n\n}\n\n/* :::::::::: [ TEXT INPUT END ] :::::::::: */\n\n/* :::::::::: [ TEXT INPUT W/ LABEL BEGIN ] :::::::::: */\n\n$('.screenLabel').on(\"input\", function(event) {\n  thisFocus = $(this).attr('id');\n  setFocusUlc(thisFocus);\n  screenLabel();\n});\n\nfunction screenLabel(){\n\n  var labelTarget = $(focusId).data('label');\n  var labelSuccess = $(focusId).data('success');\n  var labelFail = $(focusId).data('fail');\n\n  if ( $(focusId).is(\":valid\") ) {\n    $(focusDiv).removeClass('has-error');\n    $(focusSpan).removeClass('glyphicon glyphicon-remove');\n    $(focusId).prop('aria-describedby', 'inputSuccess2Status');\n    $(focusSpan).addClass('glyphicon glyphicon-ok');\n    $(labelTarget).html(labelSuccess);\n    $(labelTarget).removeClass('text-danger'); // label change\n    validList[focusIndex] = true;\n  } else {\n    $(focusDiv).addClass('has-error');\n    $(focusId).prop('aria-describedby', 'inputError2Status');\n    var errorNote = $(focusId).data('fail');\n    $(focusId).attr(\"placeholder\", errorNote)\n    $(focusSpan).removeClass('glyphicon glyphicon-ok');\n    $(focusSpan).addClass('glyphicon glyphicon-remove');\n    $(labelTarget).html(labelFail)\n    $(labelTarget).addClass('text-danger');\n    validList[focusIndex] = false;\n  }\n  checkValid();\n\n}\n\n/* :::::::::: [TEXT INPUT W/ LABEL END ] :::::::::: */\n/* :::::::::: [ TEXT-MAX INPUT BEGIN ] :::::::::: */\n\n$('.screenInputMax').on(\"input\", function(event) {\n  thisFocus = $(this).attr('id');\n  setFocusUlc(thisFocus);\n  screenTextMax();\n});\n\nfunction screenTextMax(){\n\n  var stringLength = $(focusId).attr('maxlength');\n  var maxLength = parseInt(stringLength);\n  var thisValue = $(focusId).val();\n\n  if ( maxLength == thisValue.length ) {\n    $(focusDiv).removeClass('has-error');\n    $(focusSpan).removeClass('glyphicon glyphicon-remove');\n    $(focusId).prop('aria-describedby', 'inputSuccess2Status');\n    $(focusSpan).addClass('glyphicon glyphicon-ok');\n    validList[focusIndex] = true;\n  } else {\n    $(focusDiv).addClass('has-error');\n    $(focusId).prop('aria-describedby', 'inputError2Status');\n    $(focusSpan).removeClass('glyphicon glyphicon-ok');\n    $(focusSpan).addClass('glyphicon glyphicon-remove');\n    validList[focusIndex] = false;\n  }\n  checkValid();\n\n}\n\n/* :::::::::: [ TEXT-MAX INPUT END ] :::::::::: */\n\n/* :::::::::: [ TEXT INPUT W/ LABEL BEGIN ] :::::::::: */\n\n$('.screenRange').on(\"input\", function(event) {\n  thisFocus = $(this).attr('id');\n  setFocus(thisFocus);\n  screenRange();\n});\n\nfunction screenRange(){\n\n  var labelTarget = $(focusId).data('label');\n  var labelSuccess = $(focusId).data('success');\n  var labelFail = $(focusId).data('fail');\n  var minTarget = Number( $(focusId).data('min') );\n  var thisValue = Number(focusValue);\n  var thisBreak = $(focusId).data('break');\n\n  //if ( $(focusId).is(\":valid\") ) {\n  if ( thisValue > minTarget  ) {\n    $(focusDiv).removeClass('has-error');\n    $(focusSpan).removeClass('glyphicon glyphicon-remove');\n    $(focusId).prop('aria-describedby', 'inputSuccess2Status');\n    $(focusSpan).addClass('glyphicon glyphicon-ok');\n    $(labelTarget).html(labelSuccess + thisBreak + thisValue);\n    $(labelTarget).removeClass('text-danger'); // label change\n    validList[focusIndex] = true;\n  } else {\n    $(focusDiv).addClass('has-error');\n    $(focusId).prop('aria-describedby', 'inputError2Status');\n    var errorNote = $(focusId).data('fail');\n    $(focusId).attr(\"placeholder\", errorNote)\n    $(focusSpan).removeClass('glyphicon glyphicon-ok');\n    $(focusSpan).addClass('glyphicon glyphicon-remove');\n    $(labelTarget).html(labelFail + thisBreak + thisValue)\n    $(labelTarget).addClass('text-danger');\n    validList[focusIndex] = false;\n  }\n  checkValid();\n\n}\n\n/* :::::::::: [TEXT INPUT W/ LABEL END ] :::::::::: */\n/* :::::::::: [ TEXT-MAX INPUT BEGIN ] :::::::::: */\n\n$('.screenNumberMax').on(\"input\", function(event) {\n  thisFocus = $(this).attr('id');\n  setFocus(thisFocus);\n  screenNumberMax();\n});\n\nfunction screenNumberMax(){\n\n  var stringLength = $(focusId).attr('maxlength');\n  var maxLength = parseInt(stringLength);\n  var thisValue = $(focusId).val();\n\n  var filterValue = thisValue.replace(/[^0-9\\.]/g,'');\n  $( focusId  ).val( filterValue );\n\n  if ( maxLength == filterValue.length ) {\n    $(focusDiv).removeClass('has-error');\n    $(focusSpan).removeClass('glyphicon glyphicon-remove');\n    $(focusId).prop('aria-describedby', 'inputSuccess2Status');\n    $(focusSpan).addClass('glyphicon glyphicon-ok');\n    validList[focusIndex] = true;\n  } else {\n    $(focusDiv).addClass('has-error');\n    $(focusId).prop('aria-describedby', 'inputError2Status');\n    $(focusSpan).removeClass('glyphicon glyphicon-ok');\n    $(focusSpan).addClass('glyphicon glyphicon-remove');\n    validList[focusIndex] = false;\n  }\n  checkValid();\n\n  if( ctatext[0].hasOwnProperty('ctaentry') ){\n    ctatext[0].ctaentry = filterValue;\n  }\n\n}\n\n/* :::::::::: [ TEXT-MAX INPUT END ] :::::::::: */\n\n/* :::::::::: [PROMO-CODE INPUT BEGIN ] :::::::::: */\n$('.screenPromoCode').on(\"input\", function(event) {\n  thisFocus = $(this).attr('id');\n  setFocusUlc(thisFocus);\n  screenPromoCode();\n});\n\nfunction screenPromoCode(){\n\n  var sourceValue = $(focusId).val();\n  var sourceCode = $(focusId).data(\"code\");\n\n  var thisValue = sourceValue.toLowerCase();\n  var thisCode = sourceCode.toLowerCase();\n\n  if ( thisValue == thisCode) {\n    $(focusDiv).removeClass('has-error');\n    $(focusSpan).removeClass('glyphicon glyphicon-remove');\n    $(focusId).prop('aria-describedby', 'inputSuccess2Status');\n    $(focusSpan).addClass('glyphicon glyphicon-ok');\n    validList[focusIndex] = true;\n  } else {\n    $(focusDiv).addClass('has-error');\n    $(focusId).prop('aria-describedby', 'inputError2Status');\n    var errorNote = $(focusId).data('fail');\n    $(focusId).attr(\"placeholder\", errorNote)\n    $(focusSpan).removeClass('glyphicon glyphicon-ok');\n    $(focusSpan).addClass('glyphicon glyphicon-remove');\n    validList[focusIndex] = false;\n  }\n  checkValid();\n\n}\n/* :::::::::: [PROMO-CODE INPUT END ] :::::::::: */\n\n/* :::::::::: [ PHONE INPUT BEGIN ] :::::::::: */\n/* :::::::::: [ PHONE INPUT BEGIN ] :::::::::: */\n\n$('.screenPhone').on(\"change keyup paste blur\", function(event) {\n  thisFocus = $(this).attr('id');\n  setFocus(thisFocus);\n  screenPhone();\n});\n\nfunction screenPhone(){\n\n  var formatedNumber = \"\";\n  var phoneEntered = false;\n  var checkRequired = $( focusId ).prop('required');\n\n  /* :::::::::: [ FORMATTING BEGIN ] :::::::::::: */\n  var thisValue = focusValue;\n  var valueLength = thisValue.length;\n  var regexTen = /^\\(?([0-9]{3})\\)?[-]?([0-9]{3})[-]?([0-9]{4})$/;\n\n  if (valueLength == 4) {\n    var regexFour = /^\\(?([0-9]{3})\\)?[-]?([0-9]{1})$/\n    var formatFour = formatedNumber = thisValue.replace(regexFour, \"$1-$2\");\n  }\n\n  if (valueLength == 8) {\n    var regexEight = /^\\(?([0-9]{3})\\)?[-]?([0-9]{3})[-]?([0-9]{1})$/;\n    var formatEight = formatedNumber = thisValue.replace(regexEight, \"$1-$2-$3\");\n  }\n\n  if (regexTen.test(thisValue) && thisValue.length > 8) {\n    var formatTen = formatedNumber = thisValue.replace(regexTen, \"$1-$2-$3\");\n    phoneEntered = true;\n  }\n\n  if(valueLength != 4 && valueLength != 8 && regexTen.test(thisValue) == false  ){\n    var filterValue = formatedNumber = thisValue.replace(/[^0-9-]/g, \"\");\n    phoneEntered = false;\n  }\n  /* :::::::::: [ FORMATTING END ] :::::::::::: */\n\n  $(focusId).val( formatedNumber);\n\n  if ( phoneEntered == true   ) {\n    $(focusDiv).removeClass('has-error');\n    $(focusSpan).removeClass('glyphicon glyphicon-remove');\n    $(focusId).prop('aria-describedby', 'inputSuccess2Status');\n    $(focusSpan).addClass('glyphicon glyphicon-ok');\n    validList[focusIndex] = true;\n  } else {\n    $(focusDiv).addClass('has-error');\n    $(focusId).prop('aria-describedby', 'inputError2Status');\n    $(focusSpan).removeClass('glyphicon glyphicon-ok');\n    $(focusSpan).addClass('glyphicon glyphicon-remove');\n    validList[focusIndex] = false;\n  }\n\n  if(checkRequired == false && valueLength == 0){\n    $(focusDiv).removeClass('has-error');\n    $(focusSpan).removeClass('glyphicon glyphicon-remove');\n    $(focusId).prop('aria-describedby', 'inputSuccess2Status');\n    $(focusSpan).removeClass('glyphicon glyphicon-ok');\n  }\n\n  if(checkRequired == false){\n    validList[focusIndex] = true;\n  }\n\n  checkValid();\n\n  console.log(focusId + \" checkRequired\" + checkRequired + \" valid?\" + validList[focusIndex] +\n    \" valueLength:\" + valueLength);\n\n}\n\n/* :::::::::: [ PHONE INPUT END ] :::::::::: */\n/* :::::::::: [ PHONE INPUT END ] :::::::::: */\n\n/* :::::::::: [ ZIP INPUT BEGIN ] :::::::::: */\n/* :::::::::: [ ZIP INPUT BEGIN ] :::::::::: */\n\n$('.screenZip').on(\"input\", function(event) {\n  thisFocus = $(this).attr('id');\n  setFocusUlc(thisFocus);\n  screenZip();\n});\n\nfunction screenZip(){\n\n  var thisRegion = $( focusId ).data(\"region\");\n  var zipValue = focusValue;\n\n  switch(thisRegion) {\n    case \"unitedstates\":\n      zipValue.replace(/[^1-9\\.]/g,'');\n      $( focusId  ).val( zipValue.substr(0,5) );\n      if ($(focusId).is(\":valid\") && zipValue.length == 5) {\n        showZipSuccess();\n      } else {\n        showZipError();\n      } //end defaul\n      break;\n    case \"canada\":\n      var filterLetters = zipValue.replace(/[^0-9A-Za-z]/g, '');\n      var formatedZip = \"\";\n      for (i = 0; i < filterLetters.length; i++) {\n        if(i == 3){\n          formatedZip += (\" \" + filterLetters[i].toString());\n        } else {\n          formatedZip += filterLetters[i].toString();\n        }\n      } // end for loop\n\n      $(focusId).val(formatedZip);\n      var regExZip = /^[A-Za-z]\\d[A-Za-z][ -]?\\d[A-Za-z]\\d$/;\n      if (regExZip.test(formatedZip)) {\n        showZipSuccess();\n      } else {\n        showZipError();\n      } //end canda\n      break;\n    default:\n      var regExUS = /^([0-9]{5})(?:[-\\s]*([0-9]{4}))?$/; // US Zip\n      var regExCA = /^([A-Za-z][0-9][A-Za-z][ -]?[0-9][A-Za-z][0-9])?$/;\n      if ( zipValue.match(regExUS) || zipValue.match(regExCA) ) {\n        showZipSuccess();\n      } else {\n        showZipError();\n      } //end default\n  } //end switch\n\n  if(zipValue.length < 5){\n    showZipError();\n  }\n\n  checkValid();\n} // end screenZip()\n\nfunction showZipSuccess(){\n  $(focusDiv).removeClass('has-error');\n  $(focusSpan).removeClass('glyphicon glyphicon-remove');\n  $(focusId).prop('aria-describedby', 'inputSuccess2Status');\n  $(focusSpan).addClass('glyphicon glyphicon-ok');\n  validList[focusIndex] = true;\n}\n\nfunction showZipError(){\n  $(focusDiv).addClass('has-error');\n  $(focusId).prop('aria-describedby', 'inputError2Status');\n  $(focusSpan).removeClass('glyphicon glyphicon-ok');\n  $(focusSpan).addClass('glyphicon glyphicon-remove');\n  validList[focusIndex] = false;\n}\n\n/* :::::::::: [ ZIP INPUT END ] :::::::::: */\n/* :::::::::: [ ZIP INPUT END ] :::::::::: */\n\n/* ::::::::: [ EMAIL PAIR CONFIRMATION BEGIN ] ::::::::: */\n/* ::::::::: [ EMAIL PAIR CONFIRMATION BEGIN ] ::::::::: */\nvar emailPairIndex1 = 0;\nvar emailPairIndex2 = 0;\n\n$('.screenEmailPair').on(pairEvent, function(event) {\n  thisFocus = $(this).attr('id');\n  setFocusUlc(thisFocus);\n  emailPairIndex1 = $('#emailpair01').data(\"index\");\n  emailPairIndex2 = $('#emailpair02').data(\"index\");\n  screenEmailPair();\n});\n\nfunction screenEmailPair(){\n\n  var mailValue00 = $('#emailpair01').val();\n  var mailValue01 = $('#emailpair02').val();\n  var mailValid00 = $('#emailpair01').is(\":valid\");\n  var mailValid01 = $('#emailpair02').is(\":valid\");\n\n  if(mailValue00 != mailValue01  ){\n    //both valid, both match\n    validList[emailPairIndex1] = false;\n    validList[emailPairIndex2] = false;\n    setFocus('emailpair01');\n    emailPairError()\n    setFocus('emailpair02');\n    emailPairError()\n  }\n\n  if(mailValue00 == mailValue01 && mailValid00 && mailValid01 && mailValue00.length > 5 ){\n    //both valid, both match, value > 4 characters a@a.c\n    validList[emailPairIndex1] = true;\n    validList[emailPairIndex2] = true;\n    setFocus('emailpair01');\n    emailPairSuccess();\n    setFocus('emailpair02');\n    emailPairSuccess();\n  }\n\n  checkValid();\n\n} // end screenEmailPair()\n\nfunction emailPairError(){\n  $(focusDiv).addClass('has-error');\n  $(focusId).prop('aria-describedby', 'inputError2Status');\n  var errorNote = $(focusId).data('fail');\n  $(focusId).attr(\"placeholder\", errorNote)\n  $(focusSpan).removeClass('glyphicon glyphicon-ok');\n  $(focusSpan).addClass('glyphicon glyphicon-remove');\n}\n\nfunction emailPairSuccess(){\n  $(focusDiv).removeClass('has-error');\n  $(focusSpan).removeClass('glyphicon glyphicon-remove');\n  $(focusId).prop('aria-describedby', 'inputSuccess2Status');\n  $(focusSpan).addClass('glyphicon glyphicon-ok');\n}\n\n/* ::::::::: [ EMAIL PAIR CONFIRMATION END ] ::::::::: */\n/* ::::::::: [ EMAIL PAIR CONFIRMATION END ] ::::::::: */\n\n/* ::::::::: [ EMAIL BOUNCE BEGIN ] ::::::::: */\n/* ::::::::: [ EMAIL BOUNCE BEGIN ] ::::::::: */\n/* ::::::::: [ EMAIL BOUNCE BEGIN ] ::::::::: */\n\n/* ::::::::: [ EMAIL BOUNCE FEILD ONLY BEGIN ] ::::::::: */\n/* ::::::::: [ EMAIL BOUNCE FEILD ONLY BEGIN ] ::::::::: */\n$('.screenMailBounceInline').on(\"nb:result\", function(event) {\n  thisFocus = $(this).attr('id');\n  setFocusUlc(thisFocus);\n  screenMailBounceInline();\n});\n\nfunction screenMailBounceInline(){\n\n  var nbFieldOk = validList[focusIndex];\n\n  var ele = document.querySelector(focusId);\n  var nbfields = _nb.fields.get(ele);\n  if (Array.isArray(nbfields) && nbfields.length) {\n    if (nbfields[0]._response && nbfields[0]._response.is(['valid', 'catchall', 'unknown'])) {\n      nbFieldOk = true;\n    } else {\n      nbFieldOk = false;\n    }\n  }\n\n  //if ( $(focusId).is(\":valid\") ) {\n  if ( nbFieldOk == true ) {\n    $(focusDiv).removeClass('has-error');\n    $(focusSpan).removeClass('glyphicon glyphicon-remove');\n    $(focusId).prop('aria-describedby', 'inputSuccess2Status');\n    $(focusSpan).addClass('glyphicon glyphicon-ok');\n    validList[focusIndex] = true;\n  } else {\n    $(focusDiv).addClass('has-error');\n    $(focusId).prop('aria-describedby', 'inputError2Status');\n    var errorNote = $(focusId).data('fail');\n    $(focusId).attr(\"placeholder\", errorNote)\n    $(focusSpan).removeClass('glyphicon glyphicon-ok');\n    $(focusSpan).addClass('glyphicon glyphicon-remove');\n    validList[focusIndex] = false;\n  }\n  checkValid();\n\n}\n\n$('.screenMailBounceInline').on(\"input\", function(event) {\n  thisFocus = $(this).attr('id');\n  setFocusUlc(thisFocus);\n  validList[focusIndex] = false;\n  screenMailBounceInlineUi();\n});\n\nfunction screenMailBounceInlineUi(){\n  if ( $(focusId).is(\":valid\") ) {\n    validList[focusIndex] = false;\n  } else {\n    $(focusDiv).addClass('has-error');\n    $(focusId).prop('aria-describedby', 'inputError2Status');\n    var errorNote = $(focusId).data('fail');\n    $(focusId).attr(\"placeholder\", errorNote)\n    $(focusSpan).removeClass('glyphicon glyphicon-ok');\n    $(focusSpan).addClass('glyphicon glyphicon-remove');\n    validList[focusIndex] = false;\n  }\n  checkValid();\n\n}\n\n/* ::::::::: [ EMAIL BOUNCE FEILD ONLY END ] ::::::::: */\n/* ::::::::: [ EMAIL BOUNCE FEILD ONLY END ] ::::::::: */\n\n/* ::::::::: [ EMAIL BOUNCE FEILD W/ LABEL BEGIN ] ::::::::: */\n\n$('.screenMailBounceLabel').on(\"nb:result\", function(event) {\n  thisFocus = $(this).attr('id');\n  setFocusUlc(thisFocus);\n  screenMailBounceLabel();\n});\n\nfunction screenMailBounceLabel(){\n\n  var nbFieldOk = validList[focusIndex];\n\n  var ele = document.querySelector(focusId);\n  var nbfields = _nb.fields.get(ele);\n  if (Array.isArray(nbfields) && nbfields.length) {\n    if (nbfields[0]._response && nbfields[0]._response.is(['valid', 'catchall', 'unknown'])) {\n      nbFieldOk = true;\n    } else {\n      nbFieldOk = false;\n    }\n  }\n\n  var labelTarget = $(focusId).data('label');\n  var labelSuccess = $(focusId).data('success');\n  var labelFail = $(focusId).data('fail');\n\n  if ( nbFieldOk == true ) {\n    $(focusDiv).removeClass('has-error');\n    $(focusSpan).removeClass('glyphicon glyphicon-remove');\n    $(focusId).prop('aria-describedby', 'inputSuccess2Status');\n    $(focusSpan).addClass('glyphicon glyphicon-ok');\n    $(labelTarget).html(labelSuccess);\n    $(labelTarget).removeClass('text-danger'); // label change\n    validList[focusIndex] = true;\n  } else {\n    $(focusDiv).addClass('has-error');\n    $(focusId).prop('aria-describedby', 'inputError2Status');\n    var errorNote = $(focusId).data('fail');\n    $(focusId).attr(\"placeholder\", errorNote)\n    $(focusSpan).removeClass('glyphicon glyphicon-ok');\n    $(focusSpan).addClass('glyphicon glyphicon-remove');\n    $(labelTarget).html(labelFail)\n    $(labelTarget).addClass('text-danger');\n    validList[focusIndex] = false;\n  }\n  checkValid();\n\n}\n\n$('.screenMailBounceLabel').on(\"input\", function(event) {\n  thisFocus = $(this).attr('id');\n  setFocusUlc(thisFocus);\n  validList[focusIndex] = false;\n  screenMailBounceLabelUi();\n});\n\nfunction screenMailBounceLabelUi(){\n\n  var labelTarget = $(focusId).data('label');\n  var labelSuccess = $(focusId).data('success');\n  var labelFail = $(focusId).data('fail');\n\n  if ( $(focusId).is(\":valid\") ) {\n    validList[focusIndex] = false;\n  } else {\n    $(focusDiv).addClass('has-error');\n    $(focusId).prop('aria-describedby', 'inputError2Status');\n    var errorNote = $(focusId).data('fail');\n    $(focusId).attr(\"placeholder\", errorNote)\n    $(focusSpan).removeClass('glyphicon glyphicon-ok');\n    $(focusSpan).addClass('glyphicon glyphicon-remove');\n    $(labelTarget).html(labelFail)\n    $(labelTarget).addClass('text-danger');\n    validList[focusIndex] = false;\n  }\n  checkValid();\n\n}\n\n/* ::::::::: [ EMAIL BOUNCE PAIR BEGIN ] ::::::::: */\n/* ::::::::: [ EMAIL BOUNCE PAIR BEGIN ] ::::::::: */\n\n$('.screenMailBouncePair').on(\"nb:result\", function(event) {\n  thisFocus = $(this).attr('id');\n  setFocusUlc(thisFocus);\n  emailPairIndex1 = $('#emailpair01').data(\"index\");\n  emailPairIndex2 = $('#emailpair02').data(\"index\");\n  screenMailBouncePair();\n});\n\nfunction screenMailBouncePair(){\n\n  var nbFieldOk = validList[focusIndex];\n\n  var ele = document.querySelector(focusId);\n  var nbfields = _nb.fields.get(ele);\n  if (Array.isArray(nbfields) && nbfields.length) {\n    if (nbfields[0]._response && nbfields[0]._response.is(['valid', 'catchall', 'unknown'])) {\n      nbFieldOk = true;\n    } else {\n      nbFieldOk = false;\n    }\n  }\n\n  var mailValue00 = $('#emailpair01').val();\n  var mailValue01 = $('#emailpair02').val();\n  var mailValid00 = $('#emailpair01').is(\":valid\");\n  var mailValid01 = $('#emailpair02').is(\":valid\");\n\n  //if ( nbFieldOk == true ) {\n  if(mailValue00 == mailValue01 && mailValid00 && nbFieldOk == true ){\n    validList[emailPairIndex1] = nbFieldOk;\n    validList[emailPairIndex2] = nbFieldOk;\n    setFocus('emailpair01');\n    emailPairSuccess();\n    setFocus('emailpair02');\n    emailPairSuccess();\n  } //else {\n  if(mailValue00 != mailValue01 || nbFieldOk != true ){\n    validList[emailPairIndex1] = nbFieldOk;\n    validList[emailPairIndex2] = nbFieldOk;\n    setFocus('emailpair01');\n    emailPairError()\n    setFocus('emailpair02');\n    emailPairError()\n  }\n  if(mailValue00 != mailValue01 && nbFieldOk == true ){ // new condition 050819\n    if(focusIndex == emailPairIndex1 ){\n      validList[emailPairIndex1] = false;\n      validList[emailPairIndex2] = nbFieldOk;\n    }\n    if(focusIndex == emailPairIndex2 ){\n      validList[emailPairIndex1] = nbFieldOk;\n      validList[emailPairIndex2] = false;\n    }\n    setFocus('emailpair01');\n    emailPairError()\n    setFocus('emailpair02');\n    emailPairError()\n  }\n  checkValid();\n\n}\n\n$('.screenMailBouncePair').on(pairEvent, function(event) {\n  thisFocus = $(this).attr('id');\n  setFocusUlc(thisFocus);\n  emailPairIndex1 = $('#emailpair01').data(\"index\");\n  emailPairIndex2 = $('#emailpair02').data(\"index\");\n  screenEmailPair02();\n});\n\nfunction screenEmailPair02(){\n  // SCREEN #emailpair02 ON USER ENTRY DATA ...\n  var mailValue00 = $('#emailpair01').val();\n  var mailValue01 = $('#emailpair02').val();\n  var mailValid00 = $('#emailpair01').is(\":valid\");\n  var mailValid01 = $('#emailpair02').is(\":valid\");\n\n  if(mailValue00 != mailValue01  ){\n    //both valid, both match\n    validList[emailPairIndex1] = false;\n    validList[emailPairIndex2] = false;\n    setFocus('emailpair01');\n    emailPairError()\n    setFocus('emailpair02');\n    emailPairError()\n  }\n\n  checkValid();\n}\n\n/* ::::::::: [ EMAIL BOUNCE PAIR END ] ::::::::: */\n/* ::::::::: [ EMAIL BOUNCE PAIR END ] ::::::::: */\n\n/* ::::::::: [ EMAIL BOUNCE END ] ::::::::: */\n/* ::::::::: [ EMAIL BOUNCE END ] ::::::::: */\n/* ::::::::: [ EMAIL BOUNCE END ] ::::::::: */\n\n\n/* :::::::::: [ TEXT AREA BEGIN ] :::::::::: */\n\n$('.screenTextArea').on(\"input\", function(event) {\n  thisFocus = $(this).attr('id');\n  setFocus(thisFocus);\n  screenTextArea();\n});\n\nfunction screenTextArea(){\n\n  var minText = $(focusId).data(\"minimum\");\n  var thisMinimum = parseInt(minText);\n  var thisLength = focusValue.length;\n\n  if ( thisLength >= thisMinimum ) {\n    $(focusDiv).removeClass('has-error');\n    $(focusSpan).removeClass('glyphicon glyphicon-remove');\n    $(focusId).prop('aria-describedby', 'inputSuccess2Status');\n    $(focusSpan).addClass('glyphicon glyphicon-ok');\n    validList[focusIndex] = true;\n  } else {\n    $(focusDiv).addClass('has-error');\n    $(focusId).prop('aria-describedby', 'inputError2Status');\n    var errorNote = $(focusId).data('fail');\n    $(focusId).attr(\"placeholder\", errorNote)\n    $(focusSpan).removeClass('glyphicon glyphicon-ok');\n    $(focusSpan).addClass('glyphicon glyphicon-remove');\n    validList[focusIndex] = false;\n  }\n  checkValid();\n\n}\n\n/* :::::::::: [ TEXT AREA END ] :::::::::: */\n\n/* :::::::::: [ SELECT DROPDOWN BEGIN ] :::::::::: */\n/* :::::::::: [ SELECT DROPDOWN BEGIN ] :::::::::: */\n$('.screenSelect').change(function () {\n  thisFocus = $(this).attr('id');\n  setFocus(thisFocus);\n  screenSelect();\n});\n\nfunction screenSelect(){\n  var thisId = \"#\" + thisFocus;\n  var optionIndex = $(thisId)[0].selectedIndex;\n  var isRequired = $(thisId).prop('required');\n\n  if ( optionIndex > 0 && isRequired ) {\n    validList[focusIndex] = true;\n  }\n  if ( optionIndex == 0 && isRequired ) {\n    validList[focusIndex] = false;\n  }\n  checkValid();\n\n}\n/* :::::::::: [ SELECT DROPDOWN END ] :::::::::: */\n/* :::::::::: [ SELECT DROPDOWN END ] :::::::::: */\n\n/* :::::::::: [ SELECT FILTER DROPDOWN BEGIN ] :::::::::: */\n/* :::::::::: [ SELECT FILTER DROPDOWN BEGIN ] :::::::::: */\n\n// CHAIN SELECT VARs...\nvar chainFocusId = \"\"; // id in use\nvar chainFocusIndex = \"\"; // index of ID in use, within group\nvar chainClassName = \"\"; // class in use no period 'class-name'\nvar chainFocusClass = \"\"; // class in use with period '.class-name'\nvar chainCleanMatch = true;\n\nvar chainFocusTh;  // th (label) for feedback\nvar chainSuccess;  // th (label) for feedback\nvar chainError;\n\nvar chainIdList = []; //  \"#groupname-z-0-0\", \"#groupname-z-0-1\", \"#groupname-z-0-2\", collected list of IDs\nvar chainOptIndexList = []; // 1,0,0, collected list of option Index Selections\nvar chainValueList = []; // \"no_selection-0-0\", \"Option A\", \"Option B\", collected list of Text Values\nvar chainOptionClassList = []; //  \".no_selection-0-0\", \".option-a\", \".option-b\", collected list of option classes\nvar chainIndexList = []; //  0, 1, 2,   collected INDEX list for FORM VALIDATION POSITION\nvar blockIndexList = []; // 0,1,2, INDEX IN BLOCK-GROUP (EQUAL OR LOWER THAN focusIndex)\nvar allOptionClassList = []; // list of all available opitons\n\n$('.screenSelectFilter').change(function () {\n  thisFocus = $(this).attr('id');\n  setFocus(thisFocus);\n\n  /* :::::::::: [ FILTER CHAIN START ] :::::::::: */\n  /* :::::::::: [ FILTER CHAIN START ] :::::::::: */\n\n  var thisTarget = thisFocus; //id of select\n  var targetGroup = $(this).data(\"group\");  // data target for selected\n  chainFocusClass = \".select-chain-\" + targetGroup;\n  chainClassName = \"select-chain-\" + targetGroup;\n\n  chainIdList = []; // RESET IDs to Target\n  chainOptIndexList = []; // RESET CURRENT OPTION INDEX LIST\n  chainValueList = []; // RESET CURRENT VALUE LIST\n  chainOptionClassList = []; // RESET OPTION CLASS LIST\n  chainIndexList = []; // RESET SELECT INDEX\n  allOptionClassList = []; // RESET LIST OF AVAILABLE OPTIONS\n  blockIndexList = []; // INDEX IN BLOCK-GROUP (EQUAL OR LOWER THAN focusIndex)\n\n  chainFocusTh = $(this).data(\"th\"); // error feedback th (not label)\n  chainSuccess = $(this).data(\"success\");\n  chainError = $(this).data(\"fail\");\n\n  chainFocusId = \"#\" + thisTarget;\n  chainFocusIndex = $(this).data(\"index\");  // focus index within group\n\n  // get all IDs IN THIS BLOCK\n  $(chainFocusClass).each(function () {\n    chainIdList.push(\"#\" + this.id);\n    blockIndexList.push(blockIndexList.length);\n  });\n\n  // get all OPTION CLASSES IN THIS BLOCK\n  var thisOptionSet = chainFocusId + \" option\"; // '#select-id option'\n  $(thisOptionSet ).each(function () {\n    var thisOptionValue = $(this).val();\n    var thisOptionFilter = \".\" + thisOptionValue.replace(/\\s+/g, '-').toLowerCase();\n    allOptionClassList.push(thisOptionFilter);\n  });\n\n  allOptionClassList.shift(); // delete first default option from list\n\n  for (i = 0; i < chainIdList.length; i++) {\n    chainOptIndexList.push( $(chainIdList[i])[0].selectedIndex );\n    var valueSource = $(chainIdList[i]).val();\n    chainValueList.push( $(chainIdList[i]).val() );\n    var optionTarget = \".\" + valueSource.replace(/\\s+/g, '-').toLowerCase();\n    chainOptionClassList.push(optionTarget);\n    chainIndexList.push( $(chainIdList[i]).data(\"index\") )\n  }\n\n  filterSelectChain();\n});\n\nfunction filterSelectChain(){\n\n  chainCleanMatch = true;\n\n  // RESET OTHER SELECTS IN CHAIN, IF SAME VALUE...\n  for (i = 0; i < chainIdList.length; i++) {\n\n    var firstIndex = chainOptIndexList.indexOf(chainOptIndexList[i]); // finds first occurence of option index\n    var lastIndex = chainOptIndexList.lastIndexOf(chainOptIndexList[i]); // finds last occurence of option index\n\n    if(chainOptIndexList[firstIndex] == chainOptIndexList[lastIndex] && lastIndex != firstIndex && chainOptIndexList[firstIndex] != 0){\n      // if 1st option index equals(matches) last option index, & the first and last matching indexes are in different spots, & index is not 0\n      $(chainIdList[lastIndex]).prop('selectedIndex', 0);\n\n\n      chainOptIndexList[i] = 0; // set index option to 0\n      chainCleanMatch = false;\n    } // end if match check\n  } // end for loop\n\n  // RESET ALL OPTIONS UNDER THIS .block-class\n  var thisBlockOption = chainFocusClass + \" option\"; // .block-class option\n  $(thisBlockOption).show();\n\n  for (i = 0; i < chainIdList.length; i++) {\n\n    for (j = 0; j < chainOptionClassList.length; j++) {\n      var thisOption = chainIdList[i] + \" \" + chainOptionClassList[j];\n      var optionIndexOf = chainOptionClassList[j].indexOf(\".no_selection\");\n\n      if(optionIndexOf == -1 && j < blockIndexList[i] && optionIndexOf == -1  ){\n        $(thisOption).hide();\n      }\n    } // end j loop\n\n  } // end loop i\n\n  // check to see any options are still at default\n  var indexOfZero = chainOptIndexList.indexOf(0);\n  if(indexOfZero > -1){\n    chainCleanMatch = false;\n  }\n\n  doSelectChainFeedback();\n\n}\n\nfunction doSelectChainFeedback(){\n\n  var isRequired = $(chainFocusId).prop('required'); // chainFocusId\n\n  if(chainCleanMatch == true){\n    $(chainFocusTh).html(chainSuccess);\n    $(chainFocusTh).removeClass('text-danger');\n  } else {\n    $(chainFocusTh).html(chainError);\n    $(chainFocusTh).addClass('text-danger');\n  }\n\n  // SET VALIDATION FOR SELECT\n  for (i = 0; i < chainOptIndexList.length; i++) {\n    // GET INDEX OF SELECTED OPTION FOR VALIDATION...\n    var targetIndex = chainIndexList[i];\n    if(chainOptIndexList[i] > 0  && isRequired){\n      validList[targetIndex] = true;\n    }\n    if(chainOptIndexList[i] == 0  && isRequired){\n      validList[targetIndex] = false;\n    }\n  }\n\n  checkValid();\n\n}\n\n\n/* :::::::::: [ SELECT FILTER DROPDOWN END ] :::::::::: */\n/* :::::::::: [ SELECT FILTER DROPDOWN END ] :::::::::: */\n\n$('.screenSelectLabelRow').change(function () {\n  //console.log(\"screenSelectLabelRow\");\n  thisFocus = $(this).attr('id');\n  setFocus(thisFocus);\n  screenSelectLabelRow();\n});\n\nfunction screenSelectLabelRow(){\n  var thisId = \"#\" + thisFocus;\n  var optionIndex = $(thisId)[0].selectedIndex;\n  var isRequired = $(thisId).prop('required');\n\n  var thisSuccess = $(thisId).data(\"success\");\n  var thisFail = $(thisId).data(\"fail\");\n\n  var groupName = Number( $(thisId).data(\"group\") );\n  var thisClass = \".select-chain-\" + groupName;\n  var thTarget = $(thisId).data(\"th\");\n\n  var indexCount = -1;\n  var selectCount = -1\n\n  $( thisClass ).each(function() {\n    var thisIndex = $( this)[0].selectedIndex;\n    if(thisIndex > 0){indexCount += 1}\n    selectCount +=1;\n  });\n\n  if(indexCount != selectCount && isRequired){\n    $(thTarget).html(thisFail);\n    $(thTarget).addClass('text-danger');\n  } else {\n    $(thTarget).html(thisSuccess);\n    $(thTarget).removeClass('text-danger')\n  }\n\n  if ( optionIndex > 0 && isRequired) {\n    validList[focusIndex] = true;\n  }\n  if ( optionIndex == 0 && isRequired) {\n    validList[focusIndex] = false;\n  }\n  checkValid();\n\n}\n\n/* :::::::::: [ CHECKBOX SCREEN BEGIN ] :::::::::: */\n/* :::::::::: [ CHECKBOX SCREEN BEGIN ] :::::::::: */\n$('.screenCheckbox').change(function () {\n  thisFocus = $(this).attr('id');\n  setFocus(thisFocus);\n  screenCheckbox();\n});\n\nfunction screenCheckbox(){\n  var boxChecked = $( focusId )[0].checked; //gives true or false\n  var checkRequired = $( focusId ).prop('required');\n  var dataSuccess = $( focusId ).data(\"success\");\n  var dataFail = $( focusId ).data(\"fail\");\n  if(boxChecked == true && checkRequired){\n    $(focusSpan).html(dataSuccess);\n    $(focusSpan).removeClass('text-danger');\n    validList[focusIndex] = true;\n  }\n  if (boxChecked == false && checkRequired){\n    $(focusSpan).html(dataFail);\n    $(focusSpan).addClass('text-danger');\n    validList[focusIndex] = false;\n  };\n\n  if(boxChecked == true){\n    $( focusId ).val(true);\n  } else {\n    $( focusId ).val(false);\n  }\n\n  checkValid();\n\n}\n/* :::::::::: [ CHECKBOX SCREEN END ] :::::::::: */\n/* :::::::::: [ CHECKBOX SCREEN END ] :::::::::: */\n\n/* :::::::::: [ CHECKBOX GROUP SCREEN BEGIN ] :::::::::: */\n/* :::::::::: [ CHECKBOX GROUP SCREEN BEGIN ] :::::::::: */\n$('.screenCheckGroup').change(function () {\n  thisFocus = $(this).attr('id');\n  setFocus(thisFocus);\n  screenCheckGroup();\n});\n\nfunction screenCheckGroup(){\n  var boxChecked = $( focusId )[0].checked; //gives true or false\n  var checkRequired = $( focusId ).data(\"required\") // $( focusId ).prop('required');\n  var dataSuccess = $( focusId ).data(\"success\");\n  var dataFail = $( focusId ).data(\"fail\");\n  var dataId = $( focusId ).data(\"index\");\n  //alert(checkRequired)\n  if(boxChecked == true && checkRequired == true){\n    $(focusSpan).html(dataSuccess);\n    $(focusSpan).removeClass('text-danger');\n    //validList[focusIndex] = true;\n  }\n  if (boxChecked == false && checkRequired == true){\n    $(focusSpan).html(dataFail);\n    $(focusSpan).addClass('text-danger');\n    //validList[focusIndex] = false;\n  };\n\n  var checkList = [];\n  var thisGroup = \".checkGroup-\" + focusIndex + \":checked\";\n  $(thisGroup).each(function() {\n    checkList.push(true);\n    //console.log(focusId + \" | \" +checkList);\n  });\n  var isCheck = checkList.indexOf(true);\n  if(isCheck > -1){\n    validList[focusIndex] = true;\n  } else {\n    validList[focusIndex] = false;\n  }\n\n  if(checkRequired == false){\n    validList[focusIndex] = true;\n  }\n\n\n  checkValid();\n\n}\n/* :::::::::: [ CHECKBOX GROUP END ] :::::::::: */\n/* :::::::::: [ CHECKBOX GROUP END ] :::::::::: */\n\n/* :::::::::: [ RULES CHECKBOX SCREEN BEGIN ] :::::::::: */\n/* :::::::::: [ RULES CHECKBOX SCREEN BEGIN ] :::::::::: */\n$('.screenCheckRules').change(function () {\n  thisFocus = $(this).attr('id');\n  setFocus(thisFocus);\n  screenCheckRules();\n});\n\nfunction screenCheckRules(){\n  //DATA-TARGETS IN CHECKBOX\n  var boxChecked = $( focusId )[0].checked; //gives true or false\n  var checkRequired = $( focusId ).prop('required');\n\n  if(boxChecked == true && checkRequired){\n    $(focusSpan).removeClass('text-danger');\n    validList[focusIndex] = true;\n    $( focusId ).val(true);\n  }\n  if (boxChecked == false && checkRequired){\n    $(focusSpan).addClass('text-danger');\n    validList[focusIndex] = false;\n    $( focusId ).val(true);\n  };\n\n  if(boxChecked == true){\n    $( focusId ).val(true);\n  } else {\n    $( focusId ).val(false);\n  }\n\n  checkValid();\n\n}\n/* :::::::::: [ RULES CHECKBOX SCREEN END ] :::::::::: */\n/* :::::::::: [ RULES CHECKBOX SCREEN END ] :::::::::: */\n\n/* :::::::::: [ RADIO SCREEN BEGIN ] :::::::::: */\n/* :::::::::: [ RADIO SCREEN BEGIN ] :::::::::: */\n$('.screenRadio').change(function () {\n  thisFocus = $(this).attr('id');\n  setFocus(thisFocus);\n  screenRadio();\n\n});\n\nfunction screenRadio(){\n  var thisIndex = $( focusId ).data(\"index\");\n  var thisGroup = \"radioGroup\" + thisIndex;\n  var thisChecked = focusId + \":checked\";\n\n  if( $(thisChecked) ){\n    validList[focusIndex] = true;\n    //console.log(focusId + \" checked | \" + focusIndex + \" | \" + validList[focusIndex] );\n  }\n  checkValid();\n}\n\n/* :::::::::: [ RADIO SCREEN END ] :::::::::: */\n/* :::::::::: [ RADIO SCREEN END ] :::::::::: */\n\n/* :::::::::: [ INPUT RETURN SCREEN START ] :::::::::: */\n/* :::::::::: [ INPUT RETURN SCREEN START ] :::::::::: */\n\n$('.screenNoReturnKey').keypress(function(e){\n  if ( e.which == 13 ){\n    return false; // e.preventDefault();\n  }\n});\n\n/* :::::::::: [ INPUT RETURN SCREEN END ] :::::::::: */\n/* :::::::::: [ INPUT RETURN SCREEN END ] :::::::::: */\n\n/* :::::::::: [ SCREEN TURNSTILE BEGIN ] :::::::::: */\n/* :::::::::: [ SCREEN TURNSTILE BEGIN ] :::::::::: */\n\nfunction screenTurnstile(){\n  var sourceIndex = $('#turnstileElement').data('index');\n  var thisIndex = parseInt(sourceIndex);\n  if(turnstile.getResponse() != \"\"){\n    validList[thisIndex] = true;\n  }\n  checkValid();\n}\nwindow.screenTurnstile = screenTurnstile;\n\n/* :::::::::: [ SCREEN TURNSTILE END ] :::::::::: */\n/* :::::::::: [ SCREEN TURNSTILE END ] :::::::::: */\n\n/* :::::::::: [ SCREEN CAPTCHA BEGIN ] :::::::::: */\n/* :::::::::: [ SCREEN CAPTCHA BEGIN ] :::::::::: */\n\nfunction screenCaptcha(){\n  var sourceIndex = $('#captchaElement').data('index');\n  var thisIndex = parseInt(sourceIndex);\n  if(grecaptcha.getResponse() != \"\"){\n    validList[thisIndex] = true;\n  }\n  checkValid();\n}\n\n/* :::::::::: [ SCREEN CAPTCHA END ] :::::::::: */\n/* :::::::::: [ SCREEN CAPTCHA END ] :::::::::: */\n\n/* :::::::::: [ SCREEN CAPTCHA V3 BEGIN ] :::::::::: */\n/* :::::::::: [ SCREEN CAPTCHA V3 BEGIN ] :::::::::: */\n\nfunction screenCaptchaV3(){\n  var sourceIndex = $('#g-recaptcha-response').data('index');\n  var thisIndex = parseInt(sourceIndex);\n  if($('#g-recaptcha-response').val() != \"\"){\n    validList[thisIndex] = true;\n  }\n  checkValid();\n}\n\n/* :::::::::: [ SCREEN CAPTCHA V3 END ] :::::::::: */\n/* :::::::::: [ SCREEN CAPTCHA V3 END ] :::::::::: */\n\n/*\nfunction ulcFilter(){\n\tvar thisValue = focusValue;\n\tvar filterType = $(focusId).data(\"ulc\");\n\n\t\tswitch(filterType) {\n\t\t\tcase \"uppercase\":\n\t\t\t\tthisValue = focusValue.toUpperCase();\n\t\t\t\t$(focusId).val(thisValue);\n\t\t\t\tbreak;\n\t\t\tcase \"lowercase\":\n\t\t\t\tthisValue = focusValue.toLowerCase();\n\t\t\t\t$(focusId).val(thisValue);\n\t\t\t\tbreak;\n\t\t\tcase \"mixedcase\":\n\t\t\t\tthisValue = filterCaptilaize(focusValue);\n\t\t\t\t$(focusId).val(thisValue);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthisValue = thisValue; // user, collapse, or Nan\n\t\t}\n\n\tconsole.log(\"ulcFilter = \" + focusId + \":\" + filterType + \":\" + thisValue );\n\n}\n*/\n\nfunction filterCaptilaize( str ){\n  var wordList = str.split(\" \");\n  for ( var i = 0; i < wordList.length; i++ ){\n    var j = wordList[i].charAt(0).toUpperCase();\n    wordList[i] = j + wordList[i].substr(1).toLowerCase();\n  }\n  return wordList.join(\" \");\n}\n\n/* :::::::::: [ SCREENING FUNCTIONS END ] :::::::::: */\n/* :::::::::: [ SCREENING FUNCTIONS END ] :::::::::: */\n\n/* :::::::::: [ VALIDATION BEGIN ] :::::::::: */\n/* :::::::::: [ VALIDATION BEGIN ] :::::::::: */\n\nfunction checkValid(){\n  var thisScore = 0;\n\n  for (i = 0; i < validList.length; i++) {\n    if(validList[i] == true){thisScore += 1}\n  }\n\n  // #button-submit, #button-url selects single button on entry form\n  // :submit selects multiple buttons on exit form (they have different ids)\n  $('#button-submit, #button-url, :submit').each(\n    function() {\n      if(thisScore == validList.length){\n        $(this).removeAttr(\"disabled\");\n        $(this).removeClass(\"disabled\");\n        $(this).html(bntValidIcon + $(this).data(\"success\"));\n      } else {\n        $(this).attr(\"disabled\", \"disabled\");\n        $(this).addClass(\"disabled\");\n        $(this).html($(this).data(\"fail\"));\n      }\n    }\n  );\n\n  if(playeIdTarget.length > 1){\n    var thisValue = $(playeIdTarget).val();\n    var thisPlayerElement = \"#\" + playerIdTag;\n    $(thisPlayerElement).val(thisValue); // add player-id target text to input\n  }\n\n  //console.log(\"thisScore: \" + thisScore + \" validList-length:\" + validList.length);\n  //console.log(validList);\n\n}\n\n/* :::::::::: [ VALIDATION END ] :::::::::: */\n/* :::::::::: [ VALIDATION END ] :::::::::: */\n\n/* ::::::::::: [ RULE-PRIVACY POP-UP MODAL START ] :::::::::: */\n/* ::::::::::: [ RULE-PRIVACY POP-UP MODAL START ] :::::::::: */\n\nvar termsPopUp = false;\n\n$(\".rulesPopUp\").click(function(){\n  var thisLink = exitlinks[0].rules;\n  termsPopUp = true;\n  $(\"#termsIframe\").attr(\"src\", thisLink);\n  sizeRuleFrame();\n  $( \"#termsDiv\" ).show();\n});\n\n$(\".privacyPopUp\").click(function(){\n  var thisLink = exitlinks[0].privacy;\n  termsPopUp = true;\n  $(\"#termsIframe\").attr(\"src\", thisLink);\n  sizeRuleFrame();\n  $( \"#termsDiv\" ).show();\n});\n\n$(\"#btnCloseTerms\").click(function(){\n  $( \"#termsDiv\" ).hide();\n});\n\n$( window ).resize(function() {\n  if(termsPopUp == true){\n    sizeRuleFrame();\n  }\n});\n\nfunction sizeRuleFrame(){\n  var thisHeight = Math.round( $(window).height() * .8 );\n  var thisWidth = Math.round( $(window).width() * .8 );\n\n  if(thisWidth > 640){thisWidth = 640};\n\n  $('#termsDiv').height(thisHeight);\n  $('#termsDiv').width(thisWidth);\n\n  var frameHeight = thisHeight - 18;\n  $('#termsIframe').height(frameHeight);\n  $('#termsIframe').width(thisWidth);\n\n}\n\n/* :::::::::: [ RULES-PRIVACY POP-UP END ] ::::::::::: */\n/* :::::::::: [ RULES-PRIVACY POP-UP END ] ::::::::::: */\n\n/* :::::::::: [ BUTTON CLICK THRU BEGIN ] :::::::::: */\n/* :::::::::: [ BUTTON CLICK THRU BEGIN ] :::::::::: */\n\n$(\".button-enter\").click(function(){\n  //closeEntryUi();  // see form_style.js\n\n  if($(\"#button-submit\").attr('disabled')){\n    console.log(\"button disabled\");\n  }else{\n    closeEntryUi()\n  }\n\n});\n\n$(\"#demoBtn\").click(function(){\n  closeEntryUi();   // see form_style.js\n});\n\n/*$(\".button-exit\").click(function(){\n  alert(\"button form exit click\");\n});*/\n\n$(\".button-goback\").click(function(){\n  if(window.history.length > 1){\n    window.history.go(-1);\n  } else{\n    window.close();\n  } //end if\n});\n\n$(\".button-exitlink\").click(function(){\n  var thisLink = $('#button-exitlink').data(\"url\");\n  window.location.href = thisLink; //with browser history\n});\n\n$(\".button-url\").click(function(){\n  runAjaxUrl();\n});\n\n/* :::::::::: [ BUTTON CLICK THRU END ] :::::::::: */\n/* :::::::::: [ BUTTON CLICK THRU END ] :::::::::: */\n\n\n//# sourceURL=webpack://wireframes/./src/pages/Fulfillment/crutch/form_generator.js?");

/***/ }),

/***/ "./src/pages/Fulfillment/crutch/form_styler.js":
/*!*****************************************************!*\
  !*** ./src/pages/Fulfillment/crutch/form_styler.js ***!
  \*****************************************************/
/***/ (() => {

eval("// ADD FORM CSS CLASSES TO PAGE HEADER ....\n// ( sample css cited after addFormStyles() function )\n\nvar gameBkgPng = \"gameboard.png\";  // \"gameboard.png\" || \"cta.png\" for scratch-off\nvar isWireframe = true;\nvar videoWireframe = false;\nvar sourceApi = 0;\n\nvar isAdminUrl = window.location.href.indexOf(\"/admin/\");\n\nvar bntValidIcon = \"<span class='glyphicon glyphicon-ok'></span>&nbsp;\";\n\nif(isAdminUrl > -1){\n  isWireframe = false;\n}\n\nif(isWireframe == false){sourceApi = adminoptions.wireframe_api}; // get api admin\nif(isWireframe == true){sourceApi = version.api}; // get api wireframe\n\nif(pageId = \"index\" ){\n//if(formOptions.form_channel == \"entry\" || formOptions.form_channel == \"entry-mobile\" ){\n  videoWireframe = version.video; // flag video usage\n}\n\n// modallogin patch overwrite\nif(\n  formOptions.form_class == \"entry\" &&\n  isWireframe == true &&\n  formsetup[0].modallogin == \"none\"\n){\n  // modallogin patch overwrite\n  formOptions.form_channel = \"none\";\n  console.log(\n    \"class=\" + formOptions.form_class + \" wireframe=\" +isWireframe +\n    \" 2016ModalLogin=\" + formsetup[0].modallogin\n  )\n}\n\n\nsetDeviceInfo();\n\n\nfunction addModalEntryUI(){\n  // STYLE FOR #validationForm && .entryForm\n\n  var cssBoomBkg =\n    \".gameCanvas{ background-image:url(\" + imgpath + gameBkgPng + \") !important; }\";\n\n  $('#formStyles').append( cssBoomBkg );\n\n  setEntryUi();\n\n}\n\nfunction setEntryUi(){\n  //GAME DIV\n  var teaserPath = \"url(\" + imgpath + \"teaser.png)\";\n  $('#boomCanvas').css('background-image', teaserPath);\n  $('#boomCanvas').fadeIn();\n  if(formOptions.backdrop_opacity != 0){\n    $('#modalBackdrop').show();\n  }\n}\n\nfunction setCanvasUi(){\n  //GAME DIV\n  $('html,body').scrollTop(0); //go to top of page\n  $('#modalBackdrop').remove();\n  if(isWireframe == true){\n    $('.entryForm').remove(); //hide entry form\n  }\n  if(videoWireframe == false)\t{\n    var bkgPath = \"url(\" + imgpath +  gameBkgPng + \")\";\n    $('#boomCanvas').css('background-image', bkgPath );\n    $('#boomCanvas').addClass('gameCanvas');\n  }\n  $('#boomCanvas').show();\n  //init(); //go to mechanic.js\n  var thisChannel = formOptions.form_channel;\n  if(thisChannel == \"none\" && isWireframe ==  true){\n    // init no modal entry\n    //$( \"canvas\" ).delay( 300 ).queue(init);\n    showCanvasOrVideo();\n  }\n  if(thisChannel != \"none\" && isWireframe ==  true){\n    showCanvasOrVideo();\n  }\n\n}\n\nfunction showCanvasOrVideo(){\n\n  switch(videoWireframe) {\n    case true:\n      initVideo();\n      break;\n    default:\n      init();\n    //$( \"canvas\" ).delay( 500 ).queue(init);\n  } // end switch\n\n}\n\nfunction closeEntryUi(){\n  runGameClass();\n\n  if(geoTimer != false){\n    clearInterval(geoTimer);\n    geoTimer = false;\n  }\n\n  $('html,body').scrollTop(0); //go to top of page\n  $('#modalBackdrop').remove();\n  if(isWireframe == true){\n    $('.entryForm').remove(); //hide entry form\n  }\n  //FINAL BUTTON TO CLOSE MODAL...\n\n}\n\n/* ::::::::::: [ CANVAS UI BEGIN ] ::::::::::: */\n/* ::::::::::: [ CANVAS UI BEGIN ] ::::::::::: */\n/* ::::::::::: [ CANVAS UI BEGIN ] ::::::::::: */\n\nfunction runGameClass(){\n  //reset viewport meta\n  $('meta[name=viewport]').attr('content', 'width=device-width, initial-scale=1, maximum-scale=2, minimum-scale=0.5, user-scalable=yes');\n\n  switch(gameclass) {\n    case \"local\":\n      showCanvas();//local or demo not no server comm\n      break;\n    case \"demo\":\n      showCanvas(); //local or demo not no server comm\n      break;\n    case \"test\":\n      runAjax(); //run when test\n      break;\n    case \"live\":\n      runAjax(); //run when live\n      break;\n    default:\n      runAjax(); //run when live\n\n  }//end switch\n\n}\n\nfunction runAjax(){\n  //IF MODAL FORM USED ...\n  if(formsetup[0].modallogin != \"none\"){\n    //AJAX CALL START\n    $.ajax({\n      type: \"POST\",\n      url: formsetup[0].acceptpath,\n      data: $('#validationForm').serialize(),\n      success: function(msg){\n        if (\"winlevel\" in msg) { winlevel = msg.winlevel; }\n        if (\"referral\" in msg) {\n          exitlinks[0].referral = msg.referral;\n          doSocialLinks(); //in social.js\n          showReferral(); //in social.js\n        }\n        showCanvas();\n      },\n      error: function(response){\n        var data = JSON.parse(response.responseText);\n        if (\"error\" in data) {\n          if (data.error == \"coppa\") {\n            window.location.replace(formsetup[0].coppapath); // see build 14 for previous ajax\n          }\n          else {\n            if (\"url\" in data) {\n              window.location.href = data.url;\n            } else {  alert(\"Error: \" + response.text); } //end if/else  // end error func\n          }\n        }\n      }\n    }); //end ajax\n    //END AJAX CALL\n  } else{ showCanvas(); } //end if else\n\n} // end runAjax()\n\nfunction runAjaxUrl(){\n\n  var thisPath;\n  var thisExit = $('#button-url').data('url');\n  //var thisExit = $('#button-submit').data('url');\n\n  switch(pageid) {\n    case \"index\":\n      if( formsetup[0].acceptpath ){ thisPath = formsetup[0].acceptpath };\n      break;\n    case \"fulfillment\":\n      if(formsetup[0].fulfillpath){ thisPath = formsetup[0].fulfillpath };\n      break;\n    default:\n      if( formsetup[0].acceptpath ){ thisPath = formsetup[0].acceptpath };\n  }\n\n  if(gameclass != \"demo\"){\n    //AJAX CALL START\n    $.ajax({\n      type: \"POST\",\n      url: formsetup[0].acceptpath,\n      data: $('#validationForm').serialize(),\n      success: function(msg){\n        window.location.replace(thisExit);\n      },\n      error: function(response){\n        var data = JSON.parse(response.responseText);\n        if (\"url\" in data) {\n          var errorUrl = data.url; //window.location.href = data.url;\n          window.location.replace(errorUrl);\n        } else {  alert(\"Error: \" + response.text); } //end if/else  // end error func\n      }\n    });\n    //END AJAX CALL\n  } else {\n    window.location.replace(thisExit);\n  }// end gameclass if/else\n\n} //  end runAjaxUrl()\n\nfunction showCanvas() {\n  const iFrameMessage = {message: 'cb_navigate', page: 'game'};\n  window.top.postMessage(iFrameMessage, '*');\n  if('parentIFrame' in window) {\n    window.parentIFrame.sendMessage(iFrameMessage);\n  }\n  else {\n    // Bit of defensive coding; with no reg form, this code runs right away.\n    // Could it be before the iFrameResizer initializes? \\_()_/\n    window.iFrameResizer = {\n      onReady: () => window.parentIFrame.sendMessage(iFrameMessage)\n    };\n  }\n\n  if(geoTimer != false){\n    clearInterval(geoTimer);\n    geoTimer = false;\n  }\n\n  if(formsetup[0].modallogin != \"none\" && isWireframe == true){\n    $('#modalBackdrop').remove();\n    $('.entryForm').remove(); //hide entry form\n  }\n  $(\"html, body\").scrollTop(); //go to top of page for game\n  if(coppaChecked){\n    //go to coppa message\n    $('#boomCanvas').hide();\n    window.location.replace(formsetup[0].coppapath);\n  } else {\n    $('#boomCanvas').hide();\n    if(videoWireframe == false){\n      $('#boomCanvas').addClass('gameCanvas');\n    }\n    $('#boomCanvas').fadeIn();\n    //init(); //go to mechanic.js\n    showCanvasOrVideo();\n  }\n}\n\n/* ::::::::::: [ CANVAS UI  END ] ::::::::::: */\n/* ::::::::::: [ CANVAS UI  END ] ::::::::::: */\n/* ::::::::::: [ CANVAS UI  END ] ::::::::::: */\n\n/* :::::::::: [PRELOAD START ] ::::::::::: */\n/* :::::::::: [PRELOAD START ] ::::::::::: */\n/* :::::::::: [PRELOAD START ] ::::::::::: */\n\nvar hasPreload = true;\n\nif(pageSpecs.footerclass != \"specsdata\"){\n  hasPreload = pageSpecs.preloadcanvas;\n}\n\nfunction addPreload(){\n\n  var colorTop = \"#ffffff\"; // formOptions.field_bkg\n  var colorBg = \"#cbcbcb\"; // formOptions.success_icon\n  var preloadTarget = \".gameColumn\" // .videoCanvasWrapper\n  var isThisVideo = version.video;\n\n  if(pageSpecs.footerclass != \"specsdata\"){\n    colorTop = pageSpecs.preloadhextop; // formOptions.field_bkg\n    colorBg = pageSpecs.preloadhexbg; // formOptions.success_icon\n  }\n\n  if(isThisVideo == true){\n    preloadTarget = \".videoCanvasWrapper\"\n  }\n\n  var cssLoader =\n    \".loader180 { \\\n        border: 16px solid \" + colorBg + \"; \\\n\t\t\tborder-top: 16px solid \" + colorTop + \"; \\\n\t\t}\";\n  $('#formStyles').append( cssLoader );\n\n  var thisWidth = version.canvas[0] || 480;\n  var thisHeight = version.canvas[1] || 480;\n\n  if(hasPreload == true){\n    var thisLoader = \"<div id='boomLoader' width='\" + thisWidth + \"' height='\" + thisHeight + \"'><div class='loader180'></div></div>\";\n    $(preloadTarget).prepend(thisLoader);\n  }\n\n  setPreloadSize();\n}\n\nfunction removePreload(){\n  if(hasPreload == true){\n    $( \"#boomLoader\" ).remove();\n  }\n}\n\n$(window).resize(function() {\n  setPreloadSize();\n});\n\nfunction setPreloadSize(){\n  if(pageid == \"index\"){\n    var thisTopMultiply = 0.3;\n    var canvasHeight = $('#boomCanvas').height();\n\n    if(canvasHeight < 90){ // tweak for leaderboard Preview and Video preview\n      thisTopMultiply = 0.15;\n    }\n\n    var thisMarginTop = Math.round(canvasHeight * thisTopMultiply);\n    var thisWidthHeight = Math.round(canvasHeight * .4);\n    var thisBorder = Math.round(canvasHeight * .05);\n    $(\".loader180\").css('margin-top', thisMarginTop ).css('width', thisWidthHeight ).css('height', thisWidthHeight ).css('border-width', thisBorder);\n  }\n}\n\n\n/* :::::::::: [PRELOAD END ] ::::::::::: */\n/* :::::::::: [PRELOAD END ] ::::::::::: */\n/* :::::::::: [PRELOAD END ] ::::::::::: */\n\n/* ::::::::::: [ SET DEVICE INFO START ] ::::::::::: */\n/* ::::::::::: [ SET DEVICE INFO START ] ::::::::::: */\n/* ::::::::::: [ SET DEVICE INFO START ] ::::::::::: */\n\nfunction setDeviceInfo(){\n  // check device type...\n  if(createjs.BrowserDetect.isIOS){ deviceClass = \"ios\" }\n  if(createjs.BrowserDetect.isAndroid){ deviceClass = \"android\" }\n  if(createjs.BrowserDetect.isWindowPhone ){ deviceClass = \"iemobile\" }\n  if(createjs.BrowserDetect.isBlackberry ){ deviceClass = \"blackberry\" }\n\n  if(createjs.BrowserDetect.isFirefox){ browserClass = \"firefox\" }\n  if(createjs.BrowserDetect.isChrome){ browserClass = \"chrome\" }\n\n  var thisUrl = document.location.href;\n  var urlCheck = thisUrl.indexOf(\"?dc=\");\n\n  /* // UPDATE URL WITH deviceClass && browserClass\n  if(urlCheck < 0 && isWireframe == true){\n      document.location.href = thisUrl + \"?dc=\" + deviceClass + \"&bc=\" + browserClass;\n  }\n  */\n\n}\n\n/* ::::::::::: [ SET DEVICE INFO END ] ::::::::::: */\n/* ::::::::::: [ SET DEVICE INFO END ] ::::::::::: */\n/* ::::::::::: [ SET DEVICE INFO END ] ::::::::::: */\n\n\n\n/* :::::::::::: [ DEMO PLACEHOLDER JSON INDEX PAGE ] :::::::::::::: */\n/* :::::::::::: [ DEMO PLACEHOLDER JSON INDEX PAGE ] :::::::::::::: */\nvar demoEntry = {\n  form_channel:\"none\", // \"entry\", \"entry-mobile\", \"none\" \"exit\",\n  form_class:\"entry\", // \"entry\", \"exit\"\n  modallogin:\"none\",\n  form_border:\"#DEDEDE\", // \"#DEDEDE\"\n  form_background:\"#FEFEFE\", // \"#FEFEFE\"\n  form_backdrop:\"#010101\",  // #010101\n  form_text:\"#343434\", // \"#343434\"\n  form_link:\"#337AB7\", // \"#337AB7\"\n  success_icon:\"#CBCBCB\", // \"#CBCBCB\"\n  field_bkg:\"#FFFFFF\", // \"#FFFFFF\"\n  field_error:\"#A74343\", // \"#A74343\"\n  field_cta:\"#9A9A9A\", // \"#9A9A9A\"\n  field_text:\"#343434\", // \"#343434\"\n  field_border:\"#CDCDCD\", // \"#343434\"\n  btn_text:\"#343434\", // \"#343434\"\n  btn_bkg:\"#FFFFFF\", // \"#FFFFFF\"\n  btn_border:\"#CDCDCD\", // \"#343434\"\n  btn_valid:\"glyphicon-ok\", // \"collapse\", \"glyphicon-ok\"\n  border_width:1,\n  border_radius:6,\n  background_opacity:100,\n  backdrop_opacity:0,\n  form_width:335,\n  form_top:100,\n  mobile_top:100,\n  reserved:{\n    required_pin:\"\",\n    player_id:\"\",\n    primary_email:\"\",\n    primary_phone:\"\",\n    guess_entry:\"\",\n    mailbouncemsg:\"\",\n    mailbounceinline:\"\",\n    mailbounceaccept:\"Valid Email\",\n    mailbouncereject:\"Invalid Email\",\n    mailbouncelatency:2000,\n  },\n  api_names:[],\n  form_names:[],\n  form_content:[\n    { // FORM ELEMENT :::::::::\n      id:\"name\",\n      type:\"text\",\n      info:\"Name Input\",\n      success:\"Enter Name\",\n      fail:\"Enter Name *\",\n      utility01:\"collapse\",\n      required:true,\n      api:false,\n      playerid:false,\n      primary:false,\n      align:\"collapse\",\n      ulcfilter:\"user\",\n      mailbounce:\"collapse\",\n      options:[\"collapse\"],\n      range:[0,1,2,3,4,5,6,7,8,9,10],\n    },\n    { // FORM ELEMENT :::::::::\n      id:\"email\",\n      type:\"email\",\n      info:\"Email Input\",\n      success:\"Enter Email\",\n      fail:\"Enter Email *\",\n      utility01:\"collapse\",\n      required:true,\n      api:false,\n      playerid:false,\n      primary:false,\n      align:\"collapse\",\n      ulcfilter:\"user\",\n      mailbounce:\"none\",\n      options:[\"collapse\"],\n      range:[0,1,2,3,4,5,6,7,8,9,10],\n    },\n    { // FORM ELEMENT :::::::::\n      id:\"button-submit\",\n      type:\"button\",\n      info:\"Submit Button\",\n      success:\"Submit\",\n      fail:\"Form Incomplete\",\n      utility01:\"button-enter\",\n      required:true,\n      api:false,\n      playerid:false,\n      primary:false,\n      align:\"right\",\n      ulcfilter:\"collapse\",\n      mailbounce:\"collapse\",\n      options:[\"collapse\"],\n      range:[0,1,2,3,4,5,6,7,8,9,10],\n    },\n  ] // end formContent node\n};\n\n/* :::::::::::: [ DEMO PLACEHOLDER JSON FULFILLMENT PAGE ] :::::::::::::: */\n/* :::::::::::: [ DEMO PLACEHOLDER JSON FULFILLMENT PAGE ] :::::::::::::: */\n\n/*\n\t\t var demoGpsFormNode =\n\t\t\t { // FORM ELEMENT :::::::::\n\t\t\t\t\t\tid:\"geo-checkbox\",\n\t\t\t\t\t\ttype:\"geo-checkbox-open\",\n\t\t\t\t\t\tinfo:\"GPS Submission (Checkbox Required, any Device)\",\n\t\t\t\t\t\tsuccess:\"I understand I am sharing GPS my location\",\n\t\t\t\t\t\tfail:\"Finding GPS...\",\n\t\t\t\t\t\tutility01:\"Please Use a GPS Enabled Device\",\n\t\t\t\t\t\trequired:true,\n\t\t\t\t\t\tapi:false,\n\t\t\t\t\t\tplayerid:false,\n\t\t\t\t\t\talign:\"collapse\",\n\t\t\t\t\t\toptions:[\"collapse\"], // \"32.7837326|-96.7811817|0.0005\",\n\t\t\t\t\t\trange:[0,1,2,3,4,5,6,7,8,9,10],\n\t\t\t\t\t},\n\t\t\t\t\t*/\n/* :::::::::: [ SAMPLE CSS ] :::::::::::: */\n/*\n<style id=\"formStyles\">\n\n.boomForm{\n    border-color:#DEDEDE !important;\n    background-color:#FEFEFE !important;\n    color:#343434 !important;\n}\n\n.boomForm input, .boomForm textarea, .boomForm select{\n    border-color:#DEDEDE !important;\n    background-color:#FFFFFF !important;\n    color:#343434 !important;\n}\n\n.boomForm ::-webkit-input-placeholder {\n    color:#9A9A9A !important;\n}\n\n.boomForm ::-moz-placeholder {\n    color:#9A9A9A !important;\n}\n\n.boomForm ::-ms-placeholder {\n    color:#9A9A9A !important;\n}\n\n.boomForm button:disabled {\n    border-color:#DEDEDE !important;\n    background-color:#FFFFFF !important;\n    color:#DEDEDE !important;\n}\n\n.boomForm button {\n    border-color:#DEDEDE !important;\n    background-color:#FFFFFF !important;\n    color:#343434 !important;\n}\n\n.boomForm button .glyphicon-ok{\n    color:#343434 !important;\n}\n\n.text-danger{\n    color:#A74343 !important;\n}\n\n.has-error input{\n    color:#A74343 !important;\n    border-color:#A74343  !important;\n}\n\n.boomForm .glyphicon-remove{\n    color:#A74343 !important;\n}\n\n.boomForm hr{\n    border-color:#DEDEDE !important;\n}\n\n.boomForm .glyphicon-ok{\n    color:#CBCBCB !important;\n}\n\n.boomForm a{\n    color:#337AB7 !important;\n}\n\n</style>*/\n\n\n//# sourceURL=webpack://wireframes/./src/pages/Fulfillment/crutch/form_styler.js?");

/***/ }),

/***/ "./src/pages/Fulfillment/crutch/form_validation.js":
/*!*********************************************************!*\
  !*** ./src/pages/Fulfillment/crutch/form_validation.js ***!
  \*********************************************************/
/***/ (() => {

eval("// appended to bottom of form_generator.js\n\n//# sourceURL=webpack://wireframes/./src/pages/Fulfillment/crutch/form_validation.js?");

/***/ }),

/***/ "./src/pages/Fulfillment/crutch/fulfillment.js":
/*!*****************************************************!*\
  !*** ./src/pages/Fulfillment/crutch/fulfillment.js ***!
  \*****************************************************/
/***/ (() => {

eval("// JavaScript Document\n\nvar redeemList = [\n  \"redeem_loss0.png\",\n  \"redeem_win1.png\",\n  \"redeem_win2.png\",\n  \"redeem_win3.png\",\n  \"redeem_win4.png\",\n  \"redeem_win5.png\",\n  \"redeem_win6.png\",\n  \"redeem_win7.png\",\n  \"redeem_win8.png\",\n  \"redeem_win9.png\",\n  \"redeem_win10.png\",\n];\n\nwriteContent();\n\nfunction writeContent(){\n\n  if(exitlevel> 10){ makeRedeemNames() }; // add graphic names if over 10\n\n  var thisImage = imgpath + redeemList[exitlevel];\n  $('#formPrize').attr('src', thisImage);\n\n} // end writeContent()\n\nfunction makeRedeemNames(){\n  // add graphic names if over 10\n  for ( var q = 0; q < 100; q++) {\n    if(q > 10){\n      var thisName = \"redeem_win\" + q + \".png\";\n      redeemList.push(thisName);\n    } // end if\n  } // end for\n\n} // makeRedeemNames\n\n\n//# sourceURL=webpack://wireframes/./src/pages/Fulfillment/crutch/fulfillment.js?");

/***/ }),

/***/ "./src/pages/Fulfillment/crutch/index.js":
/*!***********************************************!*\
  !*** ./src/pages/Fulfillment/crutch/index.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _fulfillment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fulfillment */ \"./src/pages/Fulfillment/crutch/fulfillment.js\");\n/* harmony import */ var _fulfillment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_fulfillment__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _form_styler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./form_styler */ \"./src/pages/Fulfillment/crutch/form_styler.js\");\n/* harmony import */ var _form_styler__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_form_styler__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _form_generator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./form_generator */ \"./src/pages/Fulfillment/crutch/form_generator.js\");\n/* harmony import */ var _form_generator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_form_generator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _form_validation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./form_validation */ \"./src/pages/Fulfillment/crutch/form_validation.js\");\n/* harmony import */ var _form_validation__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_form_validation__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _page_styler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./page_styler */ \"./src/pages/Fulfillment/crutch/page_styler.js\");\n/* harmony import */ var _page_styler__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_page_styler__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\n\n//# sourceURL=webpack://wireframes/./src/pages/Fulfillment/crutch/index.js?");

/***/ }),

/***/ "./src/pages/Fulfillment/crutch/page_styler.js":
/*!*****************************************************!*\
  !*** ./src/pages/Fulfillment/crutch/page_styler.js ***!
  \*****************************************************/
/***/ (() => {

eval("/* ::::::::::: [ PAGE SPECS START ] ::::::::::: */\n/* ::::::::::: [ PAGE SPECS START ] ::::::::::: */\n\nvar pageSpecsSource = {\n  source:\"wireframe\", // \"wireframe\", \"admin\"\n  footerclass:\"none\",  //pageSpecs.footerclass = \"none\", \"content\", \"under-backdrop\", \"under-form\", \"over-page\"\n  footertop:0,  //  default = 0\n  footerradius:0, //  default = 0\n  footercolor:\"#000000\",\n  footeropacity:0,\n  footerrgba:\"rgba(0,0,0,0)\",\n  footerstrokecolor:\"#000000\", // \"#000000\"\n  footerstroke:0, // 0\n  footerlink:\"#FFFFFF\",\n  footertext:\"#FFFFFF\",\n  footerrules:\"Promotion Rules\",\n  footerprivacy:\"Privacy Policy\",\n  footerp:\"none\",\n  footerptext:11, // defautl = 11\n  footerlegaltext:11, // defautl = 11\n  boomrulesprivacy:true,\n  boomrights:true,\n  footerplaycode:\"none\", //\"none\", \"footer\", \"content\"\n  footerplaysize:11, //\n  footerplaycolor:\"#FFFFFF\", //\n  footerplayprefix:\"Game ID: \", //\n  preloadcanvas:true,\n  preloadhextop:\"#ffffff\", //\"#ffffff\"\n  preloadhexbg:\"#cbcbcb\", // \"#cbcbcb\"\n};\n\nvar footerSource = \"<div class='brandFooter text-center'> \\\n\t\t\t\t\t\t<ul id='footerLegal' class='list-inline center-block'> \\\n\t\t\t\t\t\t\t<li><a class='footerRules rulesLink' href='#'>Promotion Rules</a></li> \\\n\t\t\t\t\t\t\t<li><a class='footerPrivacy privacyLink' href='#'>Privacy Policy</a></li> \\\n\t\t\t\t\t\t</ul> \\\n\t\t\t\t\t\t<p id='cataboomRights'>&#169; CataBoom Technologies, LLC. All Rights Reserved.</p> \\\n\t\t\t\t\t</div>\";\n\n/* ::::::::::: [ PAGE SPECS END ] ::::::::::: */\n/* ::::::::::: [ PAGE SPECS END ] ::::::::::: */\n\nvar isIframe = false;\nvar gameEngaged = false;\nvar isLivePage = true;\n\n// TODO: Not happy, bob\nif(!version.canvas && cb && cb.utils && cb.utils.ensureSynchronousConfig)\n  cb.utils.ensureSynchronousConfig().then(stylePages)\nelse {\n  stylePages();\n}\n\nfunction stylePages(){\n\n  if (top.location != self.location) {\n    isIframe = true;\n  }\n\n  var thisUrl = window.location.href;\n  var isFile = thisUrl.match( /file:/ );\n  if(isFile == \"file:\"){\n    isLivePage = false;\n    exitlinks[0].playcode = ( new Date().getTime() ) + \"-LOCALDEMO\";\n  }\n\n  switch(pageid) {\n    case \"index\":\n      styleIndex();\n      break;\n    default:\n      pageid = pageid;\n  }\n\n  addPageSpecs();\n\n}\n\n/* ::::::::::: [ STYLE INDEX PAGE START] ::::::::::: */\n/* ::::::::::: [ STYLE INDEX PAGE START] ::::::::::: */\n\nfunction styleIndex(){\n  // FORMAT INDEX FOR iFRAME....\n  if (isIframe == true) { // format index for iFrame\n    $('body').css('overflow', 'hidden');\n    $('.brandFooter').css('padding', '0.3em 0px 0.3em 0px');\n    $('.brandFooter').css('height', '2em');\n    $('.brandFooter').css('font-size', '1em');\n    $('#cataboomRights').css('display', 'none');\n  }\n  if(isIframe == true && version.scenario == \"banner\" ){\n    $('#indexMasthead').css('display', 'none');\n    if(version.canvas[0] == 514 && version.canvas[1]== 428 ){\n      $('body').css('background-size', '300px 250px');\n    }\n    if(version.canvas[0] == 728 && version.canvas[1]== 90 ){\n      $('body').css('background-size', '728px 90px');\n    }\n    $('#promoRow').addClass('collapse');\n  }\n  showPromos();\n\n}\n\nfunction showPromos(){\n\n  var promoList = [\"#arryBlankSpace\", \"#promo01\", \"#promo02\", \"#promo03\", \"#promo04\"];\n  var promoImgList = [\"#arryBlankSpace\", \"#promo01img\", \"#promo02img\", \"#promo03img\", \"#promo04img\"];\n\n  if(promoCount == 0){\n    $('#promoRow').addClass('collapse');\n  }\n\n  for (i = 0; i < promoList.length; i++) {\n    //HIDE PROMOS THAT ARE NOT OFFERED\n    if(i > promoCount){\n      $(promoList[i]).hide();\n    }\n    if(i <= promoCount && i != 0){\n      var thisImage = imgpath + \"promoicon0\" + i + \".png\";\n      $(promoImgList[i]).attr(\"src\", thisImage);\n    }\n  }\n\n  var thisImage = imgpath + \"promoicon01.png\";\n  $(\"#promo01img\").attr(\"src\", thisImage);\n\n}\n\n/* ::::::::::: [ STYLE INDEX PAGE END] ::::::::::: */\n/* ::::::::::: [ STYLE INDEX PAGE END] ::::::::::: */\n\n\n/* ::::::::::: [ ENGAGEMENT START ] ::::::::::: */\n/* ::::::::::: [ ENGAGEMENT START ] ::::::::::: */\n\nfunction logEngagement(note){\n\n  if(gameEngaged && gameEngaged == false){ gameEngaged = true }\n\n  if(exitlinks[0].engagepath != \"none\"){\n\n    var engagespecs = {\n      event:note,\n    };\n\n    $.ajax({\n      type: \"POST\",\n      url: exitlinks[0].engagepath,\n      data: JSON.stringify(engagespecs),\n      contentType: \"application/json; charset=utf-8\",\n      error: function(response){\n        console.log('logEngagement error ' + note);\n      }\n    });\n\n  } // end if none\n\n} // end logEngagement()\n\n/* ::::::::::: [ ENGAGEMENT END ] ::::::::::: */\n/* ::::::::::: [ ENGAGEMENT END ] ::::::::::: */\n\n/* ::::::::::: [ FOOTER SPECS START ] ::::::::::: */\n/* ::::::::::: [ FOOTER SPECS START ] ::::::::::: */\n\nfunction addPageSpecs(){\n\n  if( pageid == \"index\"){\n\n    var thisSpecJson = pageSpecs[\"footerclass\"];\n\n    if(thisSpecJson == \"specsdata\"){\n      pageSpecs = pageSpecsSource;\n    } // end if thisSpecJson\n\n    if(pageSpecs.footerclass != \"none\"){\n      formatFooter();\n    } else{\n      $(\".rulesLink\").prop(\"href\", exitlinks[0].rules).prop(\"target\", \"_blank\");\n      $(\".privacyLink\").prop(\"href\", exitlinks[0].privacy).prop(\"target\", \"_blank\");\n    }\n\n  } // end\n\n  if( pageid == \"pin\" || pageid == \"message\" || pageid == \"fulfillment\" || pageid == \"overview\" ){\n    //$('body').append( footerSource);\n    var thisSpecJson = pageSpecs[\"footerclass\"];\n    if(thisSpecJson == \"specsdata\"){\n      pageSpecs = pageSpecsSource;\n    } // end if thisSpecJson\n    if(pageSpecs.footerclass != \"none\"){\n      $('body').append( footerSource);\n      formatFooter();\n    }\n  }\n\n  if( pageid == \"index\" ||  pageid == \"pin\" || pageid == \"message\" || pageid == \"fulfillment\" || pageid == \"overview\" ){\n    formatPlayCode();\n    formatFooterTweaks();\n  }\n\n  if(pageid == \"preview\"){\n    $(\".brandFooter\").hide();\n  }\n\n}\n\n\nfunction formatFooter() {\n  if(!pageSpecs.footermaxwidth\n    || (pageSpecs.source == \"admin\"\n      && pageSpecs.footerclass == \"content\"\n      && pageSpecs.footermaxwidth == 640\n      && pageSpecs.footermaxwidth != version.canvas[0])) {\n    pageSpecs.footermaxwidth = version.canvas[0]; // patch for default footer max width if not equal to 640px.\n  }\n\n  var thisFooterClass = pageSpecs.footerclass;\n  var thisMaxWidth = pageSpecs.footermaxwidth + \"px\";\n  var thisTop = pageSpecs.footertop + \"px auto auto auto\";\n  var thisBgColor = pageSpecs.footerrgba;\n  var thisLinkColor = pageSpecs.footerlink;\n  var thisTxtColor = pageSpecs.footertext;\n  var thisRadius = pageSpecs.footerradius + \"px\";\n  var thisBorder = pageSpecs.footerstroke + \"px solid \" + pageSpecs.footerstrokecolor;\n\n\n  $('.brandFooter').css('background-color', thisBgColor);\n  $('.brandFooter a').css('color', thisLinkColor);\n  $('.brandFooter').css('color', thisTxtColor);\n  $('.brandFooter').css('border-radius', thisRadius);\n  $(\".footerRules\").html(pageSpecs.footerrules);\n  $(\".footerPrivacy\").html(pageSpecs.footerprivacy);\n  $('.brandFooter').css('display', 'block');\n\n  if(pageSpecs.footerstroke != 0){\n    $('.brandFooter').css('border', thisBorder);\n  }\n\n  switch(thisFooterClass) {  // \"none\", \"page\", \"content\"\n    case \"under-backdrop\":\n      $(\".brandFooter\").addClass(\"navbar-fixed-bottom\");\n      $('body').css('padding-bottom', \"3em\");\n      $('.brandFooter').css('z-index', \"1030\");\n      break;\n    case \"under-form\":\n      $(\".brandFooter\").addClass(\"navbar-fixed-bottom\");\n      $('body').css('padding-bottom', \"3em\");\n      $('.brandFooter').css('z-index', \"1051\");\n      break;\n    case \"over-page\":\n      $(\".brandFooter\").addClass(\"navbar-fixed-bottom\");\n      $('body').css('padding-bottom', \"3em\");\n      $('.brandFooter').css('z-index', \"1060\");\n      break;\n    case \"content\":\n      $(\".brandFooter\").removeClass(\"navbar-fixed-bottom\");\n      $('.brandFooter').css('max-width', thisMaxWidth);\n      $('.brandFooter').css('margin', thisTop);\n      $('.brandFooter').css('z-index', \"auto\");\n      break;\n    default:\n      $(\".brandFooter\").hide();\n      $('body').css('padding-bottom', \"3em\");\n\n  }\n\n  if(pageSpecs.boomrights == false){\n    $(\"#cataboomRights\").hide();\n  }\n\n  if(pageSpecs.boomrulesprivacy == false){\n    $(\"#footerLegal\").hide();\n  }\n\n  var thisLegalTxtSize = pageSpecs.footerlegaltext + \"px\";\n  $('.brandFooter').css('font-size', thisLegalTxtSize);\n\n  if(pageSpecs.footerp != \"none\"){\n    $( \".brandFooter\" ).prepend( \"<p id='brandFooterP'>\" + pageSpecs.footerp + \"</p>\" );\n    $('.brandFooter').css('height', \"auto\");\n    var thisTextSize = pageSpecs.footerptext + \"px\";\n    $('#brandFooterP').css('font-size', thisTextSize);\n  } // end if pageSpecs\n\n  // BANNER SPECIFIC TWEAKS ...\n  if(isIframe == true){\n    $('.brandFooter').removeClass('navbar-fixed-bottom');\n    $('.brandFooter').css('margin-top', '-2em');\n  }\n\n  $(\".rulesLink\").prop(\"href\", exitlinks[0].rules).prop(\"target\", \"_blank\");\n  $(\".privacyLink\").prop(\"href\", exitlinks[0].privacy).prop(\"target\", \"_blank\");\n\n} // end formatFooter()\n\n/* ::::::::::: [ FOOTER SPECS END ] ::::::::::: */\n/* ::::::::::: [ FOOTER SPECS END ] ::::::::::: */\n\n/* ::::::::::: [ PLAYCODE SPECS START ] ::::::::::: */\n/* ::::::::::: [ PLAYCODE SPECS START ] ::::::::::: */\n\nfunction formatPlayCode(){\n\n  var thisPlayCodeSize = pageSpecs.footerplaysize  + \"px\";\n  var thisPlayCodeColor = pageSpecs.footerplaycolor;\n  var thisPlayCodePrefix = pageSpecs.footerplayprefix;\n  var thisPlayCode = thisPlayCodePrefix + exitlinks[0].playcode;\n\n  if(exitlinks[0].playcode == \"none\" || exitlinks[0].playcode.length < 1){ // turn off if no playcode\n    pageSpecs.footerplaycode = \"none\";\n  }\n\n  if(pageSpecs.footerplaycode == \"footer\" && pageid != \"pin\"){\n    $( \".brandFooter\" ).append( \"<p id='playcodeFooter'>\" + thisPlayCode + \"</p>\" );\n    $( \"#playcodeFooter\" ).css('font-size', thisPlayCodeSize);\n    $( \"#playcodeFooter\" ).css('color', thisPlayCodeColor);\n  }\n\n  if(pageSpecs.footerplaycode == \"content\" && pageid != \"pin\"){\n\n    switch(pageid) {\n      case \"index\":\n        $( \".gameColumn\" ).append( \"<p id='playcodeContent' class='text-center'>\" + thisPlayCode + \"</p>\" );\n        break;\n      case \"fulfillment\":\n        $( \".messageColumn\" ).append( \"<p id='playcodeContent' class='text-center'>\" + thisPlayCode + \"</p>\" );\n        break;\n      case \"message\":\n        $( \"#messageRow\" ).append( \"<p id='playcodeContent' class='text-center'>\" + thisPlayCode + \"</p>\" );\n        break;\n      default:\n        pageid = pageid;\n    }\n\n    $( \"#playcodeContent\" ).css('font-size', thisPlayCodeSize);\n    $( \"#playcodeContent\" ).css('color', thisPlayCodeColor);\n  }\n\n} // end formatPlayCode()\n\n/* ::::::::::: [ PLAYCODE SPECS END ] ::::::::::: */\n/* ::::::::::: [ PLAYCODE SPECS END ] ::::::::::: */\n\nfunction formatFooterTweaks(){\n  // banner scenario fixes\n  if(version.scenario == \"banner\" && isIframe == true && pageid == \"index\" && pageSpecs.footerclass != \"none\"   ){\n    $(\"#brandFooterP\").remove();\n    $(\"#cataboomRights\").remove();\n    $(\"#playcodeFooter\").remove();\n    if(pageSpecs.footerclass == \"content\"){\n      $(\".brandFooter\").addClass(\"navbar-fixed-bottom\");\n      $('.brandFooter').css('max-width', \"100%\");\n    }\n  } // end banner scenario\n\n  // padding page bottom fixes\n  if(pageSpecs.footerclass != \"content\" && pageSpecs.footerclass != \"none\" && isIframe == false && version.scenario != \"banner\"  ){\n    var thisHeight = $(\".brandFooter\").outerHeight();\n    var thisSpec = thisHeight + \"px\"\n    $('body').css('padding-bottom', thisSpec);\n  } // end if thisFooterclass\n}\n\n\n//# sourceURL=webpack://wireframes/./src/pages/Fulfillment/crutch/page_styler.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/pages/Fulfillment/index.jsx");
/******/ 	
/******/ })()
;