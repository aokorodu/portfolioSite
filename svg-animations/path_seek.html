<!DOCTYPE html>
<html lang="en">

<head>
    <title>smooth cubic command</title>
    <link rel="stylesheet" href="../css/main-svg.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
</head>

<body>
    <div class="title-holder">
        <div class="info-holder">
            <div class="title">Squigs</div>
        </div>
    </div>
    <div class="content-holder">
        <div class="section-holder">
            <div class="svg-holder">

                <svg width="500" height="500" viewbox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <g id="ud">
                            <g clip-path="url(#clip0_608_568)">
                                <rect width="100" height="100" stroke="none" />

                                <line x1="40" y1="2.18557e-08" x2="40" y2="100" />

                                <line x1="30" y1="2.18557e-08" x2="30" y2="100" />

                                <line x1="20" y1="2.18557e-08" x2="20" y2="100" />

                                <line x1="10" y1="2.18557e-08" x2="10" y2="100" />

                                <line y1="2.18557e-08" x2="-4.37114e-06" y2="100" />

                                <line x1="90" y1="2.18557e-08" x2="90" y2="100" />

                                <line x1="80" y1="2.18557e-08" x2="80" y2="100" />

                                <line x1="70" y1="2.18557e-08" x2="70" y2="100" />

                                <line x1="60" y1="2.18557e-08" x2="60" y2="100" />

                                <line x1="50" y1="2.18557e-08" x2="50" y2="100" />
                                <line x1="100" y1="2.18557e-08" x2="100" y2="100" />
                            </g>
                        </g>
                        <g id="du">
                            <g clip-path="url(#clip0_608_568)">
                                <rect width="100" height="100" stroke="none" />

                                <line x1="40" y1="2.18557e-08" x2="40" y2="100" />

                                <line x1="30" y1="2.18557e-08" x2="30" y2="100" />

                                <line x1="20" y1="2.18557e-08" x2="20" y2="100" />

                                <line x1="10" y1="2.18557e-08" x2="10" y2="100" />

                                <line y1="2.18557e-08" x2="-4.37114e-06" y2="100" />

                                <line x1="90" y1="2.18557e-08" x2="90" y2="100" />

                                <line x1="80" y1="2.18557e-08" x2="80" y2="100" />

                                <line x1="70" y1="2.18557e-08" x2="70" y2="100" />

                                <line x1="60" y1="2.18557e-08" x2="60" y2="100" />

                                <line x1="50" y1="2.18557e-08" x2="50" y2="100" />
                                <line x1="100" y1="2.18557e-08" x2="100" y2="100" />
                            </g>
                        </g>
                        <g id="lr">
                            <g clip-path="url(#clip0_608_594)">
                                <rect stroke="none" width="100" height="100" transform="matrix(0 -1 1 0 0 100)" />

                                <line x1="2.18557e-08" y1="60" x2="100" y2="60" />

                                <line x1="2.18557e-08" y1="70" x2="100" y2="70" />

                                <line x1="2.18557e-08" y1="80" x2="100" y2="80" />

                                <line x1="2.18557e-08" y1="90" x2="100" y2="90" />

                                <line x1="2.18557e-08" y1="100" x2="100" y2="100" />

                                <line x1="2.18557e-08" y1="10" x2="100" y2="10" />

                                <line x1="2.18557e-08" y1="20" x2="100" y2="20" />

                                <line x1="2.18557e-08" y1="30" x2="100" y2="30" />

                                <line x1="2.18557e-08" y1="40" x2="100" y2="40" />

                                <line x1="2.18557e-08" y1="50" x2="100" y2="50" />
                                <line x1="2.18557e-08" x2="100" y2="4.37114e-06" />
                            </g>

                        </g>
                        <g id="rl">
                            <g clip-path="url(#clip0_608_594)">
                                <rect stroke="none" width="100" height="100" transform="matrix(0 -1 1 0 0 100)" />

                                <line x1="2.18557e-08" y1="60" x2="100" y2="60" />

                                <line x1="2.18557e-08" y1="70" x2="100" y2="70" />

                                <line x1="2.18557e-08" y1="80" x2="100" y2="80" />

                                <line x1="2.18557e-08" y1="90" x2="100" y2="90" />

                                <line x1="2.18557e-08" y1="100" x2="100" y2="100" />

                                <line x1="2.18557e-08" y1="10" x2="100" y2="10" />

                                <line x1="2.18557e-08" y1="20" x2="100" y2="20" />

                                <line x1="2.18557e-08" y1="30" x2="100" y2="30" />

                                <line x1="2.18557e-08" y1="40" x2="100" y2="40" />

                                <line x1="2.18557e-08" y1="50" x2="100" y2="50" />
                                <line x1="2.18557e-08" x2="100" y2="4.37114e-06" />
                            </g>
                        </g>
                        <g id="ur">
                            <g clip-path="url(#clip0_608_441)">
                                <circle cx="100" r="100" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="90" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="80" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="70" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="60" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="50" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="40" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="30" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="20" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="10" transform="rotate(-90 100 0)" />

                            </g>
                        </g>
                        <g id="ru">
                            <g clip-path="url(#clip0_608_441)">
                                <circle cx="100" r="100" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="90" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="80" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="70" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="60" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="50" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="40" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="30" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="20" transform="rotate(-90 100 0)" />

                                <circle cx="100" r="10" transform="rotate(-90 100 0)" />

                            </g>
                        </g>
                        <g id="ul">
                            <g clip-path="url(#clip0_608_504)">
                                <circle r="100" transform="rotate(180)" />

                                <circle r="90" transform="rotate(180)" />

                                <circle r="80" transform="rotate(180)" />

                                <circle r="70" transform="rotate(180)" />

                                <circle r="60" transform="rotate(180)" />

                                <circle r="50" transform="rotate(180)" />

                                <circle r="40" transform="rotate(180)" />

                                <circle r="30" transform="rotate(180)" />

                                <circle r="20" transform="rotate(180)" />

                                <circle r="10" transform="rotate(180)" />

                            </g>>
                        </g>
                        <g id="lu">
                            <g clip-path="url(#clip0_608_504)">
                                <circle r="100" transform="rotate(180)" />

                                <circle r="90" transform="rotate(180)" />

                                <circle r="80" transform="rotate(180)" />

                                <circle r="70" transform="rotate(180)" />

                                <circle r="60" transform="rotate(180)" />

                                <circle r="50" transform="rotate(180)" />

                                <circle r="40" transform="rotate(180)" />

                                <circle r="30" transform="rotate(180)" />

                                <circle r="20" transform="rotate(180)" />

                                <circle r="10" transform="rotate(180)" />

                            </g>
                        </g>
                        <g id="dr">
                            <g clip-path="url(#clip0_608_8)">
                                <circle cx="100" cy="100" r="100" />

                                <circle cx="100" cy="100" r="90" />

                                <circle cx="100" cy="100" r="80" />

                                <circle cx="100" cy="100" r="70" />

                                <circle cx="100" cy="100" r="60" />

                                <circle cx="100" cy="100" r="50" />

                                <circle cx="100" cy="100" r="40" />

                                <circle cx="100" cy="100" r="30" />

                                <circle cx="100" cy="100" r="20" />

                                <circle cx="100" cy="100" r="10" />
                                <circle cx="100" cy="100" r="5" />
                            </g>
                        </g>
                        <g id="rd">
                            <g clip-path="url(#clip0_608_8)">
                                <circle cx="100" cy="100" r="100" />

                                <circle cx="100" cy="100" r="90" />

                                <circle cx="100" cy="100" r="80" />

                                <circle cx="100" cy="100" r="70" />

                                <circle cx="100" cy="100" r="60" />

                                <circle cx="100" cy="100" r="50" />

                                <circle cx="100" cy="100" r="40" />

                                <circle cx="100" cy="100" r="30" />

                                <circle cx="100" cy="100" r="20" />

                                <circle cx="100" cy="100" r="10" />
                                <circle cx="100" cy="100" r="5" />
                            </g>
                        </g>
                        <g id="dl">
                            <g clip-path="url(#clip0_608_536)" j>
                                <circle cx="100" cy="100" r="100" transform="matrix(-1 0 0 1 100 0)" />

                                <circle cx="90" cy="90" r="90" transform="matrix(-1 0 0 1 90 10)" />

                                <circle cx="80" cy="80" r="80" transform="matrix(-1 0 0 1 80 20)" />

                                <circle cx="70" cy="70" r="70" transform="matrix(-1 0 0 1 70 30)" />

                                <circle cx="60" cy="60" r="60" transform="matrix(-1 0 0 1 60 40)" />

                                <circle cx="50" cy="50" r="50" transform="matrix(-1 0 0 1 50 50)" />

                                <circle cx="40" cy="40" r="40" transform="matrix(-1 0 0 1 40 60)" />

                                <circle cx="30" cy="30" r="30" transform="matrix(-1 0 0 1 30 70)" />

                                <circle cx="20" cy="20" r="20" transform="matrix(-1 0 0 1 20 80)" />

                                <circle cx="10" cy="10" r="10" transform="matrix(-1 0 0 1 10 90)" />

                            </g>
                        </g>
                        <g id="ld">
                            <g clip-path="url(#clip0_608_536)" j>
                                <circle cx="100" cy="100" r="100" transform="matrix(-1 0 0 1 100 0)" />

                                <circle cx="90" cy="90" r="90" transform="matrix(-1 0 0 1 90 10)" />

                                <circle cx="80" cy="80" r="80" transform="matrix(-1 0 0 1 80 20)" />

                                <circle cx="70" cy="70" r="70" transform="matrix(-1 0 0 1 70 30)" />

                                <circle cx="60" cy="60" r="60" transform="matrix(-1 0 0 1 60 40)" />

                                <circle cx="50" cy="50" r="50" transform="matrix(-1 0 0 1 50 50)" />

                                <circle cx="40" cy="40" r="40" transform="matrix(-1 0 0 1 40 60)" />

                                <circle cx="30" cy="30" r="30" transform="matrix(-1 0 0 1 30 70)" />

                                <circle cx="20" cy="20" r="20" transform="matrix(-1 0 0 1 20 80)" />

                                <circle cx="10" cy="10" r="10" transform="matrix(-1 0 0 1 10 90)" />

                            </g>
                        </g>

                        <clipPath id="clip0_608_536">
                            <rect width="100" height="100" transform="matrix(-1 0 0 1 100 0)" />
                        </clipPath>
                    </defs>
                    <rect id="bg" x="0" y="0" width="1000" height="1000" fill="#FFFFFF" />

                    <g id="holder">
                    </g>
                    <g id="peace" stroke="green" stroke-width="6">
                        
                        
                    </g>

                </svg>


            </div>
        </div>
    </div>
</body>
<script>
    const svg = document.querySelector("svg");
    const holder = document.querySelector("#holder");
    const peace = document.querySelector("#peace")
    const namespace = "http://www.w3.org/2000/svg"
    const w = 1000;
    const h = 1000;
    const rows = 10;
    const cols = 10;
    const colWidth = w / cols;
    const rowHeight = h / rows;
    const directions = ["u", "d", "l", "r"];
    const position = { "row": 0, "column": 0 }

    const total = 800;
    let startDir = "u";

    const fillHue = `hsl(${Math.random() * 360}, 50%, 80%)`;
    const strokeHue = `hsl(${Math.random() * 360}, 50%, 20%)`;
    const strokeWidth = Math.ceil(Math.random() * 6);
    peace.setAttribute("stroke", "rgb(24, 24, 24)")

    for (let i = 0; i < total; i++) {
        let availDirections = directions;
        if (position.row == 0) {
            availDirections = availDirections.filter(dir => dir != "u");
            //console.log('newDir ', newDir)
        }

        if (position.row == rows - 1) {
            availDirections = availDirections.filter(dir => dir != "d")
        }

        if (position.column == 0) {
            availDirections = availDirections.filter(dir => dir != "l")
        }

        if (position.column == cols - 1) {
            availDirections = availDirections.filter(dir => dir != "r")
        }

        availDirections = availDirections.filter(dir => dir != startDir);

        const rnd = Math.floor(Math.random() * availDirections.length)
        const endDir = availDirections[rnd];
        console.log('startDir: ', startDir);
        console.log('endDir: ', endDir);
        console.log('------------')
        const id = `${startDir}${endDir}`;
        let rndHue = Math.round(Math.random() * 100);
        let color = `hsl(${rndHue}, 50, 50)`
        let block = document.createElementNS(namespace, "use");
        block.setAttribute('href', `#${id}`);
        block.setAttribute('x', `${position.column * colWidth}`);
        block.setAttribute('y', `${position.row * rowHeight}`);
        block.setAttribute('stroke', strokeHue);
        block.setAttribute('stroke-width', strokeWidth);
        block.setAttribute('fill', fillHue);
        holder.appendChild(block);

        if (endDir == "d") {
            position.row++;
            startDir = "u"
        }
        if (endDir == "u") {
            position.row--;
            startDir = "d"
        }
        if (endDir == "r") { position.column++; startDir = "l" }
        if (endDir == "l") { position.column--; startDir = "r" }



    }


</script>

</html>